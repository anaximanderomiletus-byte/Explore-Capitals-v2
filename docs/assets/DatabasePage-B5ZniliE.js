import{c as k,r as o,u as $,a as D,j as e,S as P,T as V,B as O,M as _,C as H}from"./index-DEZpr8xu.js";import{G as L}from"./globe-CLNJzqTc.js";import{S as R}from"./search-CG6ThZOI.js";import{T as F,D as B}from"./deFacto-LJMPdBS2.js";import{M as U,L as G}from"./maximize-2-LXAJEDu5.js";/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],K=k("arrow-down",q);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],Y=k("arrow-up-down",W);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],M=k("arrow-up",J);function Q(s,n){const[i,t]=o.useState(s);return o.useEffect(()=>{const c=setTimeout(()=>{t(s)},n);return()=>clearTimeout(c)},[s,n]),i}const p=o.memo(({label:s,field:n,align:i="left",sortConfig:t,onSort:c})=>{const r=(t==null?void 0:t.key)===n,x=(t==null?void 0:t.direction)==="asc";return e.jsx("th",{className:`px-6 py-4 cursor-pointer hover:bg-white/5 transition-colors group select-none ${i==="right"?"text-right":"text-left"} whitespace-nowrap`,onClick:()=>c(n),children:e.jsxs("div",{className:`flex items-center gap-3 ${i==="right"?"justify-end":"justify-start"}`,children:[e.jsx("span",{className:`font-black text-[9px] uppercase tracking-[0.2em] transition-colors ${r?"text-white/80":"text-white/60 group-hover:text-white/80"}`,children:s}),e.jsx("span",{className:`transition-opacity ${r?"opacity-100 text-white/80":"opacity-0 group-hover:opacity-50 text-white/20"}`,children:r?x?e.jsx(M,{size:12}):e.jsx(K,{size:12}):e.jsx(Y,{size:12})})]})})});p.displayName="SortHeader";const N=new Map,X=s=>{if(N.has(s))return N.get(s);const n=Array.from(s).map(i=>String.fromCharCode(i.codePointAt(0)-127397).toLowerCase()).join("");return N.set(s,n),n},S=o.memo(({country:s,size:n})=>{const[i,t]=o.useState(!1),[c,r]=o.useState(!1),x=o.useRef(null),a=X(s.flag),h=n==="small"?"w-10":"w-16",u=n==="small"?"h-7":"h-11";return o.useEffect(()=>{const m=new IntersectionObserver(([d])=>{d.isIntersecting&&(t(!0),m.disconnect())},{rootMargin:"100px",threshold:0});return x.current&&m.observe(x.current),()=>m.disconnect()},[]),e.jsx("div",{ref:x,className:`${h} ${u} flex items-center justify-center bg-white/5 rounded`,children:i&&e.jsx("img",{src:`https://flagcdn.com/w80/${a}.png`,alt:`${s.name} Flag`,className:`w-full h-full object-contain transition-opacity duration-300 ${c?"opacity-100":"opacity-0"}`,loading:"lazy",decoding:"async",onLoad:()=>r(!0)})})});S.displayName="LazyFlagIcon";const f=o.memo(({country:s,onClick:n,hoverColor:i="hover:bg-white/25",showSovereignty:t=!1,sovereignty:c,titleColor:r="group-hover/row:text-sky-light"})=>e.jsxs("tr",{onClick:n,className:`group/row ${i} transition-colors duration-200 cursor-pointer`,children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"shrink-0",children:e.jsx(S,{country:s,size:"small"})}),e.jsx("span",{className:`font-bold text-sm text-white/90 uppercase tracking-tighter ${r} transition-colors`,children:s.name})]})}),t&&e.jsx("td",{className:"px-6 py-4 text-[9px] font-bold text-accent uppercase tracking-[0.2em]",children:c}),e.jsx("td",{className:"px-6 py-4 text-[10px] font-bold uppercase tracking-[0.2em] text-white/60 group-hover/row:text-white transition-colors",children:s.capital}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:"inline-flex items-center px-4 py-1.5 rounded-full text-[9px] font-black uppercase tracking-[0.2em] bg-sky/30 text-white border border-white/40 whitespace-nowrap",children:s.region})}),e.jsx("td",{className:"px-6 py-4 text-xs font-bold text-white/80 tabular-nums text-right group-hover/row:text-white transition-colors",children:s.population}),!t&&e.jsx("td",{className:"px-6 py-4 text-xs font-bold text-white/80 tabular-nums text-right group-hover/row:text-white transition-colors",children:s.area})]}));f.displayName="TableRow";const T=o.memo(({country:s,onClick:n,isTerritory:i,isDeFacto:t,sovereignty:c})=>{let r="text-white";return i&&(r="text-accent"),t&&(r="text-warning"),e.jsxs("div",{onClick:n,className:"bg-white/10 p-6 rounded-2xl border border-white/40 transition-colors hover:bg-white/15 cursor-pointer flex flex-col overflow-hidden relative",children:[e.jsxs("div",{className:"flex items-start justify-between mb-6 relative z-10",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(S,{country:s,size:"card"})}),e.jsxs("div",{children:[e.jsx("h3",{className:`font-black text-lg uppercase tracking-tighter leading-none mb-1.5 ${r}`,children:s.name}),e.jsx("div",{className:"text-[9px] font-black uppercase tracking-[0.2em] text-white/40",children:s.capital}),(i||t)&&e.jsxs("div",{className:"text-[8px] font-black uppercase tracking-[0.2em] text-primary mt-2 flex items-center gap-1.5",children:[e.jsx("div",{className:"w-1 h-1 rounded-full bg-primary"}),c||"Limited Recognition"]})]})]}),e.jsx("div",{className:"w-8 h-8 rounded-full bg-white/5 flex items-center justify-center text-white/20 border border-white/10",children:e.jsx(H,{size:18})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-6 relative z-10",children:[e.jsxs("div",{className:"bg-white/5 p-3 rounded-xl border border-white/10",children:[e.jsx("div",{className:"text-[8px] text-white/30 uppercase font-black tracking-[0.2em] mb-1",children:"Population"}),e.jsx("div",{className:"text-sm font-black text-white/80 tracking-tight",children:s.population})]}),e.jsxs("div",{className:"bg-white/5 p-3 rounded-xl border border-white/10",children:[e.jsxs("div",{className:"text-[8px] text-white/30 uppercase font-black tracking-[0.2em] mb-1 flex items-center gap-1.5",children:[e.jsx(U,{size:10})," Area"]}),e.jsx("div",{className:"text-sm font-black text-white/80 tracking-tight",children:s.area})]})]}),e.jsx("div",{className:"flex flex-wrap gap-1.5 pt-4 border-t border-white/10 relative z-10",children:s.languages.slice(0,3).map((x,a)=>e.jsxs("span",{className:"text-[8px] font-black uppercase tracking-[0.15em] px-3 py-1.5 bg-white/5 text-white/40 rounded-full flex items-center gap-1.5 border border-white/10",children:[e.jsx(G,{size:10,className:"opacity-50"})," ",x]},a))})]})});T.displayName="MobileCountryCard";const j=o.memo(({items:s,onItemClick:n,isTerritory:i,isDeFacto:t,getSovereignty:c})=>{const[r,x]=o.useState({start:0,end:20}),a=o.useRef(null);o.useEffect(()=>{const d=()=>{if(!a.current)return;const w=window.scrollY,b=window.innerHeight,l=a.current.offsetTop,g=220,v=window.innerWidth>=768?2:1,C=g,E=Math.ceil(b/C)+2,z=Math.max(0,Math.floor((w-l)/C)-1),A=Math.max(0,z*v),I=Math.min(s.length,(z+E)*v+v);x({start:A,end:I})};return d(),window.addEventListener("scroll",d,{passive:!0}),window.addEventListener("resize",d,{passive:!0}),()=>{window.removeEventListener("scroll",d),window.removeEventListener("resize",d)}},[s.length]);const h=s.slice(r.start,r.end),u=r.start*110,m=(s.length-r.end)*110;return e.jsxs("div",{ref:a,className:"lg:hidden",children:[e.jsx("div",{style:{height:u}}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:h.map((d,w)=>e.jsx(T,{country:d,onClick:()=>n(d.id),isTerritory:i,isDeFacto:t,sovereignty:c==null?void 0:c(d)},d.id))}),e.jsx("div",{style:{height:m}})]})});j.displayName="VirtualizedMobileList";const y=(s,n,i)=>{if(!s)return[];const t=(n||"").toLowerCase().trim();let c=t?s.filter(r=>r?(r.name||"").toLowerCase().includes(t)||(r.capital||"").toLowerCase().includes(t)||(r.region||"").toLowerCase().includes(t):!1):[...s];return i&&c.sort((r,x)=>{if(!r||!x)return 0;const a=r[i.key],h=x[i.key];return typeof a=="string"&&typeof h=="string"?i.direction==="asc"?a.localeCompare(h):h.localeCompare(a):0}),c},re=()=>{const[s,n]=o.useState(""),i=Q(s,150),[t,c]=o.useState({key:"name",direction:"asc"}),{setPageLoading:r}=$(),x=D();o.useEffect(()=>{r(!1)},[r]);const a=o.useCallback(l=>{c(g=>({key:l,direction:(g==null?void 0:g.key)===l&&g.direction==="asc"?"desc":"asc"}))},[]),h=o.useCallback(l=>{x(`/country/${l}`)},[x]),u=o.useMemo(()=>y(_,i,t),[i,t]),m=o.useMemo(()=>y(F,i,t),[i,t]),d=o.useMemo(()=>y(B,i,t),[i,t]),w=o.useCallback(l=>l.sovereignty,[]),b=u.length>0||m.length>0||d.length>0;return e.jsxs("div",{className:"pt-32 pb-20 px-4 md:px-6 bg-surface-dark min-h-screen relative overflow-hidden",children:[e.jsxs("div",{className:"fixed inset-0 z-0 pointer-events-none",children:[e.jsx("div",{className:"absolute top-[-20%] right-[-10%] w-[100%] h-[100%] bg-sky/20 rounded-full blur-[100px] opacity-60"}),e.jsx("div",{className:"absolute bottom-[-10%] left-[-10%] w-[80%] h-[80%] bg-sky/10 rounded-full blur-[80px] opacity-40"})]}),e.jsx(P,{title:"Global Country Database",description:"Search and sort data for over 190 nations. High-fidelity database of world geography."}),e.jsxs("div",{className:"max-w-7xl mx-auto relative z-10",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-end justify-between gap-8 mb-12",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"inline-flex items-center gap-2.5 px-4 py-2 bg-sky/20 border border-white/30 rounded-full text-[9px] font-black uppercase tracking-[0.3em] text-white mb-6 relative overflow-hidden group",children:[e.jsx(L,{size:12,className:"relative z-10 text-sky-light"}),e.jsx("span",{className:"relative z-10",children:"GLOBAL DATABASE"})]}),e.jsx("h1",{className:"text-4xl md:text-6xl font-display font-black text-white mb-4 tracking-tighter uppercase leading-none",children:"Database"}),e.jsx("p",{className:"text-white/70 text-lg font-bold uppercase tracking-wide max-w-2xl",children:"Detailed data for 195 sovereign states."})]}),e.jsxs("div",{className:"relative w-full md:w-[400px] group",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-6 flex items-center pointer-events-none",children:e.jsx(R,{className:"h-5 w-5 text-white/40 group-focus-within:text-sky-light transition-colors duration-300"})}),e.jsx("input",{type:"text",placeholder:"SEARCH COUNTRIES...",className:"block w-full pl-16 pr-6 py-4 bg-white/15 border border-white/40 rounded-2xl text-white placeholder:text-white/20 font-bold uppercase text-[11px] tracking-[0.2em] focus:outline-none focus:ring-4 focus:ring-sky/20 focus:border-white/60 focus:bg-white/20 transition-all duration-300",value:s,onChange:l=>n(l.target.value)})]})]}),e.jsx("div",{className:"hidden lg:block bg-white/10 rounded-3xl overflow-hidden border border-white/20 mb-16",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-left border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-white/5 border-b border-white/15",children:[e.jsx(p,{label:"Country",field:"name",sortConfig:t,onSort:a}),e.jsx(p,{label:"Capital",field:"capital",sortConfig:t,onSort:a}),e.jsx(p,{label:"Region",field:"region",sortConfig:t,onSort:a}),e.jsx(p,{label:"Population",field:"population",sortConfig:t,onSort:a,align:"right"}),e.jsx(p,{label:"Area (kmÂ²)",field:"area",sortConfig:t,onSort:a,align:"right"})]})}),e.jsx("tbody",{className:"divide-y divide-white/10",children:u.map(l=>e.jsx(f,{country:l,onClick:()=>h(l.id)},l.id))})]})})}),e.jsx("div",{className:"mb-20",children:e.jsx(j,{items:u,onItemClick:h})}),m.length>0&&e.jsxs("div",{className:"mb-16",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[e.jsx("div",{className:"w-12 h-12 bg-accent/30 rounded-xl text-white border border-white/40 flex items-center justify-center",children:e.jsx(L,{size:24})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-display font-black text-white uppercase tracking-tighter",children:"Autonomous Regions"}),e.jsx("p",{className:"text-white/60 text-sm font-bold uppercase tracking-[0.2em] mt-0.5",children:"Major non-sovereign dependencies and territories."})]})]}),e.jsx("div",{className:"hidden lg:block bg-white/10 rounded-3xl overflow-hidden border border-white/20",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-left border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-accent/10 border-b border-white/20",children:[e.jsx(p,{label:"Territory",field:"name",sortConfig:t,onSort:a}),e.jsx("th",{className:"px-6 py-4 text-left text-[9px] font-black text-white/50 uppercase tracking-[0.3em] whitespace-nowrap",children:"Sovereignty"}),e.jsx(p,{label:"Capital",field:"capital",sortConfig:t,onSort:a}),e.jsx(p,{label:"Sector",field:"region",sortConfig:t,onSort:a}),e.jsx(p,{label:"Population",field:"population",sortConfig:t,onSort:a,align:"right"})]})}),e.jsx("tbody",{className:"divide-y divide-white/10",children:m.map(l=>e.jsx(f,{country:l,onClick:()=>h(l.id),hoverColor:"hover:bg-accent/20",showSovereignty:!0,sovereignty:l.sovereignty,titleColor:"group-hover/row:text-accent"},l.id))})]})})}),e.jsx(j,{items:m,onItemClick:h,isTerritory:!0,getSovereignty:w})]}),d.length>0&&e.jsxs("div",{className:"mb-16",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[e.jsx("div",{className:"w-12 h-12 bg-warning/30 rounded-xl text-white border border-white/40 flex items-center justify-center",children:e.jsx(V,{size:24})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-display font-black text-white uppercase tracking-tighter",children:"De Facto States"}),e.jsx("p",{className:"text-white/60 text-sm font-bold uppercase tracking-[0.2em] mt-0.5",children:"Entities with limited international recognition."})]})]}),e.jsx("div",{className:"hidden lg:block bg-white/10 rounded-3xl overflow-hidden border border-white/20",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-left border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-warning/10 border-b border-white/20",children:[e.jsx(p,{label:"Entity",field:"name",sortConfig:t,onSort:a}),e.jsx("th",{className:"px-6 py-4 text-left text-[9px] font-black text-white/50 uppercase tracking-[0.3em] whitespace-nowrap",children:"Status"}),e.jsx(p,{label:"Capital",field:"capital",sortConfig:t,onSort:a}),e.jsx(p,{label:"Sector",field:"region",sortConfig:t,onSort:a}),e.jsx(p,{label:"Population",field:"population",sortConfig:t,onSort:a,align:"right"})]})}),e.jsx("tbody",{className:"divide-y divide-white/10",children:d.map(l=>e.jsx(f,{country:l,onClick:()=>h(l.id),hoverColor:"hover:bg-warning/20",showSovereignty:!0,sovereignty:l.sovereignty,titleColor:"group-hover/row:text-warning"},l.id))})]})})}),e.jsx(j,{items:d,onItemClick:h,isDeFacto:!0,getSovereignty:w})]}),!b&&e.jsxs("div",{className:"bg-white/5 rounded-2xl p-16 text-center border border-white/10",children:[e.jsx("div",{className:"w-16 h-16 bg-white/5 rounded-full flex items-center justify-center mx-auto mb-8",children:e.jsx(R,{className:"w-8 h-8 text-white/10"})}),e.jsx("h3",{className:"text-2xl font-display font-black text-white uppercase tracking-tight mb-2",children:"No results found"}),e.jsxs("p",{className:"text-white/20 uppercase tracking-widest text-[9px] font-black",children:['Protocol failed to match "',i,'" within current dataset.']})]}),b&&e.jsx("div",{className:"mt-20 flex justify-center",children:e.jsxs(O,{variant:"secondary",size:"md",onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),className:"group h-14 px-10 border border-white/20 hover:border-white/40 text-[10px] uppercase tracking-[0.3em]",children:[e.jsx(M,{size:16,className:"mr-2 transition-transform text-sky-light"}),e.jsx("span",{className:"relative z-10",children:"Back to Top"})]})})]})]})};export{re as default};
