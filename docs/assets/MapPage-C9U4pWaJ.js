import{j as e}from"./vendor-motion-CUvbj6jv.js";import{r as l,d as Le,i as Se}from"./vendor-react-CJteECPR.js";import{u as Te,M as ne,T as W,D as U,S as Re}from"./index-BruMvk5U.js";import{q as xe,k as he,X as be,M as Pe,r as Ie,j as ge,T as ke,s as ve,C as we,t as je,u as ye}from"./vendor-icons-Zx6pZiCF.js";import"./vendor-firebase-BmNGKg-n.js";const Ne=["All","Africa","Asia","Europe","North America","South America","Oceania"],se=O=>Array.from(O).map(a=>String.fromCharCode(a.codePointAt(0)-127397).toLowerCase()).join(""),Fe=()=>{const O=l.useRef(null),a=l.useRef(null),p=l.useRef(null),m=l.useRef([]),[u,V]=l.useState("All"),[x,_]=l.useState(!0),[h,G]=l.useState(!0),[f,q]=l.useState(!1),ae=Le(),[K,Ce]=Se(),{setPageLoading:R,setHideFooter:Y}=Te(),[v,P]=l.useState(""),[X,I]=l.useState(-1),[C,S]=l.useState(null),[M,B]=l.useState(!0),Q=l.useRef(null),[E,ie]=l.useState(!1),Ee=l.useRef(!1);l.useEffect(()=>{Ee.current=E},[E]);const J=l.useRef(!1),ze=l.useRef(null),Ae=l.useRef(null),oe=l.useRef(u),ee=l.useRef(null),ce=l.useCallback((t,n)=>{const s=`https://flagcdn.com/w80/${se(t.flag)}.png`;let r="",i="text-sky";return n==="territory"?(r=`<div class="text-[10px] font-black text-accent uppercase tracking-[0.2em] mb-3">Territory of ${t.sovereignty}</div>`,i="text-accent"):n==="defacto"?(r=`<div class="text-[10px] font-black text-warning uppercase tracking-[0.2em] mb-3">${t.sovereignty}</div>`,i="text-warning"):r='<div class="text-[10px] font-black text-sky uppercase tracking-[0.2em] mb-3">Sovereign State</div>',`
      <div class="flex flex-col font-sans">
        <div class="flex items-center gap-4 mb-4">
           <div class="w-12 h-8 shrink-0">
             <img src="${s}" alt="${t.name} Flag" class="w-full h-full object-contain" />
           </div>
           <h3 class="font-display font-black text-2xl text-white tracking-tighter uppercase leading-none m-0">${t.name}</h3>
        </div>
        ${r}
        <div class="mb-5 bg-black/30 p-4 rounded-xl border border-white/10 text-center">
           <span class="text-[10px] font-black text-sky-light uppercase tracking-[0.2em] block mb-1">Capital City</span>
           <span class="font-display font-black text-white text-lg uppercase tracking-tight">${t.capital}</span>
        </div>
        <button data-country-id="${t.id}" class="learn-more-btn ${i} w-full h-12 bg-white/10 border border-white/30 rounded-xl text-[11px] font-black uppercase tracking-[0.3em] active:bg-white/20">
          Launch Profile
        </button>
      </div>
    `},[]),$=l.useCallback(t=>{const n=a.current,o=window.L;if(!n||!o)return;const s=window.innerWidth<768,r=/iPad|iPhone|iPod/.test(navigator.userAgent),i=s?80:100,c=0,d=s?240:0,j=n.getSize(),y=c+(j.x-c)/2,z=i+(j.y-i-d)/2+75,g=Math.max(n.getZoom(),s?4.5:5.5),T=n.project(t.getLatLng(),g),A=y-j.x/2,D=z-j.y/2,L=T.subtract(o.point(A,D)),Z=n.unproject(L,g);r?n.setView(Z,g,{animate:!1}):n.flyTo(Z,g,{duration:.6,easeLinearity:.3})},[]);l.useEffect(()=>{f&&R(!1);const t=setTimeout(()=>{R(!1)},1e3);return()=>clearTimeout(t)},[R,f]),l.useEffect(()=>{const t=window.L;if(Y(!0),!t){const o=setTimeout(()=>{q(!1)},500);return()=>clearTimeout(o)}if(O.current&&!a.current)try{const o=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),s=/iPad|iPhone|iPod/.test(navigator.userAgent),r=o||s,i=t.map(O.current,{center:[20,0],zoom:3,zoomControl:!1,attributionControl:!1,minZoom:2,worldCopyJump:!r,maxBounds:[[-85,-5e3],[85,5e3]],maxBoundsViscosity:1,preferCanvas:!0,fadeAnimation:!r,zoomAnimation:!r,markerZoomAnimation:!r,wheelDebounceTime:r?100:40,wheelPxPerZoomLevel:r?120:60,updateWhenIdle:r,updateWhenZooming:!r});if(t.tileLayer("https://{s}.basemaps.cartocdn.com/rastertiles/voyager_nolabels/{z}/{x}/{y}{r}.png",{subdomains:"abcd",maxZoom:20,updateWhenIdle:r,updateWhenZooming:!r,keepBuffer:r?1:2}).addTo(i),r||t.tileLayer("https://{s}.basemaps.cartocdn.com/rastertiles/voyager_only_labels/{z}/{x}/{y}{r}.png",{subdomains:"abcd",maxZoom:20,zIndex:10}).addTo(i),p.current=t.layerGroup().addTo(i),a.current=i,setTimeout(()=>{a.current&&(a.current.invalidateSize(),window.dispatchEvent(new Event("resize")),q(!0),R(!1))},100),m.current.length===0){const c=/iPad|iPhone|iPod/.test(navigator.userAgent),d=(j,y)=>{j.forEach(b=>{try{let N="",z="",g=0;y==="territory"?(N="territory-marker",z="territory",g=-100):y==="defacto"&&(N="defacto-marker",z="defacto",g=-50),(c?[0]:[-360,0,360]).forEach(A=>{const D=t.divIcon({className:`custom-map-marker ${N}`,html:`<div class="marker-pin ${z}"></div>`,iconSize:[20,20],iconAnchor:[10,10]}),L=t.marker([b.lat,b.lng+A],{icon:D,zIndexOffset:g}).bindPopup(ce(b,y),{closeButton:!1,className:"custom-popup",autoPan:!1,maxWidth:300,minWidth:280,offset:t.point(0,-10)});L.addTo(p.current);let Z=0;const me=k=>{const F=Date.now();F-Z<300||(Z=F,k?.originalEvent&&k.originalEvent.stopPropagation(),t.DomEvent?.stop?.(k),J.current=!0,setTimeout(()=>{J.current=!1},500),S(b.id),a.current&&a.current.closePopup(),L.openPopup(),$(L))};L.on("click",me),c&&L.on("add",()=>{const k=L.getElement?.();if(k&&!k._opt){k._opt=!0,k.style.touchAction="manipulation",k.style.cursor="pointer";let F=0;k.addEventListener("touchstart",()=>{F=Date.now()},{passive:!0}),k.addEventListener("touchend",re=>{Date.now()-F<300&&(re.preventDefault(),re.stopPropagation(),me({originalEvent:re}))},{passive:!1})}}),m.current.push({id:b.id,region:b.region,type:y,marker:L})})}catch(N){console.error("Error creating marker for",b.name,N)}})};d(ne,"sovereign"),d(W,"territory"),d(U,"defacto")}i.on("click",c=>{setTimeout(()=>{J.current||S(null)},10)})}catch(o){console.error("Critical error initializing map:",o),q(!1)}else a.current&&(R(!1),setTimeout(()=>{a.current&&(a.current.invalidateSize(),window.dispatchEvent(new Event("resize")))},300));const n=o=>{const s=o.target;if(s&&s.classList.contains("learn-more-btn")){const r=s.getAttribute("data-country-id");r&&ae(`/country/${r}`)}};return document.addEventListener("click",n),()=>{document.removeEventListener("click",n),a.current&&(a.current.remove(),a.current=null),Y(!1)}},[ae,R,Y,ce,$]);const le=t=>{V(t),S(null),a.current&&a.current.closePopup(),K.get("country")&&Ce({},{replace:!0})};l.useEffect(()=>{if(Q.current&&u){const t=Q.current.querySelector(`[data-region="${u}"]`);t&&t.scrollIntoView({behavior:"smooth",inline:"center",block:"nearest"})}},[u]),l.useEffect(()=>{if(!a.current||!p.current)return;const t=oe.current!==u;oe.current=u,requestAnimationFrame(()=>{const n=[];let o=!1;if(m.current.forEach(s=>{const r=u==="All"||s.region===u;let i=!0;s.type==="territory"&&!x&&(i=!1),s.type==="defacto"&&!h&&(i=!1);const c=r&&i;s.id===C&&c&&(o=!0),c?(p.current.hasLayer(s.marker)||p.current.addLayer(s.marker),r&&i&&n.push(s.marker)):p.current.hasLayer(s.marker)&&p.current.removeLayer(s.marker)}),C&&!o&&(S(null),a.current&&a.current.closePopup()),t){const s=a.current,r=window.innerWidth<768,i=/iPad|iPhone|iPod/.test(navigator.userAgent),c={Africa:{center:r?[5,20]:[0,50],zoom:r?2.3:3.2},Asia:{center:r?[35,95]:[30,115],zoom:r?1.8:3},Europe:{center:r?[52,15]:[52,45],zoom:r?3:3.8},"North America":{center:r?[40,-100]:[40,-75],zoom:r?2:3},"South America":{center:r?[-20,-60]:[-20,-35],zoom:r?2.2:3.2},Oceania:{center:r?[-25,145]:[-15,180],zoom:r?2.3:3.2},All:{center:r?[20,0]:[20,25],zoom:r?1.5:2.5}},d=c[u]||c.All;i?s.setView(d.center,d.zoom,{animate:!1}):s.flyTo(d.center,d.zoom,{duration:.8,easeLinearity:.3})}})},[u,x,h,f,C]),l.useEffect(()=>{f&&m.current.forEach(t=>{const n=t.marker.getElement();n&&(t.id===C?n.classList.add("marker-active"):n.classList.remove("marker-active"))})},[C,f]),l.useEffect(()=>{const t=K.get("country");if(t&&f&&a.current){if(t===ee.current)return;const n=m.current.find(o=>o.id===t);n&&(ee.current=t,n.type==="territory"&&!x&&_(!0),n.type==="defacto"&&!h&&G(!0),u!=="All"&&n.region!==u&&V("All"),S(t),setTimeout(()=>{const o=m.current.filter(r=>r.id===t);let s=n;if(a.current&&o.length>0){const r=a.current.getCenter();let i=1/0;o.forEach(c=>{const d=Math.abs(c.marker.getLatLng().lng-r.lng);d<i&&(i=d,s=c)})}$(s.marker),setTimeout(()=>{s.marker.openPopup(),s.marker.getPopup()&&s.marker.getPopup().update()},550)},100))}else ee.current=null},[K,f,$,x,h,u]);const de=()=>{const t=a.current;if(t){if(C){const o=m.current.filter(s=>s.id===C).find(s=>s.marker.isPopupOpen());if(o){t.setZoomAround(o.marker.getLatLng(),t.getZoom()+1);return}}t.zoomIn()}},ue=()=>{const t=a.current;if(t){if(C){const o=m.current.filter(s=>s.id===C).find(s=>s.marker.isPopupOpen());if(o){t.setZoomAround(o.marker.getLatLng(),t.getZoom()-1);return}}t.zoomOut()}},fe=()=>{if(E||!f||m.current.length===0)return;const t=m.current.filter(r=>{const i=u==="All"||r.region===u;let c=!0;return r.type==="territory"&&!x&&(c=!1),r.type==="defacto"&&!h&&(c=!1),i&&c});if(t.length===0)return;const n=Array.from(new Set(t.map(r=>r.id))),o=n[Math.floor(Math.random()*n.length)],s=m.current.filter(r=>r.id===o);if(a.current&&s.length>0){ie(!0),S(o);const r=a.current.getCenter();let i=s[0],c=1/0;s.forEach(A=>{const D=Math.abs(A.marker.getLatLng().lng-r.lng);D<c&&(c=D,i=A)}),$(i.marker);const d=()=>{!i?.marker||!a.current||(p.current.hasLayer(i.marker)||p.current.addLayer(i.marker),setTimeout(()=>{i.marker.openPopup(),i.marker.getPopup()&&i.marker.getPopup().update(),ie(!1)},150),a.current.off("moveend",d))},j=a.current.getCenter(),y=i.marker.getLatLng(),b=a.current.project(j),N=a.current.project(y),z=b.distanceTo(N),g=window.innerWidth<768?4.5:5.5,T=Math.abs(a.current.getZoom()-g)<.1;z<50&&T?d():(a.current.once("moveend",d),setTimeout(d,1500))}},te=t=>t.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase(),w=l.useMemo(()=>{if(v.length===0)return[];const t=te(v);return[...ne,...W,...U].filter(n=>te(n.name).includes(t)||te(n.capital).includes(t)).slice(0,20)},[v]);l.useEffect(()=>{I(-1)},[v]);const H=t=>{P(""),I(-1),S(t.id);const n=m.current.filter(s=>s.id===t.id),o=n[0];o&&(o.type==="territory"&&!x&&_(!0),o.type==="defacto"&&!h&&G(!0)),u!=="All"&&V("All"),setTimeout(()=>{if(a.current&&n.length>0){const s=a.current.getCenter();let r=n[0],i=1/0;n.forEach(T=>{const A=Math.abs(T.marker.getLatLng().lng-s.lng);A<i&&(i=A,r=T)}),a.current.hasLayer(r.marker)||p.current.addLayer(r.marker),$(r.marker);const c=()=>{!r?.marker||!a.current||(p.current.hasLayer(r.marker)||p.current.addLayer(r.marker),setTimeout(()=>{r.marker.openPopup(),r.marker.getPopup()&&r.marker.getPopup().update()},150),a.current.off("moveend",c))},d=a.current.getCenter(),j=r.marker.getLatLng(),y=a.current.project(d),b=a.current.project(j),N=y.distanceTo(b),z=window.innerWidth<768?4.5:5.5,g=Math.abs(a.current.getZoom()-z)<.1;N<50&&g?c():(a.current.once("moveend",c),setTimeout(c,1500))}},150)},pe=t=>{if(w.length!==0)if(t.key==="ArrowDown")t.preventDefault(),I(n=>n<w.length-1?n+1:n);else if(t.key==="ArrowUp")t.preventDefault(),I(n=>n>0?n-1:-1);else if(t.key==="Enter"){t.preventDefault();const n=X>=0?X:0;w[n]&&H(w[n])}else t.key==="Escape"&&(P(""),I(-1))};return e.jsxs("div",{className:"fixed inset-0 z-40 bg-surface-dark",children:[e.jsx(Re,{title:"Interactive World Map",description:"Explore the world with our high-fidelity interactive map. Click on countries to discover capitals, flags, and key demographics."}),e.jsx("div",{id:"map",ref:O,className:"w-full h-full outline-none focus:outline-none relative",style:{background:"#0F172A",height:"100dvh",width:"100%"},children:!f&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-white/20 font-display font-black uppercase tracking-widest pointer-events-none",children:"Initializing Map Engine..."})}),e.jsx("div",{className:`fixed bottom-10 left-6 z-[2000] pointer-events-auto hidden md:block transition-opacity duration-300 ${M?"opacity-0 pointer-events-none":"opacity-100"}`,children:e.jsx("button",{onClick:()=>B(!0),className:"w-12 h-12 bg-white/80 border border-black/20 rounded-full flex items-center justify-center text-[#1A1C1E] active:bg-white",title:"Show UI",children:e.jsx(xe,{size:20})})}),e.jsx("div",{className:`fixed z-[2000] pointer-events-auto md:hidden transition-opacity duration-300 ${M?"opacity-0 pointer-events-none":"bottom-10 left-6 opacity-100"}`,children:e.jsx("button",{onClick:()=>B(!M),className:"w-12 h-12 bg-white/80 border border-black/20 rounded-full flex items-center justify-center text-[#1A1C1E] active:bg-white",title:"Show UI",children:e.jsx(xe,{size:20})})}),e.jsxs("div",{className:`hidden md:flex absolute top-24 left-6 w-60 flex-col gap-3 z-[1000] pointer-events-none transition-opacity duration-300 ${M?"opacity-100":"opacity-0 pointer-events-none"}`,children:[e.jsxs("div",{className:"pointer-events-auto relative z-50",children:[e.jsxs("div",{className:"bg-white/90 rounded-xl border border-black/20 flex items-center px-3.5 py-2.5",children:[e.jsx("button",{onClick:()=>w.length>0&&H(w[0]),className:"mr-3 text-black/40",children:e.jsx(he,{size:16})}),e.jsx("input",{type:"text",placeholder:"SEARCH...",className:"bg-transparent border-none outline-none text-[9px] text-[#1A1C1E] w-full placeholder:text-black/30 font-black uppercase tracking-[0.2em]",value:v,onChange:t=>P(t.target.value),onKeyDown:pe}),v&&e.jsx("button",{onClick:()=>P(""),className:"text-black/40 p-1",children:e.jsx(be,{size:16})})]}),v&&e.jsx("div",{ref:ze,className:"absolute left-0 w-full bg-[#1a1c2e] rounded-xl border border-white/20 overflow-y-auto max-h-[50vh] top-full mt-2",children:w.length>0?e.jsx("ul",{className:"py-1",children:w.map((t,n)=>{const o=se(t.flag),s=W.some(c=>c.id===t.id),r=U.some(c=>c.id===t.id);let i="text-white";return s&&(i="text-accent"),r&&(i="text-warning"),e.jsx("li",{children:e.jsxs("button",{onClick:()=>H(t),onMouseEnter:()=>I(n),className:`w-full text-left px-3.5 py-2.5 flex items-center gap-3 border-b border-white/5 last:border-none uppercase tracking-tighter ${n===X?"bg-white/10":""}`,children:[e.jsx("div",{className:"w-8 h-5 shrink-0",children:e.jsx("img",{src:`https://flagcdn.com/w80/${o}.png`,alt:"",className:"w-full h-full object-contain"})}),e.jsxs("div",{children:[e.jsx("p",{className:`text-[10px] font-black ${i}`,children:t.name}),e.jsx("p",{className:"text-[8px] font-bold text-white/30 tracking-widest",children:t.region})]})]})},t.id)})}):e.jsx("div",{className:"p-8 text-center text-[9px] text-white/30 font-black uppercase tracking-[0.3em]",children:"No matches found"})})]}),e.jsxs("div",{className:"bg-white/90 p-4 rounded-3xl border border-black/20 pointer-events-auto",children:[e.jsxs("div",{className:"flex items-center gap-2.5 mb-5",children:[e.jsx("div",{className:"p-2 bg-primary/10 rounded-xl text-primary border border-primary/20",children:e.jsx(Pe,{size:18})}),e.jsxs("div",{children:[e.jsx("h2",{className:"font-display font-black text-[#1A1C1E] leading-none text-base uppercase tracking-tighter",children:"Atlas"}),e.jsxs("p",{className:"text-[8px] text-black/40 font-black uppercase tracking-[0.2em] mt-1",children:[ne.length+W.length+U.length," Nodes"]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2.5",children:[e.jsxs("div",{className:"flex items-center gap-2 text-[8px] font-black text-black/30 uppercase tracking-[0.4em] mb-1 ml-1",children:[e.jsx(Ie,{size:10}),e.jsx("span",{children:"Sectors"})]}),e.jsx("div",{className:"flex flex-wrap gap-1.5",children:Ne.map(t=>e.jsx("button",{onClick:()=>le(t),className:`px-3 py-1.5 text-[8px] font-black uppercase tracking-widest rounded-lg border-2 whitespace-nowrap ${u===t?"bg-primary text-white border-primary":"bg-black/5 text-black/40 border-black/20 active:bg-black/10"}`,children:t},t))})]}),e.jsxs("div",{className:"pt-4 border-t border-black/20 flex flex-col gap-2",children:[e.jsxs("button",{onClick:()=>_(!x),className:`w-full flex items-center justify-between px-3 py-2 rounded-xl text-[8px] font-black uppercase tracking-[0.2em] border ${x?"bg-accent/20 text-[#166534] border-accent/40":"bg-black/5 text-black/30 border-black/10"}`,children:[e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(ge,{size:12})," Territories"]}),e.jsx("div",{className:`w-7 h-3.5 rounded-full p-0.5 ${x?"bg-accent":"bg-black/10"}`,children:e.jsx("div",{className:`w-2.5 h-2.5 bg-white rounded-full ${x?"translate-x-3.5":"translate-x-0"}`,style:{transition:"transform 0.15s"}})})]}),e.jsxs("button",{onClick:()=>G(!h),className:`w-full flex items-center justify-between px-3 py-2 rounded-xl text-[8px] font-black uppercase tracking-[0.2em] border ${h?"bg-warning/20 text-[#92400e] border-warning/40":"bg-black/5 text-black/30 border-black/10"}`,children:[e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(ke,{size:12})," De Facto"]}),e.jsx("div",{className:`w-7 h-3.5 rounded-full p-0.5 ${h?"bg-warning":"bg-black/10"}`,children:e.jsx("div",{className:`w-2.5 h-2.5 bg-white rounded-full ${h?"translate-x-3.5":"translate-x-0"}`,style:{transition:"transform 0.15s"}})})]})]})]})]}),e.jsx("div",{className:"bg-white/90 p-3.5 rounded-2xl border border-black/20 pointer-events-auto",children:e.jsxs("div",{className:"flex flex-col gap-2 text-[8px] font-black uppercase tracking-[0.3em] text-black/40",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-primary"}),e.jsx("span",{children:"Sovereign"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-accent"}),e.jsx("span",{children:"Territory"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-warning"}),e.jsx("span",{children:"De Facto"})]})]})})]}),e.jsxs("div",{className:`hidden md:flex items-center justify-center gap-4 fixed bottom-10 left-1/2 -translate-x-1/2 z-[1001] pointer-events-auto transition-opacity duration-300 ${M?"opacity-100":"opacity-0 pointer-events-none"}`,children:[e.jsx("button",{onClick:()=>B(!1),className:"w-12 h-12 bg-white/90 border border-black/20 rounded-full flex items-center justify-center text-[#1A1C1E] active:bg-white",title:"Hide UI",children:e.jsx(ve,{size:20})}),e.jsxs("button",{onClick:fe,disabled:E,className:"flex items-center gap-4 px-10 h-14 text-lg rounded-full bg-white/90 border border-black/20 uppercase tracking-[0.15em] text-[#1A1C1E] font-display font-black disabled:opacity-40 active:bg-white",children:[e.jsx(we,{size:24,className:`text-primary ${E||!f?"animate-spin":""}`}),e.jsx("span",{className:"tracking-tighter",children:f?E?"Scanning...":"Random Search":"Initializing..."})]}),e.jsxs("div",{className:"hidden lg:flex items-center gap-2",children:[e.jsx("button",{onClick:ue,className:"w-12 h-12 bg-white/90 border border-black/20 rounded-full flex items-center justify-center text-[#1A1C1E] active:bg-white",children:e.jsx(je,{size:22})}),e.jsx("button",{onClick:de,className:"w-12 h-12 bg-white/90 border border-black/20 rounded-full flex items-center justify-center text-[#1A1C1E] active:bg-white",children:e.jsx(ye,{size:22})})]})]}),e.jsxs("div",{className:`md:hidden fixed bottom-0 left-0 w-full z-[1000] flex flex-col items-center pointer-events-none transition-opacity duration-300 ${M?"opacity-100":"opacity-0 pointer-events-none"} [@media(max-height:620px)]:hidden`,children:[e.jsxs("div",{className:"w-full px-4 pb-4 flex items-end justify-between pointer-events-none",children:[e.jsx("button",{onClick:()=>B(!1),className:"pointer-events-auto w-12 h-12 bg-white/90 border border-black/20 rounded-full flex items-center justify-center text-[#1A1C1E] flex-shrink-0",children:e.jsx(ve,{size:20})}),e.jsx("div",{className:"flex-1 flex justify-center px-2",children:e.jsxs("button",{onClick:fe,disabled:E||!f,className:"pointer-events-auto bg-white/90 text-[#1A1C1E] border border-black/20 px-8 py-3.5 rounded-full flex items-center gap-3 disabled:opacity-40",children:[e.jsx(we,{size:20,className:`text-primary ${E||!f?"animate-spin":""}`}),e.jsx("span",{className:"font-display font-black text-xs uppercase tracking-[0.1em] whitespace-nowrap",children:f?E?"SEARCHING...":"Random Search":"INITIALIZING..."})]})}),e.jsxs("div",{className:"flex flex-col gap-2 flex-shrink-0",children:[e.jsx("button",{onClick:de,className:"pointer-events-auto w-12 h-12 bg-white/90 border border-black/20 rounded-full flex items-center justify-center text-[#1A1C1E]",children:e.jsx(ye,{size:20})}),e.jsx("button",{onClick:ue,className:"pointer-events-auto w-12 h-12 bg-white/90 border border-black/20 rounded-full flex items-center justify-center text-[#1A1C1E]",children:e.jsx(je,{size:20})})]})]}),e.jsxs("div",{className:"w-full pointer-events-auto bg-white/95 border-t border-x border-black/20 rounded-t-3xl p-4 pb-4 flex flex-col gap-3",children:[e.jsxs("div",{className:"relative z-20",children:[e.jsxs("div",{className:"relative bg-black/5 rounded-xl border border-black/20",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:e.jsx(he,{size:18,className:"text-black/30"})}),e.jsx("input",{type:"text",placeholder:"Search country or capital...",className:"block w-full pl-12 pr-12 py-3 bg-transparent text-[#1A1C1E] text-xs font-black uppercase tracking-widest placeholder:text-black/30 outline-none rounded-xl",value:v,onChange:t=>P(t.target.value),onKeyDown:pe}),v&&e.jsx("button",{onClick:()=>P(""),className:"absolute inset-y-0 right-0 pr-4 flex items-center",children:e.jsx("div",{className:"bg-black/10 rounded-full p-1 text-black/40 border border-black/10",children:e.jsx(be,{size:16,strokeWidth:3})})})]}),v&&e.jsx("div",{ref:Ae,className:"absolute bottom-full left-0 w-full mb-4 bg-white rounded-2xl border border-black/20 overflow-hidden max-h-[45vh] overflow-y-auto",children:w.length>0?e.jsx("ul",{className:"py-2",children:w.map(t=>{const n=se(t.flag),o=W.some(i=>i.id===t.id),s=U.some(i=>i.id===t.id);let r="text-[#1A1C1E]";return o&&(r="text-[#166534]"),s&&(r="text-[#92400e]"),e.jsx("li",{children:e.jsxs("button",{onClick:()=>H(t),className:"w-full text-left px-6 py-4 flex items-center gap-4 border-b border-black/5 last:border-none active:bg-black/5 uppercase tracking-tighter",children:[e.jsx("div",{className:"w-10 h-7 shrink-0",children:e.jsx("img",{src:`https://flagcdn.com/w80/${n}.png`,alt:"",className:"w-full h-full object-contain"})}),e.jsxs("div",{children:[e.jsx("p",{className:`text-xs font-black ${r}`,children:t.name}),e.jsx("p",{className:"text-[9px] font-bold text-black/40 tracking-widest",children:t.region})]})]})},t.id)})}):e.jsx("div",{className:"p-10 text-center text-[10px] text-black/40 font-black uppercase tracking-[0.3em]",children:"No matches detected"})})]}),e.jsx("div",{ref:Q,className:"w-full overflow-x-auto no-scrollbar",style:{scrollbarWidth:"none"},children:e.jsxs("div",{className:"flex gap-3 px-0.5 items-center min-w-max",children:[e.jsxs("button",{onClick:()=>_(!x),className:`whitespace-nowrap flex-shrink-0 px-4 py-2.5 rounded-lg text-[10px] font-black uppercase tracking-widest border select-none flex items-center gap-2 ${x?"bg-accent/20 text-[#166534] border-accent/40":"bg-black/5 text-black/40 border-black/20"}`,children:[e.jsx(ge,{size:14})," Territories"]}),e.jsxs("button",{onClick:()=>G(!h),className:`whitespace-nowrap flex-shrink-0 px-4 py-2.5 rounded-lg text-[10px] font-black uppercase tracking-widest border select-none flex items-center gap-2 ${h?"bg-warning/20 text-[#92400e] border-warning/40":"bg-black/5 text-black/40 border-black/20"}`,children:[e.jsx(ke,{size:14})," De Facto"]}),e.jsx("div",{className:"w-[1px] h-6 bg-black/10 flex-shrink-0 mx-1"}),Ne.map(t=>e.jsx("button",{"data-region":t,onClick:()=>le(t),className:`whitespace-nowrap flex-shrink-0 px-5 py-2.5 rounded-lg text-[10px] font-black uppercase tracking-widest border-2 select-none ${u===t?"bg-primary text-white border-primary":"bg-black/5 text-black/40 border-black/20"}`,children:t},t))]})})]})]})]})};export{Fe as default};
