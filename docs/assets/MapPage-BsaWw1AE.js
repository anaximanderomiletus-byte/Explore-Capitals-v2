import{j as e}from"./vendor-motion-CUvbj6jv.js";import{r as l,d as Ee,i as ze}from"./vendor-react-CJteECPR.js";import{u as Le,M as te,T as Z,D as F,S as Se}from"./index-BWlJl7v5.js";import{o as fe,i as pe,X as me,M as Ae,p as Te,h as xe,T as he,q as be,C as ge,r as ke,s as ve}from"./vendor-icons-DnoOvNGG.js";import"./vendor-firebase-BmNGKg-n.js";const we=["All","Africa","Asia","Europe","North America","South America","Oceania"],re=D=>Array.from(D).map(a=>String.fromCharCode(a.codePointAt(0)-127397).toLowerCase()).join(""),De=()=>{const D=l.useRef(null),a=l.useRef(null),h=l.useRef(null),b=l.useRef([]),[u,H]=l.useState("All"),[g,W]=l.useState(!0),[k,U]=l.useState(!0),[f,V]=l.useState(!1),ne=Ee(),[q,je]=ze(),{setPageLoading:R,setHideFooter:B}=Le(),[v,I]=l.useState(""),[K,P]=l.useState(-1),[N,S]=l.useState(null),[M,_]=l.useState(!0),Y=l.useRef(null),[C,se]=l.useState(!1),ye=l.useRef(!1);l.useEffect(()=>{ye.current=C},[C]);const X=l.useRef(!1),Ne=l.useRef(null),Ce=l.useRef(null),ae=l.useRef(u),Q=l.useRef(null),ie=l.useCallback((t,n)=>{const s=`https://flagcdn.com/w80/${re(t.flag)}.png`;let r="",i="text-sky";return n==="territory"?(r=`<div class="text-[10px] font-black text-accent uppercase tracking-[0.2em] mb-3">Territory of ${t.sovereignty}</div>`,i="text-accent"):n==="defacto"?(r=`<div class="text-[10px] font-black text-warning uppercase tracking-[0.2em] mb-3">${t.sovereignty}</div>`,i="text-warning"):r='<div class="text-[10px] font-black text-sky uppercase tracking-[0.2em] mb-3">Sovereign State</div>',`
      <div class="flex flex-col font-sans">
        <div class="flex items-center gap-4 mb-4">
           <div class="w-12 h-8 shrink-0">
             <img src="${s}" alt="${t.name} Flag" class="w-full h-full object-contain" />
           </div>
           <h3 class="font-display font-black text-2xl text-white tracking-tighter uppercase leading-none m-0">${t.name}</h3>
        </div>
        ${r}
        <div class="mb-5 bg-black/30 p-4 rounded-xl border border-white/10 text-center">
           <span class="text-[10px] font-black text-sky-light uppercase tracking-[0.2em] block mb-1">Capital City</span>
           <span class="font-display font-black text-white text-lg uppercase tracking-tight">${t.capital}</span>
        </div>
        <button data-country-id="${t.id}" class="learn-more-btn ${i} w-full h-12 bg-white/10 border border-white/30 rounded-xl text-[11px] font-black uppercase tracking-[0.3em] active:bg-white/20">
          Launch Profile
        </button>
      </div>
    `},[]),$=l.useCallback(t=>{const n=a.current,o=window.L;if(!n||!o)return;const s=window.innerWidth<768,r=/iPad|iPhone|iPod/.test(navigator.userAgent),i=s?80:100,c=0,d=s?240:0,p=n.getSize(),E=c+(p.x-c)/2,A=i+(p.y-i-d)/2+75,j=Math.max(n.getZoom(),s?4.5:5.5),m=n.project(t.getLatLng(),j),y=E-p.x/2,T=A-p.y/2,x=m.subtract(o.point(y,T)),L=n.unproject(x,j);r?n.setView(L,j,{animate:!1}):n.flyTo(L,j,{duration:.6,easeLinearity:.3})},[]);l.useEffect(()=>{f&&R(!1);const t=setTimeout(()=>{R(!1)},1e3);return()=>clearTimeout(t)},[R,f]),l.useEffect(()=>{const t=window.L;if(B(!0),!t){const o=setTimeout(()=>{V(!1)},500);return()=>clearTimeout(o)}if(D.current&&!a.current)try{const o=t.map(D.current,{center:[20,0],zoom:3,zoomControl:!1,attributionControl:!1,minZoom:2,worldCopyJump:!0,maxBounds:[[-85,-5e3],[85,5e3]],maxBoundsViscosity:1,preferCanvas:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60,updateWhenIdle:!0});if(t.tileLayer("https://{s}.basemaps.cartocdn.com/rastertiles/voyager_nolabels/{z}/{x}/{y}{r}.png",{subdomains:"abcd",maxZoom:20}).addTo(o),t.tileLayer("https://{s}.basemaps.cartocdn.com/rastertiles/voyager_only_labels/{z}/{x}/{y}{r}.png",{subdomains:"abcd",maxZoom:20,zIndex:10}).addTo(o),h.current=t.layerGroup().addTo(o),a.current=o,setTimeout(()=>{a.current&&(a.current.invalidateSize(),window.dispatchEvent(new Event("resize")),V(!0),R(!1))},100),b.current.length===0){const s=/iPad|iPhone|iPod/.test(navigator.userAgent),r=(i,c)=>{i.forEach(d=>{try{let p="",E="",z=0;c==="territory"?(p="territory-marker",E="territory",z=-100):c==="defacto"&&(p="defacto-marker",E="defacto",z=-50),(s?[0]:[-360,0,360]).forEach(A=>{const j=t.divIcon({className:`custom-map-marker ${p}`,html:`<div class="marker-pin ${E}"></div>`,iconSize:[20,20],iconAnchor:[10,10]}),m=t.marker([d.lat,d.lng+A],{icon:j,zIndexOffset:z}).bindPopup(ie(d,c),{closeButton:!1,className:"custom-popup",autoPan:!1,maxWidth:300,minWidth:280,offset:t.point(0,-10)});m.addTo(h.current);let y=0;const T=x=>{const L=Date.now();L-y<300||(y=L,x?.originalEvent&&x.originalEvent.stopPropagation(),t.DomEvent?.stop?.(x),X.current=!0,setTimeout(()=>{X.current=!1},500),S(d.id),a.current&&a.current.closePopup(),m.openPopup(),$(m))};m.on("click",T),s&&m.on("add",()=>{const x=m.getElement?.();if(x&&!x._opt){x._opt=!0,x.style.touchAction="manipulation",x.style.cursor="pointer";let L=0;x.addEventListener("touchstart",()=>{L=Date.now()},{passive:!0}),x.addEventListener("touchend",ee=>{Date.now()-L<300&&(ee.preventDefault(),ee.stopPropagation(),T({originalEvent:ee}))},{passive:!1})}}),b.current.push({id:d.id,region:d.region,type:c,marker:m})})}catch(p){console.error("Error creating marker for",d.name,p)}})};r(te,"sovereign"),r(Z,"territory"),r(F,"defacto")}o.on("click",s=>{setTimeout(()=>{X.current||S(null)},10)})}catch(o){console.error("Critical error initializing map:",o),V(!1)}else a.current&&(R(!1),setTimeout(()=>{a.current&&(a.current.invalidateSize(),window.dispatchEvent(new Event("resize")))},300));const n=o=>{const s=o.target;if(s&&s.classList.contains("learn-more-btn")){const r=s.getAttribute("data-country-id");r&&ne(`/country/${r}`)}};return document.addEventListener("click",n),()=>{document.removeEventListener("click",n),a.current&&(a.current.remove(),a.current=null),B(!1)}},[ne,R,B,ie,$]);const oe=t=>{H(t),S(null),a.current&&a.current.closePopup(),q.get("country")&&je({},{replace:!0})};l.useEffect(()=>{if(Y.current&&u){const t=Y.current.querySelector(`[data-region="${u}"]`);t&&t.scrollIntoView({behavior:"smooth",inline:"center",block:"nearest"})}},[u]),l.useEffect(()=>{if(!a.current||!h.current)return;const t=ae.current!==u;ae.current=u,requestAnimationFrame(()=>{const n=[];let o=!1;if(b.current.forEach(s=>{const r=u==="All"||s.region===u;let i=!0;s.type==="territory"&&!g&&(i=!1),s.type==="defacto"&&!k&&(i=!1);const c=r&&i;s.id===N&&c&&(o=!0),c?(h.current.hasLayer(s.marker)||h.current.addLayer(s.marker),r&&i&&n.push(s.marker)):h.current.hasLayer(s.marker)&&h.current.removeLayer(s.marker)}),N&&!o&&(S(null),a.current&&a.current.closePopup()),t){const s=a.current,r=window.innerWidth<768,i=/iPad|iPhone|iPod/.test(navigator.userAgent),c={Africa:{center:r?[5,20]:[0,50],zoom:r?2.3:3.2},Asia:{center:r?[35,95]:[30,115],zoom:r?1.8:3},Europe:{center:r?[52,15]:[52,45],zoom:r?3:3.8},"North America":{center:r?[40,-100]:[40,-75],zoom:r?2:3},"South America":{center:r?[-20,-60]:[-20,-35],zoom:r?2.2:3.2},Oceania:{center:r?[-25,145]:[-15,180],zoom:r?2.3:3.2},All:{center:r?[20,0]:[20,25],zoom:r?1.5:2.5}},d=c[u]||c.All;i?s.setView(d.center,d.zoom,{animate:!1}):s.flyTo(d.center,d.zoom,{duration:.8,easeLinearity:.3})}})},[u,g,k,f,N]),l.useEffect(()=>{f&&b.current.forEach(t=>{const n=t.marker.getElement();n&&(t.id===N?n.classList.add("marker-active"):n.classList.remove("marker-active"))})},[N,f]),l.useEffect(()=>{const t=q.get("country");if(t&&f&&a.current){if(t===Q.current)return;const n=b.current.find(o=>o.id===t);n&&(Q.current=t,n.type==="territory"&&!g&&W(!0),n.type==="defacto"&&!k&&U(!0),u!=="All"&&n.region!==u&&H("All"),S(t),setTimeout(()=>{const o=b.current.filter(r=>r.id===t);let s=n;if(a.current&&o.length>0){const r=a.current.getCenter();let i=1/0;o.forEach(c=>{const d=Math.abs(c.marker.getLatLng().lng-r.lng);d<i&&(i=d,s=c)})}$(s.marker),setTimeout(()=>{s.marker.openPopup(),s.marker.getPopup()&&s.marker.getPopup().update()},550)},100))}else Q.current=null},[q,f,$,g,k,u]);const ce=()=>{const t=a.current;if(t){if(N){const o=b.current.filter(s=>s.id===N).find(s=>s.marker.isPopupOpen());if(o){t.setZoomAround(o.marker.getLatLng(),t.getZoom()+1);return}}t.zoomIn()}},le=()=>{const t=a.current;if(t){if(N){const o=b.current.filter(s=>s.id===N).find(s=>s.marker.isPopupOpen());if(o){t.setZoomAround(o.marker.getLatLng(),t.getZoom()-1);return}}t.zoomOut()}},de=()=>{if(C||!f||b.current.length===0)return;const t=b.current.filter(r=>{const i=u==="All"||r.region===u;let c=!0;return r.type==="territory"&&!g&&(c=!1),r.type==="defacto"&&!k&&(c=!1),i&&c});if(t.length===0)return;const n=Array.from(new Set(t.map(r=>r.id))),o=n[Math.floor(Math.random()*n.length)],s=b.current.filter(r=>r.id===o);if(a.current&&s.length>0){se(!0),S(o);const r=a.current.getCenter();let i=s[0],c=1/0;s.forEach(y=>{const T=Math.abs(y.marker.getLatLng().lng-r.lng);T<c&&(c=T,i=y)}),$(i.marker);const d=()=>{!i?.marker||!a.current||(h.current.hasLayer(i.marker)||h.current.addLayer(i.marker),setTimeout(()=>{i.marker.openPopup(),i.marker.getPopup()&&i.marker.getPopup().update(),se(!1)},150),a.current.off("moveend",d))},p=a.current.getCenter(),E=i.marker.getLatLng(),z=a.current.project(p),O=a.current.project(E),A=z.distanceTo(O),j=window.innerWidth<768?4.5:5.5,m=Math.abs(a.current.getZoom()-j)<.1;A<50&&m?d():(a.current.once("moveend",d),setTimeout(d,1500))}},J=t=>t.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase(),w=l.useMemo(()=>{if(v.length===0)return[];const t=J(v);return[...te,...Z,...F].filter(n=>J(n.name).includes(t)||J(n.capital).includes(t)).slice(0,20)},[v]);l.useEffect(()=>{P(-1)},[v]);const G=t=>{I(""),P(-1),S(t.id);const n=b.current.filter(s=>s.id===t.id),o=n[0];o&&(o.type==="territory"&&!g&&W(!0),o.type==="defacto"&&!k&&U(!0)),u!=="All"&&H("All"),setTimeout(()=>{if(a.current&&n.length>0){const s=a.current.getCenter();let r=n[0],i=1/0;n.forEach(m=>{const y=Math.abs(m.marker.getLatLng().lng-s.lng);y<i&&(i=y,r=m)}),a.current.hasLayer(r.marker)||h.current.addLayer(r.marker),$(r.marker);const c=()=>{!r?.marker||!a.current||(h.current.hasLayer(r.marker)||h.current.addLayer(r.marker),setTimeout(()=>{r.marker.openPopup(),r.marker.getPopup()&&r.marker.getPopup().update()},150),a.current.off("moveend",c))},d=a.current.getCenter(),p=r.marker.getLatLng(),E=a.current.project(d),z=a.current.project(p),O=E.distanceTo(z),A=window.innerWidth<768?4.5:5.5,j=Math.abs(a.current.getZoom()-A)<.1;O<50&&j?c():(a.current.once("moveend",c),setTimeout(c,1500))}},150)},ue=t=>{if(w.length!==0)if(t.key==="ArrowDown")t.preventDefault(),P(n=>n<w.length-1?n+1:n);else if(t.key==="ArrowUp")t.preventDefault(),P(n=>n>0?n-1:-1);else if(t.key==="Enter"){t.preventDefault();const n=K>=0?K:0;w[n]&&G(w[n])}else t.key==="Escape"&&(I(""),P(-1))};return e.jsxs("div",{className:"fixed inset-0 z-40 bg-surface-dark",children:[e.jsx(Se,{title:"Interactive World Map",description:"Explore the world with our high-fidelity interactive map. Click on countries to discover capitals, flags, and key demographics."}),e.jsx("div",{id:"map",ref:D,className:"w-full h-full outline-none focus:outline-none relative",style:{background:"#0F172A",height:"100dvh",width:"100%"},children:!f&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-white/20 font-display font-black uppercase tracking-widest pointer-events-none",children:"Initializing Map Engine..."})}),e.jsx("div",{className:`fixed bottom-10 left-6 z-[2000] pointer-events-auto hidden md:block transition-opacity duration-300 ${M?"opacity-0 pointer-events-none":"opacity-100"}`,children:e.jsx("button",{onClick:()=>_(!0),className:"w-12 h-12 bg-white/80 border border-black/20 rounded-full flex items-center justify-center text-[#1A1C1E] active:bg-white",title:"Show UI",children:e.jsx(fe,{size:20})})}),e.jsx("div",{className:`fixed z-[2000] pointer-events-auto md:hidden transition-opacity duration-300 ${M?"opacity-0 pointer-events-none":"bottom-10 left-6 opacity-100"}`,children:e.jsx("button",{onClick:()=>_(!M),className:"w-12 h-12 bg-white/80 border border-black/20 rounded-full flex items-center justify-center text-[#1A1C1E] active:bg-white",title:"Show UI",children:e.jsx(fe,{size:20})})}),e.jsxs("div",{className:`hidden md:flex absolute top-24 left-6 w-60 flex-col gap-3 z-[1000] pointer-events-none transition-opacity duration-300 ${M?"opacity-100":"opacity-0 pointer-events-none"}`,children:[e.jsxs("div",{className:"pointer-events-auto relative z-50",children:[e.jsxs("div",{className:"bg-white/90 rounded-xl border border-black/20 flex items-center px-3.5 py-2.5",children:[e.jsx("button",{onClick:()=>w.length>0&&G(w[0]),className:"mr-3 text-black/40",children:e.jsx(pe,{size:16})}),e.jsx("input",{type:"text",placeholder:"SEARCH...",className:"bg-transparent border-none outline-none text-[9px] text-[#1A1C1E] w-full placeholder:text-black/30 font-black uppercase tracking-[0.2em]",value:v,onChange:t=>I(t.target.value),onKeyDown:ue}),v&&e.jsx("button",{onClick:()=>I(""),className:"text-black/40 p-1",children:e.jsx(me,{size:16})})]}),v&&e.jsx("div",{ref:Ne,className:"absolute left-0 w-full bg-[#1a1c2e] rounded-xl border border-white/20 overflow-y-auto max-h-[50vh] top-full mt-2",children:w.length>0?e.jsx("ul",{className:"py-1",children:w.map((t,n)=>{const o=re(t.flag),s=Z.some(c=>c.id===t.id),r=F.some(c=>c.id===t.id);let i="text-white";return s&&(i="text-accent"),r&&(i="text-warning"),e.jsx("li",{children:e.jsxs("button",{onClick:()=>G(t),onMouseEnter:()=>P(n),className:`w-full text-left px-3.5 py-2.5 flex items-center gap-3 border-b border-white/5 last:border-none uppercase tracking-tighter ${n===K?"bg-white/10":""}`,children:[e.jsx("div",{className:"w-8 h-5 shrink-0",children:e.jsx("img",{src:`https://flagcdn.com/w80/${o}.png`,alt:"",className:"w-full h-full object-contain"})}),e.jsxs("div",{children:[e.jsx("p",{className:`text-[10px] font-black ${i}`,children:t.name}),e.jsx("p",{className:"text-[8px] font-bold text-white/30 tracking-widest",children:t.region})]})]})},t.id)})}):e.jsx("div",{className:"p-8 text-center text-[9px] text-white/30 font-black uppercase tracking-[0.3em]",children:"No matches found"})})]}),e.jsxs("div",{className:"bg-white/90 p-4 rounded-3xl border border-black/20 pointer-events-auto",children:[e.jsxs("div",{className:"flex items-center gap-2.5 mb-5",children:[e.jsx("div",{className:"p-2 bg-primary/10 rounded-xl text-primary border border-primary/20",children:e.jsx(Ae,{size:18})}),e.jsxs("div",{children:[e.jsx("h2",{className:"font-display font-black text-[#1A1C1E] leading-none text-base uppercase tracking-tighter",children:"Atlas"}),e.jsxs("p",{className:"text-[8px] text-black/40 font-black uppercase tracking-[0.2em] mt-1",children:[te.length+Z.length+F.length," Nodes"]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2.5",children:[e.jsxs("div",{className:"flex items-center gap-2 text-[8px] font-black text-black/30 uppercase tracking-[0.4em] mb-1 ml-1",children:[e.jsx(Te,{size:10}),e.jsx("span",{children:"Sectors"})]}),e.jsx("div",{className:"flex flex-wrap gap-1.5",children:we.map(t=>e.jsx("button",{onClick:()=>oe(t),className:`px-3 py-1.5 text-[8px] font-black uppercase tracking-widest rounded-lg border-2 whitespace-nowrap ${u===t?"bg-primary text-white border-primary":"bg-black/5 text-black/40 border-black/20 active:bg-black/10"}`,children:t},t))})]}),e.jsxs("div",{className:"pt-4 border-t border-black/20 flex flex-col gap-2",children:[e.jsxs("button",{onClick:()=>W(!g),className:`w-full flex items-center justify-between px-3 py-2 rounded-xl text-[8px] font-black uppercase tracking-[0.2em] border ${g?"bg-accent/20 text-[#166534] border-accent/40":"bg-black/5 text-black/30 border-black/10"}`,children:[e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(xe,{size:12})," Territories"]}),e.jsx("div",{className:`w-7 h-3.5 rounded-full p-0.5 ${g?"bg-accent":"bg-black/10"}`,children:e.jsx("div",{className:`w-2.5 h-2.5 bg-white rounded-full ${g?"translate-x-3.5":"translate-x-0"}`,style:{transition:"transform 0.15s"}})})]}),e.jsxs("button",{onClick:()=>U(!k),className:`w-full flex items-center justify-between px-3 py-2 rounded-xl text-[8px] font-black uppercase tracking-[0.2em] border ${k?"bg-warning/20 text-[#92400e] border-warning/40":"bg-black/5 text-black/30 border-black/10"}`,children:[e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(he,{size:12})," De Facto"]}),e.jsx("div",{className:`w-7 h-3.5 rounded-full p-0.5 ${k?"bg-warning":"bg-black/10"}`,children:e.jsx("div",{className:`w-2.5 h-2.5 bg-white rounded-full ${k?"translate-x-3.5":"translate-x-0"}`,style:{transition:"transform 0.15s"}})})]})]})]})]}),e.jsx("div",{className:"bg-white/90 p-3.5 rounded-2xl border border-black/20 pointer-events-auto",children:e.jsxs("div",{className:"flex flex-col gap-2 text-[8px] font-black uppercase tracking-[0.3em] text-black/40",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-primary"}),e.jsx("span",{children:"Sovereign"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-accent"}),e.jsx("span",{children:"Territory"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-warning"}),e.jsx("span",{children:"De Facto"})]})]})})]}),e.jsxs("div",{className:`hidden md:flex items-center justify-center gap-4 fixed bottom-10 left-1/2 -translate-x-1/2 z-[1001] pointer-events-auto transition-opacity duration-300 ${M?"opacity-100":"opacity-0 pointer-events-none"}`,children:[e.jsx("button",{onClick:()=>_(!1),className:"w-12 h-12 bg-white/90 border border-black/20 rounded-full flex items-center justify-center text-[#1A1C1E] active:bg-white",title:"Hide UI",children:e.jsx(be,{size:20})}),e.jsxs("button",{onClick:de,disabled:C,className:"flex items-center gap-4 px-10 h-14 text-lg rounded-full bg-white/90 border border-black/20 uppercase tracking-[0.15em] text-[#1A1C1E] font-display font-black disabled:opacity-40 active:bg-white",children:[e.jsx(ge,{size:24,className:`text-primary ${C||!f?"animate-spin":""}`}),e.jsx("span",{className:"tracking-tighter",children:f?C?"Scanning...":"Random Search":"Initializing..."})]}),e.jsxs("div",{className:"hidden lg:flex items-center gap-2",children:[e.jsx("button",{onClick:le,className:"w-12 h-12 bg-white/90 border border-black/20 rounded-full flex items-center justify-center text-[#1A1C1E] active:bg-white",children:e.jsx(ke,{size:22})}),e.jsx("button",{onClick:ce,className:"w-12 h-12 bg-white/90 border border-black/20 rounded-full flex items-center justify-center text-[#1A1C1E] active:bg-white",children:e.jsx(ve,{size:22})})]})]}),e.jsxs("div",{className:`md:hidden fixed bottom-0 left-0 w-full z-[1000] flex flex-col items-center pointer-events-none transition-opacity duration-300 ${M?"opacity-100":"opacity-0 pointer-events-none"} [@media(max-height:620px)]:hidden`,children:[e.jsxs("div",{className:"w-full px-4 pb-4 flex items-end justify-between pointer-events-none",children:[e.jsx("button",{onClick:()=>_(!1),className:"pointer-events-auto w-12 h-12 bg-white/90 border border-black/20 rounded-full flex items-center justify-center text-[#1A1C1E] flex-shrink-0",children:e.jsx(be,{size:20})}),e.jsx("div",{className:"flex-1 flex justify-center px-2",children:e.jsxs("button",{onClick:de,disabled:C||!f,className:"pointer-events-auto bg-white/90 text-[#1A1C1E] border border-black/20 px-8 py-3.5 rounded-full flex items-center gap-3 disabled:opacity-40",children:[e.jsx(ge,{size:20,className:`text-primary ${C||!f?"animate-spin":""}`}),e.jsx("span",{className:"font-display font-black text-xs uppercase tracking-[0.1em] whitespace-nowrap",children:f?C?"SEARCHING...":"Random Search":"INITIALIZING..."})]})}),e.jsxs("div",{className:"flex flex-col gap-2 flex-shrink-0",children:[e.jsx("button",{onClick:ce,className:"pointer-events-auto w-12 h-12 bg-white/90 border border-black/20 rounded-full flex items-center justify-center text-[#1A1C1E]",children:e.jsx(ve,{size:20})}),e.jsx("button",{onClick:le,className:"pointer-events-auto w-12 h-12 bg-white/90 border border-black/20 rounded-full flex items-center justify-center text-[#1A1C1E]",children:e.jsx(ke,{size:20})})]})]}),e.jsxs("div",{className:"w-full pointer-events-auto bg-white/95 border-t border-x border-black/20 rounded-t-3xl p-4 pb-4 flex flex-col gap-3",children:[e.jsxs("div",{className:"relative z-20",children:[e.jsxs("div",{className:"relative bg-black/5 rounded-xl border border-black/20",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:e.jsx(pe,{size:18,className:"text-black/30"})}),e.jsx("input",{type:"text",placeholder:"Search country or capital...",className:"block w-full pl-12 pr-12 py-3 bg-transparent text-[#1A1C1E] text-xs font-black uppercase tracking-widest placeholder:text-black/30 outline-none rounded-xl",value:v,onChange:t=>I(t.target.value),onKeyDown:ue}),v&&e.jsx("button",{onClick:()=>I(""),className:"absolute inset-y-0 right-0 pr-4 flex items-center",children:e.jsx("div",{className:"bg-black/10 rounded-full p-1 text-black/40 border border-black/10",children:e.jsx(me,{size:16,strokeWidth:3})})})]}),v&&e.jsx("div",{ref:Ce,className:"absolute bottom-full left-0 w-full mb-4 bg-white rounded-2xl border border-black/20 overflow-hidden max-h-[45vh] overflow-y-auto",children:w.length>0?e.jsx("ul",{className:"py-2",children:w.map(t=>{const n=re(t.flag),o=Z.some(i=>i.id===t.id),s=F.some(i=>i.id===t.id);let r="text-[#1A1C1E]";return o&&(r="text-[#166534]"),s&&(r="text-[#92400e]"),e.jsx("li",{children:e.jsxs("button",{onClick:()=>G(t),className:"w-full text-left px-6 py-4 flex items-center gap-4 border-b border-black/5 last:border-none active:bg-black/5 uppercase tracking-tighter",children:[e.jsx("div",{className:"w-10 h-7 shrink-0",children:e.jsx("img",{src:`https://flagcdn.com/w80/${n}.png`,alt:"",className:"w-full h-full object-contain"})}),e.jsxs("div",{children:[e.jsx("p",{className:`text-xs font-black ${r}`,children:t.name}),e.jsx("p",{className:"text-[9px] font-bold text-black/40 tracking-widest",children:t.region})]})]})},t.id)})}):e.jsx("div",{className:"p-10 text-center text-[10px] text-black/40 font-black uppercase tracking-[0.3em]",children:"No matches detected"})})]}),e.jsx("div",{ref:Y,className:"w-full overflow-x-auto no-scrollbar",style:{scrollbarWidth:"none"},children:e.jsxs("div",{className:"flex gap-3 px-0.5 items-center min-w-max",children:[e.jsxs("button",{onClick:()=>W(!g),className:`whitespace-nowrap flex-shrink-0 px-4 py-2.5 rounded-lg text-[10px] font-black uppercase tracking-widest border select-none flex items-center gap-2 ${g?"bg-accent/20 text-[#166534] border-accent/40":"bg-black/5 text-black/40 border-black/20"}`,children:[e.jsx(xe,{size:14})," Territories"]}),e.jsxs("button",{onClick:()=>U(!k),className:`whitespace-nowrap flex-shrink-0 px-4 py-2.5 rounded-lg text-[10px] font-black uppercase tracking-widest border select-none flex items-center gap-2 ${k?"bg-warning/20 text-[#92400e] border-warning/40":"bg-black/5 text-black/40 border-black/20"}`,children:[e.jsx(he,{size:14})," De Facto"]}),e.jsx("div",{className:"w-[1px] h-6 bg-black/10 flex-shrink-0 mx-1"}),we.map(t=>e.jsx("button",{"data-region":t,onClick:()=>oe(t),className:`whitespace-nowrap flex-shrink-0 px-5 py-2.5 rounded-lg text-[10px] font-black uppercase tracking-widest border-2 select-none ${u===t?"bg-primary text-white border-primary":"bg-black/5 text-black/40 border-black/20"}`,children:t},t))]})})]})]})]})};export{De as default};
