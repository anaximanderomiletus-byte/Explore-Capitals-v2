import{u as y,r as o,a as N,b as k,G as f,j as e,S as G,L as z,B as p,c as C,X as S}from"./index-C6ZEpjDa.js";import{i as D,c as M,C as b}from"./subscription-BitvddMR.js";import{P as v}from"./play-DplhoUQI.js";import{S as L}from"./shuffle-JxLRX9Sh.js";import{L as U}from"./lock-CNbVQIhF.js";import{C as E}from"./clock-DQjeF-bC.js";import{S as R}from"./sparkles-DwQNbgJH.js";const w=5;function I(){const{userProfile:t,updateUserProfile:r}=y(),i=o.useMemo(()=>D(t==null?void 0:t.subscriptionStatus,t==null?void 0:t.subscriptionPlan),[t==null?void 0:t.subscriptionStatus,t==null?void 0:t.subscriptionPlan]),s=o.useMemo(()=>{const n=new Date().toISOString().split("T")[0];return(t==null?void 0:t.lastGameDate)!==n?0:(t==null?void 0:t.dailyGamesPlayed)||0},[t==null?void 0:t.dailyGamesPlayed,t==null?void 0:t.lastGameDate]),{allowed:h,remaining:c}=o.useMemo(()=>M(i,s,w),[i,s]),u=o.useCallback(()=>{if(i)return;const n=new Date().toISOString().split("T")[0],m=(t==null?void 0:t.lastGameDate)===n&&(t==null?void 0:t.dailyGamesPlayed)||0;r({dailyGamesPlayed:m+1,lastGameDate:n})},[i,t==null?void 0:t.lastGameDate,t==null?void 0:t.dailyGamesPlayed,r]),l=o.useCallback(()=>{r({dailyGamesPlayed:0,lastGameDate:new Date().toISOString().split("T")[0]})},[r]);return{canPlay:h,gamesRemaining:c===1/0?w:c,gamesPlayed:s,dailyLimit:w,isPremium:i,incrementGamesPlayed:u,resetDailyCount:l}}const Y=()=>{const{setPageLoading:t}=N(),r=k(),{canPlay:i,gamesRemaining:s,dailyLimit:h,isPremium:c}=I(),[u,l]=o.useState(!1),n=a=>{switch(a){case"1":return"capital-quiz";case"2":return"map-dash";case"3":return"flag-frenzy";case"4":return"know-your-neighbor";case"5":return"population-pursuit";case"6":return"global-detective";case"7":return"capital-connection";case"8":return"region-roundup";case"9":return"landmark-legend";default:return""}},m=()=>{const a=f.filter(d=>d.status==="active"),x=a[Math.floor(Math.random()*a.length)];x&&r(`/games/${n(x.id)}`)};return o.useEffect(()=>{const x=f.map(d=>d.image).map(d=>new Promise(j=>{const g=new Image;g.src=d,g.onload=j,g.onerror=j}));Promise.all(x).then(()=>{t(!1)})},[t]),e.jsxs("div",{className:"pt-24 md:pt-32 pb-16 md:pb-20 px-4 md:px-6 bg-surface-dark min-h-screen relative overflow-hidden",children:[e.jsxs("div",{className:"fixed inset-0 z-0 pointer-events-none",children:[e.jsx("div",{className:"absolute top-[-20%] right-[-10%] w-[100%] h-[100%] bg-sky/5 rounded-full blur-[180px] animate-pulse-slow opacity-50"}),e.jsx("div",{className:"absolute bottom-[-10%] left-[-10%] w-[80%] h-[80%] bg-sky/3 rounded-full blur-[150px] animate-pulse-slow opacity-40"})]}),e.jsx(G,{title:"Geography Games",description:"Play free geography games online. Test your knowledge of world capitals, flags, maps, borders, and populations with fun interactive quizzes."}),e.jsxs("div",{className:"max-w-7xl mx-auto relative z-10",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-end justify-between gap-4 md:gap-8 mb-8 md:mb-12",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-1.5 bg-sky/30 border border-white/40 rounded-full text-[10px] font-black uppercase tracking-[0.2em] text-white mb-6 relative overflow-hidden group",children:[e.jsx("div",{className:"absolute inset-0 bg-glossy-gradient opacity-50"}),e.jsx(v,{size:12,className:"relative z-10 text-sky-light",fill:"currentColor"}),e.jsx("span",{className:"relative z-10 drop-shadow-md",children:"GAMES"})]}),e.jsx("h1",{className:"text-4xl sm:text-5xl md:text-7xl font-display font-black text-white mb-3 md:mb-4 tracking-tighter uppercase leading-none drop-shadow-[0_10px_20px_rgba(0,0,0,0.5)]",children:"Games"}),e.jsx("p",{className:"text-white/70 text-lg font-bold uppercase tracking-wide drop-shadow-md",children:"Earn points and rank up."})]}),e.jsxs("button",{onClick:m,className:"flex items-center gap-3 px-8 py-4 bg-white/10 backdrop-blur-2xl border border-white/20 rounded-2xl text-[11px] font-black text-white uppercase tracking-[0.3em] hover:bg-white/20 transition-all group relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-glossy-gradient opacity-10 group-hover:opacity-20 pointer-events-none"}),e.jsx(L,{size:18,className:"text-sky-light transition-transform duration-700 relative z-10"}),e.jsx("span",{className:"relative z-10",children:"Random Game"})]})]}),!c&&e.jsxs("div",{className:"mb-8 p-4 bg-white/10 backdrop-blur-xl border border-white/20 rounded-2xl flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"relative w-14 h-14",children:[e.jsxs("svg",{className:"w-14 h-14 -rotate-90",viewBox:"0 0 56 56",children:[e.jsx("circle",{cx:"28",cy:"28",r:"24",stroke:"currentColor",strokeWidth:"4",fill:"none",className:"text-white/10"}),e.jsx("circle",{cx:"28",cy:"28",r:"24",stroke:"currentColor",strokeWidth:"4",fill:"none",strokeLinecap:"round",strokeDasharray:`${s/h*150.8} 150.8`,className:s<=1?"text-amber-400":"text-sky"})]}),e.jsx("span",{className:"absolute inset-0 flex items-center justify-center text-lg font-black text-white",children:s})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-white font-bold text-sm",children:s===0?"Daily limit reached!":`${s} game${s===1?"":"s"} remaining today`}),e.jsx("p",{className:"text-white/50 text-xs",children:s===0?"Upgrade to Premium for unlimited games":"Free users get 5 games per day"})]})]}),e.jsxs("button",{onClick:()=>r("/premium"),className:"px-5 py-2.5 bg-gradient-to-r from-amber-500/20 to-amber-600/20 hover:from-amber-500/30 hover:to-amber-600/30 border border-amber-500/30 rounded-xl text-[10px] font-black text-amber-400 uppercase tracking-widest transition-all flex items-center gap-2 whitespace-nowrap",children:[e.jsx(b,{size:14}),"GO PREMIUM"]})]}),c&&e.jsxs("div",{className:"mb-8 p-4 bg-gradient-to-r from-amber-500/10 to-amber-600/10 backdrop-blur-xl border border-amber-500/20 rounded-2xl flex items-center gap-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-amber-500/20 flex items-center justify-center",children:e.jsx(b,{size:20,className:"text-amber-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-amber-400 font-bold text-sm",children:"Premium Member"}),e.jsx("p",{className:"text-white/50 text-xs",children:"Unlimited games, no ads"})]})]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6 lg:gap-8",children:f.map(a=>e.jsxs("div",{className:`group bg-white/20 backdrop-blur-3xl rounded-3xl overflow-hidden border-2 border-white/50 shadow-[0_12px_28px_rgba(0,0,0,0.15)] transition-all duration-700 hover:bg-white/30 relative ${a.status!=="active"?"opacity-50 grayscale":""}`,children:[e.jsx("div",{className:"absolute inset-0 bg-glossy-gradient opacity-20 pointer-events-none"}),e.jsxs("div",{className:"relative h-40 sm:h-44 md:h-48 overflow-hidden border-b border-white/20",children:[e.jsx("img",{src:a.image,alt:a.title,className:"w-full h-full object-cover"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-transparent to-transparent opacity-70"}),a.status!=="active"&&e.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center",children:e.jsxs("div",{className:"px-6 py-3 bg-white/10 backdrop-blur-xl rounded-xl text-white font-black text-[10px] uppercase tracking-[0.2em] flex items-center gap-3 border border-white/20",children:[e.jsx(U,{size:16,className:"text-white/60"})," Locked"]})}),a.status==="active"&&e.jsxs("div",{className:"absolute top-4 right-4 bg-white/30 backdrop-blur-xl border border-white/50 rounded-full px-4 py-1.5 text-[9px] font-black uppercase tracking-widest text-white relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-glossy-gradient opacity-50"}),e.jsx(E,{size:10,className:"inline mr-1.5 relative z-10 text-sky-light"})," ",e.jsx("span",{className:"relative z-10",children:"1 Min"})]})]}),e.jsxs("div",{className:"p-5 sm:p-6 md:p-8 flex flex-col h-[calc(100%-10rem)] sm:h-[calc(100%-11rem)] md:h-[calc(100%-12rem)] relative z-10",children:[e.jsx("h3",{className:"text-xl sm:text-2xl font-display font-black text-white mb-2 tracking-tighter leading-none uppercase drop-shadow-md",children:a.title}),e.jsx("p",{className:"text-white/60 mb-4 sm:mb-6 md:mb-8 text-sm sm:text-base leading-relaxed font-bold uppercase tracking-tight line-clamp-2 drop-shadow-sm",children:a.description}),e.jsx("div",{className:"mt-auto",children:a.status==="active"?i?e.jsx(z,{to:`/games/${n(a.id)}`,children:e.jsxs(p,{variant:"primary",className:"w-full h-12 sm:h-14 text-base sm:text-lg border border-white/30",children:["PLAY ",e.jsx(v,{size:18,fill:"currentColor"})]})}):e.jsxs(p,{variant:"secondary",className:"w-full h-12 sm:h-14 text-base sm:text-lg border border-amber-500/30 text-amber-400",onClick:()=>l(!0),children:[e.jsx(b,{size:18})," UPGRADE"]}):e.jsx(p,{variant:"secondary",className:"w-full h-12 sm:h-14 opacity-50 text-base sm:text-lg font-black uppercase tracking-[0.1em]",disabled:!0,children:"Locked"})})]})]},a.id))}),e.jsx("div",{className:"mt-12 md:mt-16",children:e.jsx(C,{slot:"9489406693"})})]}),u&&e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[e.jsx("div",{className:"absolute inset-0 bg-black/70 backdrop-blur-sm",onClick:()=>l(!1)}),e.jsxs("div",{className:"relative bg-surface-dark border-2 border-white/20 rounded-3xl p-6 w-full max-w-md shadow-2xl",children:[e.jsx("button",{onClick:()=>l(!1),className:"absolute top-4 right-4 p-2 hover:bg-white/10 rounded-full transition-colors",children:e.jsx(S,{size:20,className:"text-white/60"})}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-20 h-20 bg-amber-500/20 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(b,{size:40,className:"text-amber-400"})}),e.jsx("h3",{className:"text-2xl font-display font-bold text-white mb-2",children:"Daily Limit Reached"}),e.jsx("p",{className:"text-white/60 mb-6",children:"You've played all 5 free games today. Upgrade to Premium for unlimited access!"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs(p,{variant:"accent",className:"w-full h-14 bg-gradient-to-r from-amber-500 to-amber-600 border-0",onClick:()=>{l(!1),r("/premium")},children:[e.jsx(R,{size:18})," GO PREMIUM"]}),e.jsx("button",{onClick:()=>l(!1),className:"w-full py-3 text-white/50 text-sm hover:text-white transition-colors",children:"Maybe later"})]})]})]})]})]})};export{Y as default};
