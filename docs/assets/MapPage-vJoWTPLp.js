import{j as e}from"./vendor-motion-CUvbj6jv.js";import{r as c,d as Le,i as Se}from"./vendor-react-CJteECPR.js";import{u as Ae,i as ee,a as Pe,b as fe,M as te,T as F,D as W,S as Re}from"./index-Ditf8D3X.js";import{o as me,i as he,X as xe,M as Ie,p as Me,h as be,T as ge,q as ke,C as ve,r as we,s as ye}from"./vendor-icons-DnoOvNGG.js";import"./vendor-firebase-BmNGKg-n.js";const je=["All","Africa","Asia","Europe","North America","South America","Oceania"],re=O=>Array.from(O).map(o=>String.fromCharCode(o.codePointAt(0)-127397).toLowerCase()).join(""),Be=()=>{const O=c.useRef(null),o=c.useRef(null),x=c.useRef(null),b=c.useRef([]),[p,q]=c.useState("All"),[g,U]=c.useState(!0),[k,B]=c.useState(!0),[m,H]=c.useState(!1),ae=Le(),[K,Ne]=Se(),{setPageLoading:R,setHideFooter:V}=Ae(),[v,I]=c.useState(""),[Y,M]=c.useState(-1),[j,E]=c.useState(null),[$,G]=c.useState(!0),X=c.useRef(null),[N,ne]=c.useState(!1),Ce=c.useRef(!1);c.useEffect(()=>{Ce.current=N},[N]);const Z=c.useRef(!1),ze=c.useRef(null),Ee=c.useRef(null),se=c.useRef(p),Q=c.useRef(null),oe=c.useCallback((t,n)=>{const a=`https://flagcdn.com/w80/${re(t.flag)}.png`;let r="",s="text-sky",i="";return n==="territory"?(r=`<div class="text-[10px] font-black text-accent uppercase tracking-[0.2em] mb-3">Territory of ${t.sovereignty}</div>`,s="text-accent"):n==="defacto"?(r=`<div class="text-[10px] font-black text-warning uppercase tracking-[0.2em] mb-3"> ${t.sovereignty}</div>`,s="text-warning"):r='<div class="text-[10px] font-black text-sky uppercase tracking-[0.2em] mb-3">Sovereign State</div>',`
      <div class="flex flex-col font-sans relative">
        <div class="flex items-center gap-4 mb-5 relative">
           <div class="w-12 h-8 shrink-0 flex items-center justify-center">
             <img src="${a}" alt="${t.name} Flag" class="w-full h-full object-contain filter drop-shadow-lg" />
           </div>
           <h3 class="font-display font-black text-2xl text-white tracking-tighter uppercase leading-none m-0 drop-shadow-xl">${t.name}</h3>
        </div>
        
        ${r}

        <div class="mb-6 bg-black/40 p-4 rounded-2xl border border-white/10 shadow-inner relative text-center">
           <span class="text-[10px] font-black text-sky-light uppercase tracking-[0.2em] block mb-1">Capital City</span>
           <span class="font-display font-black text-white text-lg uppercase tracking-tight drop-shadow-sm">${t.capital}</span>
        </div>

        <div class="text-center relative">
          <button 
            data-country-id="${t.id}" 
            class="learn-more-btn ${s} ${i} w-full h-12 bg-white/10 border-2 border-white/40 rounded-2xl text-[11px] font-black uppercase tracking-[0.3em] hover:bg-white/20 transition-all outline-none"
          >
            Launch Profile
          </button>
        </div>
      </div>
    `},[]),S=c.useCallback(t=>{const n=o.current,l=window.L;if(!n||!l)return;const a=window.innerWidth<768,r=a?80:100,s=0,i=a?240:0,u=n.getSize(),C=s+(u.x-s)/2,A=r+(u.y-r-i)/2+75,d=Math.max(n.getZoom(),a?4.5:5.5),y=n.project(t.getLatLng(),d),L=C-u.x/2,z=A-u.y/2,P=y.subtract(l.point(L,z)),f=n.unproject(P,d);n.flyTo(f,d,{duration:.8,easeLinearity:.25})},[]);c.useEffect(()=>{m&&R(!1);const t=setTimeout(()=>{R(!1)},1e3);return()=>clearTimeout(t)},[R,m]),c.useEffect(()=>{const t=window.L;if(V(!0),!t){const l=setTimeout(()=>{H(!1)},500);return()=>clearTimeout(l)}if(O.current&&!o.current)try{const l=t.map(O.current,{center:[20,0],zoom:3,zoomControl:!1,attributionControl:!1,minZoom:2,worldCopyJump:!0,maxBounds:[[-85,-5e3],[85,5e3]],maxBoundsViscosity:1,preferCanvas:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60,updateWhenIdle:!0});if(t.tileLayer("https://{s}.basemaps.cartocdn.com/rastertiles/voyager_nolabels/{z}/{x}/{y}{r}.png",{subdomains:"abcd",maxZoom:20}).addTo(l),t.tileLayer("https://{s}.basemaps.cartocdn.com/rastertiles/voyager_only_labels/{z}/{x}/{y}{r}.png",{subdomains:"abcd",maxZoom:20,zIndex:10}).addTo(l),x.current=t.layerGroup().addTo(l),o.current=l,setTimeout(()=>{o.current&&(o.current.invalidateSize(),window.dispatchEvent(new Event("resize")),H(!0),R(!1))},100),b.current.length===0){const a=(r,s)=>{r.forEach(i=>{try{let u="",C="",T=0;s==="territory"?(u="territory-marker",C="territory",T=-100):s==="defacto"&&(u="defacto-marker",C="defacto",T=-50),[-360,0,360].forEach(D=>{const A=t.divIcon({className:`custom-map-marker ${u}`,html:`<div class="marker-pin ${C}"></div>`,iconSize:[20,20],iconAnchor:[10,10]}),d=t.marker([i.lat,i.lng+D],{icon:A,zIndexOffset:T}).bindPopup(oe(i,s),{closeButton:!1,className:"custom-popup",autoPan:!1,maxWidth:320,minWidth:320,offset:t.point(0,-10)});d.addTo(x.current);let y={current:!1},L={current:!1};const z=ee()?800:500,P=(f,h=!1)=>{if(!h&&y.current){y.current=!1;return}if(f&&f.originalEvent&&(f.originalEvent.stopPropagation(),f.originalEvent.preventDefault()),f&&typeof t.DomEvent?.stopPropagation=="function"&&t.DomEvent.stopPropagation(f),Z.current=!0,setTimeout(()=>{Z.current=!1},z),E(i.id),h||Pe()||window.innerWidth<768){L.current=!0;const Te={current:!0};setTimeout(()=>{Te.current=!1},600),requestAnimationFrame(()=>{!d||!o.current||(o.current.closePopup(),setTimeout(()=>{d.openPopup();const pe=d.getPopup();pe&&pe.update(),(ee()||fe())&&(setTimeout(()=>{d.isPopupOpen()||d.openPopup()},100),setTimeout(()=>{d.isPopupOpen()||d.openPopup()},200))},16))}),S(d)}else S(d),setTimeout(()=>{d.openPopup(),d.getPopup()&&d.getPopup().update()},900)};d.on("click",f=>P(f,!1)),d.on("add",()=>{const f=d.getElement?.();f&&!f._touchBound&&(f._touchBound=!0,f.addEventListener("pointerdown",h=>{(h.pointerType==="touch"||h.pointerType==="pen")&&(y.current=!0,h.stopPropagation(),Z.current=!0)},{passive:!1}),f.addEventListener("pointerup",h=>{(h.pointerType==="touch"||h.pointerType==="pen")&&(h.preventDefault(),h.stopPropagation(),P({originalEvent:h},!0)),setTimeout(()=>{y.current=!1},400)},{passive:!1}),f.addEventListener("contextmenu",h=>{h.preventDefault()},{passive:!1}))}),b.current.push({id:i.id,region:i.region,type:s,marker:d})})}catch(u){console.error("Error creating marker for",i.name,u)}})};a(te,"sovereign"),a(F,"territory"),a(W,"defacto")}l.on("click",a=>{if(!Z.current){if(ee()||fe()){const r=l.getPane("popupPane");if(r&&r.children.length>0){const s=r.querySelector(".leaflet-popup");if(s&&a.originalEvent&&a.originalEvent.target){const i=a.originalEvent.target;if(s.contains(i))return}setTimeout(()=>{Z.current||E(null)},100);return}}E(null)}})}catch(l){console.error("Critical error initializing map:",l),H(!1)}else o.current&&(R(!1),setTimeout(()=>{o.current&&(o.current.invalidateSize(),window.dispatchEvent(new Event("resize")))},300));const n=l=>{const a=l.target;if(a&&a.classList.contains("learn-more-btn")){const r=a.getAttribute("data-country-id");r&&ae(`/country/${r}`)}};return document.addEventListener("click",n),()=>{document.removeEventListener("click",n),o.current&&(o.current.remove(),o.current=null),V(!1)}},[ae,R,V,oe,S]);const ie=t=>{q(t),E(null),o.current&&o.current.closePopup(),K.get("country")&&Ne({},{replace:!0})};c.useEffect(()=>{if(X.current&&p){const t=X.current.querySelector(`[data-region="${p}"]`);t&&t.scrollIntoView({behavior:"smooth",inline:"center",block:"nearest"})}},[p]),c.useEffect(()=>{if(!o.current||!x.current)return;const t=se.current!==p;se.current=p,requestAnimationFrame(()=>{const n=[];let l=!1;if(b.current.forEach(a=>{const r=p==="All"||a.region===p;let s=!0;a.type==="territory"&&!g&&(s=!1),a.type==="defacto"&&!k&&(s=!1);const i=r&&s;a.id===j&&i&&(l=!0),i?(x.current.hasLayer(a.marker)||x.current.addLayer(a.marker),r&&s&&n.push(a.marker)):x.current.hasLayer(a.marker)&&x.current.removeLayer(a.marker)}),j&&!l&&(E(null),o.current&&o.current.closePopup()),t){const a=o.current,r=window.innerWidth<768,s={Africa:{center:r?[5,20]:[0,50],zoom:r?2.3:3.2},Asia:{center:r?[35,95]:[30,115],zoom:r?1.8:3},Europe:{center:r?[52,15]:[52,45],zoom:r?3:3.8},"North America":{center:r?[40,-100]:[40,-75],zoom:r?2:3},"South America":{center:r?[-20,-60]:[-20,-35],zoom:r?2.2:3.2},Oceania:{center:r?[-25,145]:[-15,180],zoom:r?2.3:3.2},All:{center:r?[20,0]:[20,25],zoom:r?1.5:2.5}},i=s[p]||s.All;a.flyTo(i.center,i.zoom,{duration:1.2,easeLinearity:.25})}})},[p,g,k,m,j]),c.useEffect(()=>{m&&b.current.forEach(t=>{const n=t.marker.getElement();n&&(t.id===j?n.classList.add("marker-active"):n.classList.remove("marker-active"))})},[j,m]),c.useEffect(()=>{const t=K.get("country");if(t&&m&&o.current){if(t===Q.current)return;const n=b.current.find(l=>l.id===t);n&&(Q.current=t,n.type==="territory"&&!g&&U(!0),n.type==="defacto"&&!k&&B(!0),p!=="All"&&n.region!==p&&q("All"),E(t),setTimeout(()=>{const l=b.current.filter(r=>r.id===t);let a=n;if(o.current&&l.length>0){const r=o.current.getCenter();let s=1/0;l.forEach(i=>{const u=Math.abs(i.marker.getLatLng().lng-r.lng);u<s&&(s=u,a=i)})}S(a.marker),setTimeout(()=>{a.marker.openPopup(),a.marker.getPopup()&&a.marker.getPopup().update()},550)},100))}else Q.current=null},[K,m,S,g,k,p]);const le=()=>{const t=o.current;if(t){if(j){const l=b.current.filter(a=>a.id===j).find(a=>a.marker.isPopupOpen());if(l){t.setZoomAround(l.marker.getLatLng(),t.getZoom()+1);return}}t.zoomIn()}},ce=()=>{const t=o.current;if(t){if(j){const l=b.current.filter(a=>a.id===j).find(a=>a.marker.isPopupOpen());if(l){t.setZoomAround(l.marker.getLatLng(),t.getZoom()-1);return}}t.zoomOut()}},de=()=>{if(N||!m||b.current.length===0)return;const t=b.current.filter(r=>{const s=p==="All"||r.region===p;let i=!0;return r.type==="territory"&&!g&&(i=!1),r.type==="defacto"&&!k&&(i=!1),s&&i});if(t.length===0)return;const n=Array.from(new Set(t.map(r=>r.id))),l=n[Math.floor(Math.random()*n.length)],a=b.current.filter(r=>r.id===l);if(o.current&&a.length>0){ne(!0),E(l);const r=o.current.getCenter();let s=a[0],i=1/0;a.forEach(z=>{const P=Math.abs(z.marker.getLatLng().lng-r.lng);P<i&&(i=P,s=z)}),S(s.marker);const u=()=>{!s?.marker||!o.current||(x.current.hasLayer(s.marker)||x.current.addLayer(s.marker),setTimeout(()=>{s.marker.openPopup(),s.marker.getPopup()&&s.marker.getPopup().update(),ne(!1)},150),o.current.off("moveend",u))},C=o.current.getCenter(),T=s.marker.getLatLng(),D=o.current.project(C),A=o.current.project(T),d=D.distanceTo(A),y=window.innerWidth<768?4.5:5.5,L=Math.abs(o.current.getZoom()-y)<.1;d<50&&L?u():(o.current.once("moveend",u),setTimeout(u,1500))}},J=t=>t.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase(),w=c.useMemo(()=>{if(v.length===0)return[];const t=J(v);return[...te,...F,...W].filter(n=>J(n.name).includes(t)||J(n.capital).includes(t)).slice(0,20)},[v]);c.useEffect(()=>{M(-1)},[v]);const _=t=>{I(""),M(-1),E(t.id);const n=b.current.filter(a=>a.id===t.id),l=n[0];l&&(l.type==="territory"&&!g&&U(!0),l.type==="defacto"&&!k&&B(!0)),p!=="All"&&q("All"),setTimeout(()=>{if(o.current&&n.length>0){const a=o.current.getCenter();let r=n[0],s=1/0;n.forEach(L=>{const z=Math.abs(L.marker.getLatLng().lng-a.lng);z<s&&(s=z,r=L)}),o.current.hasLayer(r.marker)||x.current.addLayer(r.marker),S(r.marker);const i=()=>{!r?.marker||!o.current||(x.current.hasLayer(r.marker)||x.current.addLayer(r.marker),setTimeout(()=>{r.marker.openPopup(),r.marker.getPopup()&&r.marker.getPopup().update()},150),o.current.off("moveend",i))},u=o.current.getCenter(),C=r.marker.getLatLng(),T=o.current.project(u),D=o.current.project(C),A=T.distanceTo(D),d=window.innerWidth<768?4.5:5.5,y=Math.abs(o.current.getZoom()-d)<.1;A<50&&y?i():(o.current.once("moveend",i),setTimeout(i,1500))}},150)},ue=t=>{if(w.length!==0)if(t.key==="ArrowDown")t.preventDefault(),M(n=>n<w.length-1?n+1:n);else if(t.key==="ArrowUp")t.preventDefault(),M(n=>n>0?n-1:-1);else if(t.key==="Enter"){t.preventDefault();const n=Y>=0?Y:0;w[n]&&_(w[n])}else t.key==="Escape"&&(I(""),M(-1))};return e.jsxs("div",{className:"fixed inset-0 z-40 bg-surface-dark",children:[e.jsx(Re,{title:"Interactive World Map",description:"Explore the world with our high-fidelity interactive map. Click on countries to discover capitals, flags, and key demographics."}),e.jsx("div",{id:"map",ref:O,className:"w-full h-full outline-none focus:outline-none relative",style:{background:"#0F172A",height:"100dvh",width:"100%"},children:!m&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-white/20 font-display font-black uppercase tracking-widest pointer-events-none",children:"Initializing Map Engine..."})}),e.jsx("div",{className:`fixed bottom-10 left-6 z-[2000] pointer-events-auto hidden md:block transition-all duration-700 ease-out ${$?"opacity-0 pointer-events-none translate-y-10":"opacity-100 translate-y-0"}`,children:e.jsx("button",{onClick:()=>G(!0),className:"w-12 h-12 bg-white/40 backdrop-blur-3xl border border-black/20 rounded-full flex items-center justify-center text-[#1A1C1E] hover:bg-white/60 transition-all  relative overflow-hidden group",title:"Show UI",children:e.jsx(me,{size:20,className:"relative z-10 drop-shadow-sm"})})}),e.jsx("div",{className:`fixed z-[2000] pointer-events-auto md:hidden transition-all duration-700 ease-out ${$?"opacity-0 pointer-events-none":"bottom-10 left-6 opacity-100"}`,children:e.jsx("button",{onClick:()=>G(!$),className:"w-12 h-12 bg-white/40 backdrop-blur-3xl border border-black/20 rounded-full flex items-center justify-center text-[#1A1C1E] hover:bg-white/60 transition-all  relative overflow-hidden group",title:"Show UI",children:e.jsx(me,{size:20,className:"relative z-10 drop-shadow-sm"})})}),e.jsxs("div",{className:`hidden md:flex absolute top-24 left-6 w-60 flex-col gap-3 z-[1000] pointer-events-none transition-all duration-700 ease-out transform ${$?"translate-x-0 opacity-100":"-translate-x-full -translate-y-10 opacity-0"}`,children:[e.jsxs("div",{className:"pointer-events-auto relative z-50",children:[e.jsxs("div",{className:"bg-white/40 backdrop-blur-2xl rounded-xl  border border-black/20 flex items-center px-3.5 py-2.5 focus-within:ring-4 focus-within:ring-primary/10 focus-within:border-black/30 group relative overflow-hidden",children:[e.jsx("button",{onClick:()=>w.length>0&&_(w[0]),className:"mr-3 text-black/40 hover:text-primary transition-all focus:outline-none relative z-10",children:e.jsx(he,{size:16})}),e.jsx("input",{type:"text",placeholder:"SEARCH...",className:"bg-transparent border-none outline-none text-[9px] text-[#1A1C1E] w-full placeholder:text-black/30 font-black uppercase tracking-[0.2em] relative z-10",value:v,onChange:t=>I(t.target.value),onKeyDown:ue}),v&&e.jsx("button",{onClick:()=>I(""),className:"text-black/40 hover:text-black relative z-10 p-1",children:e.jsx(xe,{size:16})})]}),v&&e.jsxs("div",{ref:ze,className:"absolute left-0 w-full bg-surface-dark/95 backdrop-blur-3xl rounded-xl  border border-white/40 overflow-y-auto custom-scrollbar animate-in fade-in z-[60] overflow-hidden max-h-[50vh] top-full mt-2 slide-in-from-top-2",children:[e.jsx("div",{className:"absolute inset-0 bg-glossy-gradient opacity-5 pointer-events-none"}),w.length>0?e.jsx("ul",{className:"py-1 relative z-10",children:w.map((t,n)=>{const l=re(t.flag),a=F.some(u=>u.id===t.id),r=W.some(u=>u.id===t.id);let s="text-white",i="drop-shadow-md";return a&&(s="text-accent",i=""),r&&(s="text-warning",i=""),e.jsx("li",{children:e.jsxs("button",{onClick:()=>_(t),onMouseEnter:()=>M(n),className:`w-full text-left px-3.5 py-2.5 flex items-center gap-3 transition-all border-b border-white/5 last:border-none uppercase tracking-tighter ${n===Y?"bg-white/10 scale-[1.02] translate-x-1":"hover:bg-white/5"}`,children:[e.jsx("div",{className:"w-8 h-5 shrink-0 flex items-center justify-center",children:e.jsx("img",{src:`https://flagcdn.com/w80/${l}.png`,alt:"",className:"w-full h-full object-contain filter drop-shadow-md"})}),e.jsxs("div",{children:[e.jsx("p",{className:`text-[10px] font-black ${s} ${i}`,children:t.name}),e.jsx("p",{className:"text-[8px] font-bold text-white/30 tracking-widest whitespace-nowrap",children:t.region})]})]})},t.id)})}):e.jsx("div",{className:"p-8 text-center text-[9px] text-white/30 font-black uppercase tracking-[0.3em] relative z-10",children:"No matches found"})]})]}),e.jsxs("div",{className:"bg-white/40 backdrop-blur-3xl p-4 rounded-3xl  border border-black/20 pointer-events-auto relative overflow-hidden",children:[e.jsxs("div",{className:"flex items-center gap-2.5 mb-5 relative z-10",children:[e.jsx("div",{className:"p-2 bg-primary/10 rounded-xl text-primary border border-primary/20",children:e.jsx(Ie,{size:18})}),e.jsxs("div",{children:[e.jsx("h2",{className:"font-display font-black text-[#1A1C1E] leading-none text-base uppercase tracking-tighter drop-shadow-sm",children:"Atlas"}),e.jsxs("p",{className:"text-[8px] text-black/40 font-black uppercase tracking-[0.2em] mt-1",children:[te.length+F.length+W.length," Nodes"]})]})]}),e.jsxs("div",{className:"space-y-4 relative z-10",children:[e.jsxs("div",{className:"space-y-2.5",children:[e.jsxs("div",{className:"flex items-center gap-2 text-[8px] font-black text-black/30 uppercase tracking-[0.4em] mb-1 ml-1",children:[e.jsx(Me,{size:10}),e.jsx("span",{children:"Sectors"})]}),e.jsx("div",{className:"flex flex-wrap gap-1.5",children:je.map(t=>e.jsx("button",{onClick:()=>ie(t),className:`px-3 py-1.5 text-[8px] font-black uppercase tracking-widest rounded-lg transition-all duration-500  border-2 whitespace-nowrap ${p===t?"bg-primary text-white border-white/60":"bg-black/5 text-black/40 border-black/30 hover:bg-black/10 hover:text-black"}`,children:t},t))})]}),e.jsxs("div",{className:"pt-4 border-t border-black/20 flex flex-col gap-2",children:[e.jsxs("button",{onClick:()=>U(!g),className:`w-full flex items-center justify-between px-3 py-2 rounded-xl transition-all duration-500 text-[8px] font-black uppercase tracking-[0.2em] shadow-inner border ${g?"bg-accent/20 text-[#166534] border-accent/40":"bg-black/5 text-black/20 border-black/20 opacity-40 hover:opacity-100 hover:bg-black/10"}`,children:[e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(be,{size:12})," Territories"]}),e.jsx("div",{className:`w-7 h-3.5 rounded-full p-0.5 transition-all duration-500 ${g?"bg-accent":"bg-white/10"}`,children:e.jsx("div",{className:`w-2.5 h-2.5 bg-white rounded-full shadow-md transform transition-transform duration-500 ${g?"translate-x-3.5":"translate-x-0"}`})})]}),e.jsxs("button",{onClick:()=>B(!k),className:`w-full flex items-center justify-between px-3 py-2 rounded-xl transition-all duration-500 text-[8px] font-black uppercase tracking-[0.2em] shadow-inner border ${k?"bg-warning/20 text-[#92400e] border-warning/40":"bg-black/5 text-black/20 border-black/20 opacity-40 hover:opacity-100 hover:bg-black/10"}`,children:[e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(ge,{size:12})," De Facto"]}),e.jsx("div",{className:`w-7 h-3.5 rounded-full p-0.5 transition-all duration-500 ${k?"bg-warning":"bg-white/10"}`,children:e.jsx("div",{className:`w-2.5 h-2.5 bg-white rounded-full shadow-md transform transition-transform duration-500 ${k?"translate-x-3.5":"translate-x-0"}`})})]})]})]})]}),e.jsx("div",{className:"bg-white/40 backdrop-blur-3xl p-3.5 rounded-2xl  border border-black/20 pointer-events-auto relative overflow-hidden",children:e.jsxs("div",{className:"flex flex-col gap-2 text-[8px] font-black uppercase tracking-[0.3em] text-black/40 relative z-10",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-primary border border-black/10"}),e.jsx("span",{className:"drop-shadow-sm",children:"Sovereign"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-accent border border-black/10"}),e.jsx("span",{className:"drop-shadow-sm",children:"Territory"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-warning border border-black/10"}),e.jsx("span",{className:"drop-shadow-sm",children:"De Facto"})]})]})})]}),e.jsxs("div",{className:`hidden md:flex items-center justify-center gap-4 fixed bottom-10 left-1/2 -translate-x-1/2 z-[1001] pointer-events-auto transition-all duration-700 ease-out transform ${$?"translate-y-0 opacity-100":"translate-y-40 opacity-0"}`,children:[e.jsx("button",{onClick:()=>G(!1),className:"w-12 h-12 bg-white/40 backdrop-blur-3xl border border-black/20 rounded-full flex items-center justify-center text-[#1A1C1E] hover:bg-white/60 transition-all  relative overflow-hidden group",title:"Hide UI",children:e.jsx(ke,{size:20,className:"relative z-10 drop-shadow-sm"})}),e.jsx("button",{onClick:de,disabled:N,className:"flex items-center gap-4 px-10 h-14 text-lg rounded-full bg-white/40 backdrop-blur-3xl  border border-black/20 uppercase tracking-[0.15em] group relative overflow-hidden transition-all duration-500 text-[#1A1C1E] font-display font-black disabled:opacity-40 disabled:cursor-not-allowed disabled:saturate-50 hover:bg-white/60",children:e.jsxs("div",{className:"relative z-10 flex items-center gap-3 drop-shadow-sm",children:[e.jsx(ve,{size:24,className:`transition-transform duration-1000 ${N||!m?"animate-spin text-primary":"text-primary"}`}),e.jsx("span",{className:"tracking-tighter",children:m?N?"Scanning...":"Random Search":"Initializing..."})]})}),e.jsxs("div",{className:"hidden lg:flex items-center gap-2",children:[e.jsxs("button",{onClick:ce,className:"w-12 h-12 bg-white/40 backdrop-blur-3xl border border-black/20 rounded-full flex items-center justify-center text-[#1A1C1E] hover:bg-white/60 transition-all  group relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-glossy-gradient opacity-20 pointer-events-none"}),e.jsx(we,{size:22,className:"relative z-10 drop-shadow-sm"})]}),e.jsxs("button",{onClick:le,className:"w-12 h-12 bg-white/40 backdrop-blur-3xl border border-black/20 rounded-full flex items-center justify-center text-[#1A1C1E] hover:bg-white/60 transition-all  group relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-glossy-gradient opacity-20 pointer-events-none"}),e.jsx(ye,{size:22,className:"relative z-10 drop-shadow-sm"})]})]})]}),e.jsxs("div",{className:`md:hidden fixed bottom-0 left-0 w-full z-[1000] flex flex-col items-center pointer-events-none transition-all duration-700 ease-out transform ${$?"translate-y-0 opacity-100":"translate-y-full opacity-0"} [@media(max-height:620px)]:hidden`,children:[e.jsxs("div",{className:"w-full px-4 pb-4 flex items-end justify-between pointer-events-none",children:[e.jsx("button",{onClick:()=>G(!1),className:"pointer-events-auto w-12 h-12 bg-white/40 backdrop-blur-3xl border border-black/20 rounded-full flex items-center justify-center text-[#1A1C1E] hover:bg-white/60 transition-all  relative overflow-hidden flex-shrink-0 group",children:e.jsx(ke,{size:20,className:"relative z-10 drop-shadow-sm"})}),e.jsx("div",{className:"flex-1 flex justify-center px-2",children:e.jsx("button",{onClick:de,disabled:N||!m,className:"pointer-events-auto  bg-white/40 backdrop-blur-3xl text-[#1A1C1E] border border-black/20 px-8 py-3.5 rounded-full flex items-center gap-3 transition-all group relative overflow-hidden disabled:opacity-40 disabled:saturate-50 hover:bg-white/60",children:e.jsxs("div",{className:"relative z-10 flex items-center gap-3 drop-shadow-sm",children:[e.jsx(ve,{size:20,className:`transition-transform duration-1000 ${N||!m?"animate-spin text-primary":"text-primary"}`}),e.jsx("span",{className:"font-display font-black text-xs uppercase tracking-[0.1em] whitespace-nowrap",children:m?N?"SEARCHING...":"Random Search":"INITIALIZING..."})]})})}),e.jsxs("div",{className:"flex flex-col gap-2 flex-shrink-0",children:[e.jsxs("button",{onClick:le,className:"pointer-events-auto w-12 h-12 bg-white/40 backdrop-blur-3xl border border-black/20 rounded-full flex items-center justify-center text-[#1A1C1E] hover:bg-white/60 transition-all  relative overflow-hidden group",children:[e.jsx("div",{className:"absolute inset-0 bg-glossy-gradient opacity-20 pointer-events-none"}),e.jsx(ye,{size:20,className:"relative z-10 drop-shadow-sm"})]}),e.jsxs("button",{onClick:ce,className:"pointer-events-auto w-12 h-12 bg-white/40 backdrop-blur-3xl border border-black/20 rounded-full flex items-center justify-center text-[#1A1C1E] hover:bg-white/60 transition-all  relative overflow-hidden group",children:[e.jsx("div",{className:"absolute inset-0 bg-glossy-gradient opacity-20 pointer-events-none"}),e.jsx(we,{size:20,className:"relative z-10 drop-shadow-sm"})]})]})]}),e.jsxs("div",{className:"w-full pointer-events-auto bg-white/40 backdrop-blur-3xl border-t border-x border-black/20 shadow-xl rounded-t-3xl p-4 pb-4 flex flex-col gap-3 relative overflow-hidden",children:[e.jsxs("div",{className:"relative z-20",children:[e.jsxs("div",{className:"relative group bg-black/5 rounded-xl border border-black/20 focus-within:bg-black/10 focus-within:ring-2 focus-within:ring-primary/20 transition-all duration-500 overflow-hidden",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none",children:e.jsx(he,{size:18,className:"text-black/30 group-focus-within:text-primary transition-colors"})}),e.jsx("input",{type:"text",placeholder:"Search country or capital...",className:"block w-full pl-12 pr-12 py-3 bg-transparent text-[#1A1C1E] text-xs font-black uppercase tracking-widest placeholder:text-black/30 outline-none rounded-xl",value:v,onChange:t=>I(t.target.value),onKeyDown:ue}),v&&e.jsx("button",{onClick:()=>I(""),className:"absolute inset-y-0 right-0 pr-4 flex items-center",children:e.jsx("div",{className:"bg-black/10 rounded-full p-1 text-black/40 border border-black/10",children:e.jsx(xe,{size:16,strokeWidth:3})})})]}),v&&e.jsx("div",{ref:Ee,className:"absolute bottom-full left-0 w-full mb-4 bg-white/95 backdrop-blur-3xl rounded-2xl shadow-2xl border border-black/20 overflow-hidden max-h-[45vh] overflow-y-auto custom-scrollbar animate-in slide-in-from-bottom-4 fade-in",children:w.length>0?e.jsx("ul",{className:"py-2 relative z-10",children:w.map(t=>{const n=re(t.flag),l=F.some(i=>i.id===t.id),a=W.some(i=>i.id===t.id);let r="text-[#1A1C1E]",s="";return l&&(r="text-[#166534]",s=""),a&&(r="text-[#92400e]",s=""),e.jsx("li",{children:e.jsxs("button",{onClick:()=>_(t),className:"w-full text-left px-6 py-4 flex items-center gap-4 transition-all border-b border-black/5 last:border-none active:bg-black/5 uppercase tracking-tighter",children:[e.jsx("div",{className:"w-10 h-7 shrink-0 flex items-center justify-center",children:e.jsx("img",{src:`https://flagcdn.com/w80/${n}.png`,alt:"",className:"w-full h-full object-contain filter drop-shadow-md"})}),e.jsxs("div",{children:[e.jsx("p",{className:`text-xs font-black ${r} ${s}`,children:t.name}),e.jsx("p",{className:"text-[9px] font-bold text-black/40 tracking-widest",children:t.region})]})]})},t.id)})}):e.jsx("div",{className:"p-10 text-center text-[10px] text-black/40 font-black uppercase tracking-[0.3em] relative z-10",children:"No matches detected in archives"})})]}),e.jsx("div",{ref:X,className:"w-full overflow-x-auto no-scrollbar relative z-10",style:{scrollbarWidth:"none"},children:e.jsxs("div",{className:"flex gap-3 px-0.5 items-center min-w-max",children:[e.jsxs("button",{onClick:()=>U(!g),className:`
                        whitespace-nowrap flex-shrink-0 px-4 py-2.5 rounded-lg text-[10px] font-black uppercase tracking-widest transition-all duration-500 border select-none flex items-center gap-2 shadow-sm
                        ${g?"bg-accent/20 text-[#166534] border-accent/40":"bg-black/5 text-black/40 border-black/20 active:bg-black/10"}
                      `,children:[e.jsx(be,{size:14})," Territories"]}),e.jsxs("button",{onClick:()=>B(!k),className:`
                        whitespace-nowrap flex-shrink-0 px-4 py-2.5 rounded-lg text-[10px] font-black uppercase tracking-widest transition-all duration-500 border select-none flex items-center gap-2 shadow-sm
                        ${k?"bg-warning/20 text-[#92400e] border-warning/40":"bg-black/5 text-black/40 border-black/20 active:bg-black/10"}
                      `,children:[e.jsx(ge,{size:14})," De Facto"]}),e.jsx("div",{className:"w-[1px] h-6 bg-black/10 flex-shrink-0 mx-1"}),je.map(t=>e.jsx("button",{"data-region":t,onClick:()=>ie(t),className:`
                        whitespace-nowrap flex-shrink-0 px-5 py-2.5 rounded-lg text-[10px] font-black uppercase tracking-widest transition-all duration-500 border-2 select-none shadow-sm
                        ${p===t?"bg-primary text-white border-white/60":"bg-black/5 text-black/40 border-black/30 active:bg-black/10"}
                      `,children:t},t))]})})]})]})]})};export{Be as default};
