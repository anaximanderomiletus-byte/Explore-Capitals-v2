import{c as Y,u as dt,h as xt,s as ht,a as ut,r as a,t as Ae,v as mt,j as e,B as pt,i as y,m as h,X as ie,w as ft,R as Ie,x as bt,y as wt}from"./index-DEZpr8xu.js";import{P as gt}from"./PhoneInput-B4tWgVOC.js";import{A as yt}from"./arrow-left-BYl01RMY.js";import{C as jt}from"./camera-DeFdYBki.js";import{C as Oe}from"./circle-check-Cs4ck8O5.js";import{C as H}from"./circle-alert-Mo3loe6C.js";import{E as Re}from"./eye-off-VTMkMc9R.js";import{E as Te}from"./eye-DQJOREHH.js";import"./chevron-down-DvI5Vd4o.js";import"./search-CG6ThZOI.js";/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nt=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],vt=Y("monitor",Nt);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kt=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],De=Y("shield-alert",kt);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const St=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],Me=Y("smartphone",St);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Et=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Ct=Y("upload",Et),q=({title:j,children:A})=>e.jsxs("section",{className:"mb-8",children:[e.jsx("h2",{className:"text-[11px] font-black text-white/40 uppercase tracking-[0.2em] mb-4 px-1",children:j}),e.jsx("div",{className:"bg-white/[0.02] backdrop-blur-xl border border-white/[0.06] rounded-2xl overflow-hidden divide-y divide-white/[0.04]",children:A})]}),b=({children:j,onClick:A,className:_=""})=>e.jsx("div",{className:`p-5 ${A?"cursor-pointer hover:bg-white/[0.02] transition-colors":""} ${_}`,onClick:A,children:j}),qt=()=>{var Ce,Pe;const{setPageLoading:j}=dt(),{user:A,isLoading:_}=xt(),{user:n,updateProfileInfo:Q,changePassword:ze,sendVerifyEmail:Le,enrollPhoneMfa:Fe,confirmPhoneMfa:Ue,enrolledFactors:$e,disableMfaFactor:Ve,reloadUser:Pt,updateEmail:We,reauthenticate:T,deleteAccount:Be,signOut:Ge,loading:He,mfaResolver:At,solveMfaPhone:It,sendMfaSms:Ot,setMfaResolver:Rt}=ht(),D=ut(),K=a.useMemo(()=>{const t=navigator.userAgent;let s="Unknown Browser",c="Unknown OS";return t.includes("Chrome")?s="Chrome":t.includes("Safari")?s="Safari":t.includes("Firefox")?s="Firefox":t.includes("Edge")&&(s="Edge"),t.includes("Mac")?c="macOS":t.includes("Win")?c="Windows":t.includes("Linux")?c="Linux":t.includes("Android")?c="Android":(t.includes("iPhone")||t.includes("iPad"))&&(c="iOS"),{browser:s,os:c,isMobile:/Mobi|Android/i.test(t)}},[]),[N,le]=a.useState(""),[v,ne]=a.useState(""),[M,ce]=a.useState(""),[u,oe]=a.useState(""),[X,de]=a.useState(""),[z,Z]=a.useState(""),[o,d]=a.useState({}),[L,m]=a.useState(null),[p,i]=a.useState(null),[l,r]=a.useState(!1),[qe,xe]=a.useState(!1),[k,he]=a.useState(""),[I,ue]=a.useState(""),[Ye,O]=a.useState(!1),[_e,S]=a.useState(!1),me=a.useRef(null),[J,pe]=a.useState(!1);a.useEffect(()=>{n&&(N||le(n.displayName??""),v||ne(n.phoneNumber??""))},[n]);const F=a.useMemo(()=>({length:u.length>=8&&u.length<=4096,uppercase:/[A-Z]/.test(u),lowercase:/[a-z]/.test(u),number:/[0-9]/.test(u),special:/[!@#$%^&*(),.?":{}|<>]/.test(u)}),[u]),fe=a.useMemo(()=>Object.values(F).every(Boolean),[F]),[be,we]=a.useState(null),ee=a.useRef(null),x=a.useRef(null);a.useEffect(()=>(j(!1),()=>{x.current&&(x.current.clear(),x.current=null)}),[j]);const Qe=a.useMemo(()=>()=>{if(!Ae)return null;if(x.current){try{x.current.clear()}catch{}x.current=null}return ee.current?(x.current=new mt(Ae,ee.current,{size:"normal",callback:()=>{console.log("reCAPTCHA solved")},"expired-callback":()=>{x.current&&(x.current.clear(),x.current=null)}}),x.current):null},[]),[Ke,U]=a.useState(!1),[te,$]=a.useState(1),[w,E]=a.useState(""),[C,ge]=a.useState(!1),[Tt,se]=a.useState(1),[Dt,Mt]=a.useState(null);a.useEffect(()=>{if(p){const t=setTimeout(()=>i(null),1e4);return()=>clearTimeout(t)}},[p]),a.useEffect(()=>{if(L){const t=setTimeout(()=>m(null),5e3);return()=>clearTimeout(t)}},[L]);const f=()=>{m(null),i(null)},Xe=async()=>{if(!N){d({displayName:!0});return}r(!0),f();try{await Q({displayName:N}),m("Display name updated")}catch(t){i((t==null?void 0:t.message)??"Update failed")}finally{r(!1)}},Ze=async t=>{r(!0),f();try{await Q({photoURL:t}),m("Profile picture updated"),S(!1)}catch{i("Failed to update profile picture")}finally{r(!1)}},Je=async t=>{var c;const s=(c=t.target.files)==null?void 0:c[0];if(s){if(s.size>5*1024*1024){i("Image must be less than 5MB");return}if(!s.type.startsWith("image/")){i("Please select an image file");return}r(!0),f();try{const g=new FileReader;g.onload=async R=>{var G;const re=(G=R.target)==null?void 0:G.result;await Q({photoURL:re}),m("Profile photo uploaded"),S(!1),r(!1)},g.onerror=()=>{i("Failed to read image"),r(!1)},g.readAsDataURL(s)}catch{i("Failed to upload photo"),r(!1)}}},et=async()=>{const t={oldPassword:!M,password:!u,confirmPassword:!X};if(d(t),!Object.values(t).some(Boolean)){if(u!==X){i("Passwords do not match");return}if(!fe){i("Password does not meet requirements");return}r(!0),f();try{await ze(M,u),m("Password updated successfully"),oe(""),ce(""),de(""),pe(!1)}catch(s){i((s==null?void 0:s.message)??"Failed to change password")}finally{r(!1)}}},tt=async()=>{if(!k||!I){d({newEmail:!k,emailPassword:!I});return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(k)){i("Please enter a valid email address");return}r(!0),f();try{await T(I),await We(k),m("Verification email sent to new address"),O(!1),he(""),ue("")}catch(s){s.code==="auth/wrong-password"||s.code==="auth/invalid-credential"?i("Incorrect password"):s.code==="auth/email-already-in-use"?i("Email already in use by another account"):i((s==null?void 0:s.message)??"Failed to update email")}finally{r(!1)}},st=async()=>{r(!0),f();try{await Le(),m("Verification email sent")}catch(t){i((t==null?void 0:t.message)??"Failed to send email")}finally{r(!1)}},at=async()=>{if(!v){d({phone:!0});return}r(!0),f();try{try{if(!w){i("Please enter your password"),d({mfaPassword:!0}),r(!1);return}await T(w)}catch(c){if(c.code==="auth/multi-factor-auth-required"){se(1),r(!1);return}c.code==="auth/wrong-password"||c.code==="auth/invalid-credential"?(i("Incorrect password"),d({mfaPassword:!0})):c.code==="auth/too-many-requests"?i("Too many attempts. Please try again later."):i(`Verification failed: ${c.message}`),r(!1);return}const t=Qe();if(!t)throw new Error("Security check failed. Please refresh.");const s=await Fe(v,t);we(s),$(2),m("Code sent"),E("")}catch(t){if(console.error("Phone start error:",t.code,t),t.code==="auth/invalid-phone-number"?i("Invalid phone number format"):t.code==="auth/quota-exceeded"?i("SMS limit reached. Try again later."):i((t==null?void 0:t.message)??"Failed to send code"),x.current){try{x.current.clear()}catch{}x.current=null}}finally{r(!1)}},rt=async()=>{if(!z){d({smsCode:!0});return}if(be){r(!0),f();try{await Ue(be,z),m("Two-factor authentication enabled"),we(null),Z(""),$(2),xe(!0),setTimeout(()=>{U(!1),xe(!1)},2e3)}catch(t){console.error("Phone confirmation error:",t.code,t),(t==null?void 0:t.code)==="auth/invalid-verification-code"?i("Incorrect code"):(t==null?void 0:t.code)==="auth/code-expired"?i("Code expired. Request a new one."):i((t==null?void 0:t.message)??"Invalid code")}finally{r(!1)}}},it=async t=>{r(!0),f();try{try{if(!w){i("Please enter your password"),d({mfaPassword:!0}),r(!1);return}await T(w)}catch(s){if(s.code==="auth/multi-factor-auth-required"){se(1),r(!1);return}throw s}await Ve(t),m("Two-factor authentication disabled"),V(null),E("")}catch(s){console.error("MFA disable error:",s),s.code==="auth/wrong-password"||s.code==="auth/invalid-credential"?(i("Incorrect password"),d({mfaPassword:!0})):i((s==null?void 0:s.message)??"Failed to disable")}finally{r(!1)}},lt=async()=>{r(!0);try{await Ge(),D("/auth")}catch(t){console.error("Logout failed",t)}finally{r(!1)}},[nt,ae]=a.useState(!1),[ct,ye]=a.useState(!1),[je,V]=a.useState(null),[W,Ne]=a.useState(""),[ve,P]=a.useState(null),ot=async()=>{r(!0),P(null);try{try{if(!W){P("Please enter your password"),d({deletePassword:!0}),r(!1);return}await T(W)}catch(t){if(t.code==="auth/multi-factor-auth-required"){se(1),r(!1);return}throw t}await Be(),D("/auth")}catch(t){console.error("Deletion failed:",t),t.code==="auth/wrong-password"||t.code==="auth/invalid-credential"?(P("Incorrect password"),d({deletePassword:!0})):P((t==null?void 0:t.message)??"Deletion failed")}finally{r(!1)}},ke=t=>{if(!t)return null;const s=t.replace(/\D/g,"");return s.length===11&&s.startsWith("1")?`+1 (${s.slice(1,4)}) ${s.slice(4,7)}-${s.slice(7)}`:s.length===10?`(${s.slice(0,3)}) ${s.slice(3,6)}-${s.slice(6)}`:t},Se=(t,s,c="lg")=>{const g=wt(t),R=c==="xl"?"w-28 h-28":c==="lg"?"w-20 h-20":"w-12 h-12",re=c==="xl"?56:c==="lg"?40:24,G=c==="xl"?"text-4xl":c==="lg"?"text-3xl":"text-xl";return t&&(t.startsWith("data:")||t.startsWith("http"))?e.jsx("div",{className:`${R} rounded-full overflow-hidden ring-4 ring-white/10`,children:e.jsx("img",{src:t,alt:"Profile",className:"w-full h-full object-cover"})}):g?e.jsx("div",{className:`${R} rounded-full ${g.color} text-white flex items-center justify-center ring-4 ring-white/10`,children:Ie.cloneElement(g.icon,{size:re})}):e.jsx("div",{className:`${R} rounded-full bg-gradient-to-br from-sky to-primary text-white flex items-center justify-center font-display font-bold ${G} ring-4 ring-white/10`,children:s})};if((He||_)&&!n)return e.jsx("div",{className:"pt-32 pb-16 px-6 bg-surface-dark min-h-screen flex flex-col items-center justify-center text-center",children:e.jsx("div",{className:"w-12 h-12 border-4 border-sky border-t-transparent rounded-full animate-spin"})});if(!n)return e.jsxs("div",{className:"pt-32 pb-16 px-6 bg-surface-dark min-h-screen flex items-center justify-center relative overflow-hidden",children:[e.jsx("div",{className:"fixed inset-0 z-0 pointer-events-none",children:e.jsx("div",{className:"absolute top-[-20%] left-[-10%] w-[100%] h-[100%] bg-sky/10 rounded-full blur-[180px] opacity-60"})}),e.jsxs("div",{className:"bg-white/[0.03] backdrop-blur-3xl p-12 rounded-3xl border border-white/10 max-w-md text-center relative z-10",children:[e.jsx("div",{className:"w-20 h-20 rounded-2xl bg-sky/10 border border-sky/20 flex items-center justify-center mx-auto mb-6",children:e.jsx(De,{size:40,className:"text-sky"})}),e.jsx("h2",{className:"text-2xl font-display font-bold text-white uppercase tracking-tight",children:"SIGN IN REQUIRED"}),e.jsx("p",{className:"text-white/40 mt-3 mb-8 text-sm",children:"You must be logged in to view settings."}),e.jsx(pt,{onClick:()=>D("/auth"),className:"w-full h-14 text-[11px] font-black uppercase tracking-widest",children:"GO TO SIGN IN"})]})]});const Ee=((Pe=(Ce=n.displayName)==null?void 0:Ce[0])==null?void 0:Pe.toUpperCase())||"E",B=$e.find(t=>t.factorId==="phone");return e.jsxs("div",{className:"min-h-screen bg-surface-dark font-sans relative",children:[e.jsxs("div",{className:"fixed inset-0 z-0 pointer-events-none overflow-hidden",children:[e.jsx("div",{className:"absolute top-[-20%] left-[-10%] w-[60%] h-[60%] bg-sky/5 rounded-full blur-[150px]"}),e.jsx("div",{className:"absolute bottom-[-10%] right-[-10%] w-[50%] h-[50%] bg-primary/5 rounded-full blur-[120px]"})]}),e.jsx(y,{children:(L||p)&&e.jsx(h.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"fixed top-24 left-1/2 -translate-x-1/2 z-50",children:e.jsx("div",{className:`px-5 py-3 rounded-full text-sm font-bold backdrop-blur-xl border ${p?"bg-red-500/20 border-red-500/30 text-red-400":"bg-accent/20 border-accent/30 text-accent"}`,children:p??L})})}),e.jsx("div",{className:"relative z-10 pt-24 pb-16 px-4",children:e.jsxs("div",{className:"max-w-xl mx-auto",children:[e.jsxs("div",{className:"mb-10",children:[e.jsxs("button",{onClick:()=>D("/profile"),className:"inline-flex items-center gap-2 text-white/40 hover:text-white transition-colors mb-6 group",children:[e.jsx(yt,{size:16,className:"group-hover:-translate-x-1 transition-transform"}),e.jsx("span",{className:"text-[11px] font-black uppercase tracking-[0.15em]",children:"BACK TO PROFILE"})]}),e.jsx("h1",{className:"text-3xl md:text-4xl font-display font-black text-white uppercase tracking-tight",children:"SETTINGS"})]}),e.jsxs(q,{title:"PROFILE",children:[e.jsx(b,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"relative group",children:[Se(n.photoURL,Ee,"lg"),e.jsx("button",{onClick:()=>S(!0),className:"absolute inset-0 rounded-full bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:e.jsx(jt,{size:24,className:"text-white"})})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-[11px] font-black text-white/40 uppercase tracking-[0.15em] mb-1",children:"PROFILE PHOTO"}),e.jsx("p",{className:"text-sm text-white/60",children:"Choose an avatar or upload a photo"})]})]}),e.jsx("button",{onClick:()=>S(!0),className:"text-[11px] font-black text-sky uppercase tracking-[0.1em] hover:text-sky-light transition-colors",children:"EDIT"})]})}),e.jsxs(b,{children:[e.jsx("h3",{className:"text-[11px] font-black text-white/40 uppercase tracking-[0.15em] mb-3",children:"DISPLAY NAME"}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("input",{className:`flex-1 bg-white/5 border ${o.displayName?"border-red-500":"border-white/10"} rounded-xl px-4 py-3 text-sm text-white placeholder:text-white/30 outline-none focus:border-sky/50 focus:bg-white/[0.08] transition-all`,value:N,onChange:t=>{le(t.target.value),d({...o,displayName:!1})},placeholder:"Enter display name"}),e.jsx("button",{onClick:Xe,disabled:l||N===(n==null?void 0:n.displayName)||!N,className:"px-5 py-3 bg-sky hover:bg-sky-light disabled:opacity-30 disabled:cursor-not-allowed rounded-xl text-[11px] font-black text-white uppercase tracking-[0.1em] transition-all",children:"SAVE"})]})]}),e.jsx(b,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-[11px] font-black text-white/40 uppercase tracking-[0.15em] mb-1",children:"EMAIL ADDRESS"}),e.jsx("p",{className:"text-sm text-white",children:n.email})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[n.emailVerified?e.jsxs("span",{className:"flex items-center gap-1.5 text-[10px] font-black text-accent uppercase tracking-[0.1em]",children:[e.jsx(Oe,{size:14}),"VERIFIED"]}):e.jsx("button",{onClick:st,disabled:l,className:"text-[11px] font-black text-amber-400 uppercase tracking-[0.1em] hover:text-amber-300 transition-colors",children:"VERIFY"}),e.jsx("button",{onClick:()=>O(!0),className:"text-[11px] font-black text-sky uppercase tracking-[0.1em] hover:text-sky-light transition-colors",children:"CHANGE"})]})]})})]}),e.jsxs(q,{title:"SECURITY",children:[e.jsx(b,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-[11px] font-black text-white/40 uppercase tracking-[0.15em] mb-1",children:"TWO-FACTOR AUTHENTICATION"}),e.jsx("p",{className:"text-sm text-white/60",children:B?`Enabled · ${ke(B.phone)}`:"Protect your account with SMS verification"})]}),n.emailVerified?B?e.jsx("button",{onClick:()=>V(B.uid),className:"text-[11px] font-black text-red-400 uppercase tracking-[0.1em] hover:text-red-300 transition-colors",children:"DISABLE"}):e.jsx("button",{onClick:()=>{U(!0),$(1)},disabled:l,className:"text-[11px] font-black text-sky uppercase tracking-[0.1em] hover:text-sky-light transition-colors",children:"ENABLE"}):e.jsx("span",{className:"text-[10px] font-bold text-white/30 uppercase",children:"Verify email first"})]})}),e.jsx(b,{onClick:()=>pe(!J),className:"cursor-pointer",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-[11px] font-black text-white/40 uppercase tracking-[0.15em] mb-1",children:"PASSWORD"}),e.jsx("p",{className:"text-sm text-white/60",children:"Change your account password"})]}),e.jsx("span",{className:"text-[11px] font-black text-sky uppercase tracking-[0.1em]",children:J?"CLOSE":"CHANGE"})]})}),e.jsx(y,{children:J&&e.jsx(h.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2},className:"overflow-hidden border-t border-white/[0.04]",children:e.jsxs("div",{className:"p-5 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] font-black text-white/30 uppercase tracking-[0.15em] block mb-2",children:"CURRENT PASSWORD"}),e.jsx("input",{type:"password",className:`w-full bg-white/5 border ${o.oldPassword?"border-red-500":"border-white/10"} rounded-xl px-4 py-3 text-sm text-white outline-none focus:border-sky/50 transition-all`,value:M,onChange:t=>{ce(t.target.value),d({...o,oldPassword:!1})},placeholder:"Enter current password"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] font-black text-white/30 uppercase tracking-[0.15em] block mb-2",children:"NEW PASSWORD"}),e.jsx("input",{type:"password",className:`w-full bg-white/5 border ${o.password?"border-red-500":"border-white/10"} rounded-xl px-4 py-3 text-sm text-white outline-none focus:border-sky/50 transition-all`,value:u,onChange:t=>{oe(t.target.value),d({...o,password:!1})},placeholder:"New password"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] font-black text-white/30 uppercase tracking-[0.15em] block mb-2",children:"CONFIRM PASSWORD"}),e.jsx("input",{type:"password",className:`w-full bg-white/5 border ${o.confirmPassword?"border-red-500":"border-white/10"} rounded-xl px-4 py-3 text-sm text-white outline-none focus:border-sky/50 transition-all`,value:X,onChange:t=>{de(t.target.value),d({...o,confirmPassword:!1})},placeholder:"Confirm password"})]})]}),e.jsxs("div",{className:"p-4 bg-white/[0.02] rounded-xl border border-white/5",children:[e.jsx("p",{className:"text-[10px] font-black text-white/30 uppercase tracking-[0.15em] mb-3",children:"REQUIREMENTS"}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:[{key:"length",label:"8+ characters"},{key:"uppercase",label:"Uppercase"},{key:"lowercase",label:"Lowercase"},{key:"number",label:"Number"},{key:"special",label:"Special char"}].map(({key:t,label:s})=>e.jsxs("p",{className:`flex items-center gap-2 text-xs ${F[t]?"text-accent":"text-white/30"}`,children:[e.jsx("span",{className:`w-1.5 h-1.5 rounded-full ${F[t]?"bg-accent":"bg-white/20"}`}),s]},t))})]}),e.jsx("button",{onClick:et,disabled:l||!u||!M||!fe,className:"w-full py-3 bg-sky hover:bg-sky-light disabled:opacity-30 disabled:cursor-not-allowed rounded-xl text-[11px] font-black text-white uppercase tracking-[0.15em] transition-all",children:"UPDATE PASSWORD"})]})})})]}),e.jsxs(q,{title:"SESSION",children:[e.jsx(b,{children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-sky/10 flex items-center justify-center text-sky",children:K.isMobile?e.jsx(Me,{size:22}):e.jsx(vt,{size:22})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("h3",{className:"text-sm font-bold text-white",children:[K.browser," on ",K.os]}),e.jsx("p",{className:"text-xs text-white/40",children:"Current session"})]}),e.jsxs("span",{className:"flex items-center gap-1.5 text-[10px] font-black text-accent uppercase tracking-[0.1em]",children:[e.jsx("span",{className:"w-2 h-2 rounded-full bg-accent animate-pulse"}),"ACTIVE"]})]})}),e.jsx(b,{children:e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-black text-white/30 uppercase tracking-[0.15em] mb-1",children:"ACCOUNT CREATED"}),e.jsx("p",{className:"text-sm text-white",children:n!=null&&n.metadata.creationTime?new Date(n.metadata.creationTime).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"—"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-black text-white/30 uppercase tracking-[0.15em] mb-1",children:"LAST SIGN IN"}),e.jsx("p",{className:"text-sm text-white",children:n!=null&&n.metadata.lastSignInTime?new Date(n.metadata.lastSignInTime).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"—"})]})]})})]}),e.jsxs(q,{title:"ACCOUNT",children:[e.jsx(b,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-[11px] font-black text-white/40 uppercase tracking-[0.15em] mb-1",children:"SIGN OUT"}),e.jsx("p",{className:"text-sm text-white/60",children:"End your current session"})]}),e.jsx("button",{onClick:()=>ye(!0),className:"px-5 py-2.5 bg-white/5 hover:bg-white/10 border border-white/10 rounded-xl text-[11px] font-black text-white uppercase tracking-[0.1em] transition-all",children:"SIGN OUT"})]})}),e.jsx(b,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-[11px] font-black text-red-400/60 uppercase tracking-[0.15em] mb-1",children:"DELETE ACCOUNT"}),e.jsx("p",{className:"text-sm text-white/60",children:"Permanently remove all your data"})]}),e.jsx("button",{onClick:()=>ae(!0),className:"px-5 py-2.5 bg-red-500/10 hover:bg-red-500/20 border border-red-500/20 rounded-xl text-[11px] font-black text-red-400 uppercase tracking-[0.1em] transition-all",children:"DELETE"})]})})]})]})}),e.jsx(y,{children:_e&&e.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4",children:[e.jsx(h.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>!l&&S(!1),className:"absolute inset-0 bg-surface-dark/80 backdrop-blur-md"}),e.jsxs(h.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},className:"relative w-full max-w-md bg-white/[0.03] border border-white/10 rounded-3xl p-6 shadow-2xl backdrop-blur-2xl overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-sky/5 to-transparent pointer-events-none"}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-lg font-black text-white uppercase tracking-tight",children:"CHOOSE PHOTO"}),e.jsx("button",{onClick:()=>S(!1),className:"w-8 h-8 rounded-full bg-white/5 hover:bg-white/10 flex items-center justify-center transition-colors",children:e.jsx(ie,{size:16,className:"text-white/60"})})]}),e.jsx("div",{className:"flex justify-center mb-6",children:Se(n.photoURL,Ee,"xl")}),e.jsx("input",{ref:me,type:"file",accept:"image/*",onChange:Je,className:"hidden"}),e.jsxs("button",{onClick:()=>{var t;return(t=me.current)==null?void 0:t.click()},disabled:l,className:"w-full py-3 mb-4 bg-white/5 hover:bg-white/10 border border-white/10 rounded-xl text-[11px] font-black text-white uppercase tracking-[0.15em] transition-all flex items-center justify-center gap-2",children:[e.jsx(Ct,{size:16}),"UPLOAD PHOTO"]}),e.jsx("p",{className:"text-[10px] font-black text-white/30 uppercase tracking-[0.15em] mb-3",children:"OR CHOOSE AN AVATAR"}),e.jsx("div",{className:"grid grid-cols-5 gap-3",children:ft.map(t=>e.jsx("button",{onClick:()=>Ze(t.id),disabled:l,className:`aspect-square rounded-xl ${t.color} flex items-center justify-center transition-all ${n.photoURL===t.id?"ring-2 ring-white ring-offset-2 ring-offset-surface-dark scale-105":"opacity-60 hover:opacity-100 hover:scale-105"}`,children:Ie.cloneElement(t.icon,{size:20})},t.id))})]})]})]})}),e.jsx(y,{children:Ye&&e.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4",children:[e.jsx(h.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>!l&&O(!1),className:"absolute inset-0 bg-surface-dark/80 backdrop-blur-md"}),e.jsxs(h.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},className:"relative w-full max-w-md bg-white/[0.03] border border-white/10 rounded-3xl p-6 shadow-2xl backdrop-blur-2xl overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-sky/5 to-transparent pointer-events-none"}),e.jsxs("div",{className:"relative z-10 space-y-5",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-black text-white uppercase tracking-tight",children:"CHANGE EMAIL"}),e.jsxs("p",{className:"text-xs text-white/40 mt-1",children:["Current: ",n.email]})]}),e.jsx("button",{onClick:()=>O(!1),className:"w-8 h-8 rounded-full bg-white/5 hover:bg-white/10 flex items-center justify-center transition-colors",children:e.jsx(ie,{size:16,className:"text-white/60"})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] font-black text-white/30 uppercase tracking-[0.15em] block mb-2",children:"NEW EMAIL ADDRESS"}),e.jsx("input",{type:"email",className:`w-full bg-white/5 border ${o.newEmail?"border-red-500":"border-white/10"} rounded-xl px-4 py-3 text-sm text-white outline-none focus:border-sky/50 transition-all`,value:k,onChange:t=>{he(t.target.value),d({...o,newEmail:!1})},placeholder:"Enter new email address"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] font-black text-white/30 uppercase tracking-[0.15em] block mb-2",children:"CURRENT PASSWORD"}),e.jsx("input",{type:"password",className:`w-full bg-white/5 border ${o.emailPassword?"border-red-500":"border-white/10"} rounded-xl px-4 py-3 text-sm text-white outline-none focus:border-sky/50 transition-all`,value:I,onChange:t=>{ue(t.target.value),d({...o,emailPassword:!1})},placeholder:"Confirm with your password"})]})]}),e.jsx("div",{className:"p-4 bg-sky/5 border border-sky/10 rounded-xl text-xs text-white/60",children:"A verification link will be sent to your new email address. Your email won't change until you verify it."}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>O(!1),disabled:l,className:"flex-1 py-3 bg-white/5 hover:bg-white/10 border border-white/10 rounded-xl text-[11px] font-black text-white uppercase tracking-[0.1em] transition-all",children:"CANCEL"}),e.jsx("button",{onClick:tt,disabled:l||!k||!I,className:"flex-1 py-3 bg-sky hover:bg-sky-light disabled:opacity-30 disabled:cursor-not-allowed rounded-xl text-[11px] font-black text-white uppercase tracking-[0.1em] transition-all",children:l?"UPDATING...":"UPDATE EMAIL"})]})]})]})]})}),e.jsx(y,{children:nt&&e.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4",children:[e.jsx(h.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>!l&&ae(!1),className:"absolute inset-0 bg-surface-dark/80 backdrop-blur-md"}),e.jsxs(h.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},className:"relative w-full max-w-md bg-white/[0.03] border border-white/10 rounded-3xl p-6 shadow-2xl backdrop-blur-2xl overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-red-500/5 to-transparent pointer-events-none"}),e.jsxs("div",{className:"relative z-10 space-y-5",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-14 h-14 rounded-2xl bg-red-500/10 flex items-center justify-center text-red-500 border border-red-500/20",children:e.jsx(H,{size:28})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-black text-white uppercase tracking-tight",children:"DELETE ACCOUNT"}),e.jsx("p",{className:"text-xs text-white/40 mt-0.5",children:"This action cannot be undone"})]})]}),e.jsx("div",{className:"p-4 bg-red-500/5 border border-red-500/10 rounded-xl text-xs text-red-400/80 leading-relaxed",children:"All your progress, achievements, loyalty points, and personal data will be permanently deleted."}),e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] font-black text-white/30 uppercase tracking-[0.15em] block mb-2",children:"CONFIRM PASSWORD"}),e.jsx("input",{type:"password",className:`w-full bg-white/5 border ${o.deletePassword?"border-red-500":"border-white/10"} rounded-xl px-4 py-3 text-sm text-white outline-none focus:border-red-500/50 transition-all`,value:W,onChange:t=>{Ne(t.target.value),P(null),d({...o,deletePassword:!1})},placeholder:"Enter your password"}),ve&&e.jsxs("p",{className:"mt-2 text-xs text-red-400 flex items-center gap-1",children:[e.jsx(H,{size:12}),ve]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>{ae(!1),Ne(""),P(null)},disabled:l,className:"flex-1 py-3 bg-white/5 hover:bg-white/10 border border-white/10 rounded-xl text-[11px] font-black text-white uppercase tracking-[0.1em] transition-all",children:"CANCEL"}),e.jsx("button",{onClick:ot,disabled:l||!W,className:"flex-1 py-3 bg-red-500 hover:bg-red-600 disabled:opacity-30 disabled:cursor-not-allowed rounded-xl text-[11px] font-black text-white uppercase tracking-[0.1em] transition-all",children:l?"DELETING...":"DELETE ACCOUNT"})]})]})]})]})}),e.jsx(y,{children:Ke&&e.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4",children:[e.jsx(h.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>!l&&U(!1),className:"absolute inset-0 bg-surface-dark/80 backdrop-blur-md"}),e.jsxs(h.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},className:"relative w-full max-w-md bg-white/[0.03] border border-white/10 rounded-3xl p-6 shadow-2xl backdrop-blur-2xl overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-sky/5 to-transparent pointer-events-none"}),e.jsxs("div",{className:"relative z-10 space-y-5",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-sky/10 flex items-center justify-center text-sky border border-sky/20",children:e.jsx(Me,{size:24})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-black text-white uppercase tracking-tight",children:te===1?"SETUP 2FA":"VERIFY PHONE"}),e.jsx("p",{className:"text-xs text-white/40",children:te===1?"Enter your phone number":"Check your messages"})]})]}),e.jsx("button",{onClick:()=>{l||(U(!1),E(""),Z(""))},className:"w-8 h-8 rounded-full bg-white/5 hover:bg-white/10 flex items-center justify-center transition-colors",children:e.jsx(ie,{size:16,className:"text-white/60"})})]}),qe?e.jsxs(h.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"py-8 text-center",children:[e.jsx("div",{className:"w-20 h-20 bg-accent/20 rounded-full flex items-center justify-center text-accent mx-auto mb-4 border-2 border-accent/30",children:e.jsx(Oe,{size:48})}),e.jsx("h3",{className:"text-xl font-black text-white uppercase tracking-tight",children:"VERIFIED"}),e.jsx("p",{className:"text-xs text-white/40 uppercase tracking-widest mt-1",children:"Two-factor authentication enabled"})]}):te===1?e.jsxs("div",{className:"space-y-4",children:[e.jsx(gt,{value:v,onChange:ne,placeholder:"(555) 123-4567",error:o.phone}),e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] font-black text-white/30 uppercase tracking-[0.15em] block mb-2",children:"ACCOUNT PASSWORD"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:C?"text":"password",className:`w-full bg-white/5 border ${o.mfaPassword?"border-red-500":"border-white/10"} rounded-xl px-4 py-3 text-sm text-white outline-none focus:border-sky/50 transition-all pr-12`,value:w,onChange:t=>{E(t.target.value),d({...o,mfaPassword:!1})},placeholder:"Enter password to confirm"}),e.jsx("button",{type:"button",onClick:()=>ge(!C),className:"absolute right-4 top-1/2 -translate-y-1/2 text-white/30 hover:text-white transition-colors",children:C?e.jsx(Re,{size:18}):e.jsx(Te,{size:18})})]})]}),e.jsx("div",{className:"flex justify-center py-2",children:e.jsx("div",{ref:ee,id:"recaptcha-settings-container"})}),e.jsx("button",{onClick:at,disabled:l||!v||!w,className:"w-full py-3 bg-sky hover:bg-sky-light disabled:opacity-30 disabled:cursor-not-allowed rounded-xl text-[11px] font-black text-white uppercase tracking-[0.15em] transition-all",children:l?"SENDING...":"SEND VERIFICATION CODE"})]}):e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-4 bg-sky/5 border border-sky/10 rounded-xl text-xs text-white/60 text-center",children:["We sent a 6-digit code to ",e.jsx("span",{className:"text-white font-bold",children:ke(v)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] font-black text-white/30 uppercase tracking-[0.15em] block mb-2",children:"VERIFICATION CODE"}),e.jsx("input",{className:`w-full bg-white/5 border ${o.smsCode?"border-red-500":"border-white/10"} rounded-xl px-4 py-4 text-center text-2xl font-black tracking-[0.3em] text-white outline-none focus:border-sky/50 transition-all`,value:z,onChange:t=>{Z(t.target.value.replace(/\D/g,"").slice(0,6)),d({...o,smsCode:!1})},placeholder:"000000",autoFocus:!0})]}),e.jsx("button",{onClick:rt,disabled:l||z.length<6,className:"w-full py-3 bg-sky hover:bg-sky-light disabled:opacity-30 disabled:cursor-not-allowed rounded-xl text-[11px] font-black text-white uppercase tracking-[0.15em] transition-all",children:l?"VERIFYING...":"VERIFY & ENABLE"}),e.jsx("button",{onClick:()=>$(1),disabled:l,className:"w-full py-2 text-xs text-white/40 hover:text-white uppercase tracking-widest transition-colors",children:"CHANGE NUMBER"})]}),p&&e.jsxs("p",{className:"text-xs text-red-400 flex items-center justify-center gap-1",children:[e.jsx(H,{size:12}),p]})]})]})]})}),e.jsx(bt,{isOpen:ct,onClose:()=>ye(!1),onConfirm:lt,title:"Sign Out?",message:"Are you sure you want to end your session? You can sign back in at any time.",confirmText:"Sign Out",variant:"danger"}),e.jsx(y,{children:je&&e.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4",children:[e.jsx(h.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>!l&&V(null),className:"absolute inset-0 bg-surface-dark/80 backdrop-blur-md"}),e.jsxs(h.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},className:"relative w-full max-w-md bg-white/[0.03] border border-white/10 rounded-3xl p-6 shadow-2xl backdrop-blur-2xl overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-amber-500/5 to-transparent pointer-events-none"}),e.jsxs("div",{className:"relative z-10 space-y-5",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-14 h-14 rounded-2xl bg-amber-500/10 flex items-center justify-center text-amber-500 border border-amber-500/20",children:e.jsx(De,{size:28})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-black text-white uppercase tracking-tight",children:"DISABLE 2FA"}),e.jsx("p",{className:"text-xs text-white/40 mt-0.5",children:"Your account will be less secure"})]})]}),e.jsx("div",{className:"p-4 bg-amber-500/5 border border-amber-500/10 rounded-xl text-xs text-amber-500/80 leading-relaxed",children:"Removing two-factor authentication will make your account more vulnerable to unauthorized access."}),e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] font-black text-white/30 uppercase tracking-[0.15em] block mb-2",children:"ACCOUNT PASSWORD"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:C?"text":"password",className:`w-full bg-white/5 border ${o.mfaPassword?"border-red-500":"border-white/10"} rounded-xl px-4 py-3 text-sm text-white outline-none focus:border-amber-500/50 transition-all pr-12`,value:w,onChange:t=>{E(t.target.value),d({...o,mfaPassword:!1})},placeholder:"Enter your password"}),e.jsx("button",{type:"button",onClick:()=>ge(!C),className:"absolute right-4 top-1/2 -translate-y-1/2 text-white/30 hover:text-white transition-colors",children:C?e.jsx(Re,{size:18}):e.jsx(Te,{size:18})})]})]}),p&&e.jsxs("p",{className:"text-xs text-red-400 flex items-center gap-1",children:[e.jsx(H,{size:12}),p]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>{V(null),E("")},disabled:l,className:"flex-1 py-3 bg-white/5 hover:bg-white/10 border border-white/10 rounded-xl text-[11px] font-black text-white uppercase tracking-[0.1em] transition-all",children:"CANCEL"}),e.jsx("button",{onClick:()=>it(je),disabled:l||!w,className:"flex-1 py-3 bg-amber-500 hover:bg-amber-400 disabled:opacity-30 disabled:cursor-not-allowed rounded-xl text-[11px] font-black text-white uppercase tracking-[0.1em] transition-all",children:l?"DISABLING...":"DISABLE 2FA"})]})]})]})]})})]})};export{qt as default};
