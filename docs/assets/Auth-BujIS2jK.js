import{j as e,A as Q,m as j}from"./vendor-motion-CUvbj6jv.js";import{d as Ve,u as Re,r}from"./vendor-react-CJteECPR.js";import{b as Ae,u as Me,c as Ge,B as y}from"./index-BWlJl7v5.js";import{P as Te}from"./PhoneInput-Cqa7sDdG.js";import{W as Oe}from"./vendor-firebase-BmNGKg-n.js";import{C as De,S as pe,I as Fe,V as A,U as $e,ad as F,f as _,d as qe,q as Be,o as Ue}from"./vendor-icons-DnoOvNGG.js";const Je=()=>{const{signUpEmail:g,signInEmail:v,signInSms:I,confirmSmsLogin:C,linkPhoneToUser:E,confirmLinkPhoneCode:ee,resetPasswordEmail:q,confirmResetPassword:N,user:b,mfaResolver:l,solveMfaPhone:P,sendMfaSms:B,setMfaResolver:G,setConfirmationResult:Le,reloadUser:he,sendVerifyEmail:xe}=Ae(),{setPageLoading:te,setNavbarMode:U}=Me(),L=Ve(),se=Re(),[p,ae]=r.useState("signin"),[T,X]=r.useState("email"),[u,w]=r.useState(1),[Y,W]=r.useState(1),[ie,me]=r.useState(null),[H,fe]=r.useState(""),[m,O]=r.useState(""),[d,K]=r.useState(""),[D,ge]=r.useState(""),[Z,be]=r.useState(""),[z,re]=r.useState(""),[ne,we]=r.useState(null),[le,t]=r.useState(null),[oe,S]=r.useState(null),[J,ye]=r.useState(!1),[c,i]=r.useState(!1),k=r.useMemo(()=>({length:d.length>=8&&d.length<=4096,uppercase:/[A-Z]/.test(d),lowercase:/[a-z]/.test(d),number:/[0-9]/.test(d),special:/[!@#$%^&*(),.?":{}|<>]/.test(d)}),[d]),ce=r.useMemo(()=>Object.values(k).every(Boolean),[k]),V=r.useRef(null),x=r.useRef(null);r.useEffect(()=>{if(b){if(b.emailVerified){const a=se.state?.from?.pathname||"/",o=a==="/auth"?"/":a;if(J){const ue=setTimeout(()=>{L(o,{replace:!0})},1500);return()=>clearTimeout(ue)}else L(o,{replace:!0});return}(p!=="signup"||u!==2)&&(ae("signup"),w(2),O(b.email||""))}},[b,L,se,p,u,J]),r.useEffect(()=>(te(!1),U("hero"),()=>U("default")),[te,U]),r.useEffect(()=>{l||i(!1)},[l]);const de=r.useMemo(()=>()=>x.current?x.current:V.current?(x.current=new Oe(Ge,V.current,{size:"normal",callback:()=>{console.log("reCAPTCHA solved")},"expired-callback":()=>{x.current&&(x.current.clear(),x.current=null)}}),x.current):null,[]);r.useEffect(()=>()=>{x.current&&(x.current.clear(),x.current=null)},[]);const[n,h]=r.useState({}),ve=async s=>{s.preventDefault();const a={name:!H,email:!m,password:!d};if(h(a),!Object.values(a).some(Boolean)){if(!ce){t("Password does not meet the security requirements.");return}i(!0),t(null);try{await g({name:H,email:m,password:d}),w(2)}catch(o){if(console.error("Sign up error:",o.code,o),o.code==="auth/email-already-in-use")try{await v(m,d),w(2),t(null);return}catch{t("An account with this email already exists. Try signing in instead.")}else o.code==="auth/invalid-email"?t("The email address is not valid."):o.code==="auth/weak-password"?t("The password is too weak. Please use a more complex password."):t(o?.message??"Sign up failed")}finally{i(!1)}}},je=async()=>{i(!0),t(null);try{await xe(),S("Verification email sent! Check your inbox.")}catch(s){t(s?.message??"Failed to resend email")}finally{i(!1)}},Ne=async()=>{i(!0),t(null);try{await he(),b?.emailVerified?ye(!0):t("Email not verified yet. Please click the link in your email.")}catch{t("Failed to check status. Try again.")}finally{i(!1)}},R=s=>{ae(s),w(1),W(1),t(null),S(null),h({}),i(!1),s==="signin"&&X("email")},ke=async s=>{s.preventDefault();const a={email:!m,password:!d};if(h(a),!Object.values(a).some(Boolean)){i(!0),t(null);try{await v(m,d)}catch(o){switch(console.error("Sign in error:",o.code,o),o.code){case"auth/user-not-found":t("No account found with this email. Please sign up first.");break;case"auth/wrong-password":t("Incorrect password. Please try again or reset your password.");break;case"auth/invalid-credential":t("Invalid email or password. Please check your credentials and try again.");break;case"auth/invalid-email":t("Please enter a valid email address.");break;case"auth/user-disabled":t("This account has been disabled. Please contact support.");break;case"auth/too-many-requests":t("Too many failed attempts. Please try again later or reset your password.");break;default:t(o?.message??"Sign in failed. Please try again.")}}finally{i(!1)}}},Se=async s=>{s.preventDefault(),i(!0),t(null);try{const a=de();if(!a)throw new Error("Security check failed");const o=await I(Z,a);we(o),w(2)}catch(a){console.error("SMS Sign-in error:",a.code,a),x.current&&(x.current.clear(),x.current=null),a?.code==="auth/invalid-phone-number"?t("Invalid phone number format. Ensure you have the correct country selected."):a?.code==="auth/user-not-found"?t("No account found with this phone number. Please sign up first."):a?.code==="auth/too-many-requests"?t("Throttled: Too many attempts. Please try again later."):t(a?.message??"Could not send verification code")}finally{i(!1)}},Ie=async s=>{if(s.preventDefault(),!!ne){i(!0),t(null);try{await C(ne,z)}catch(a){console.error("SMS Sign-in confirm error:",a.code,a),a?.code==="auth/invalid-verification-code"?t("Incorrect verification code. Please check your messages and try again."):a?.code==="auth/code-expired"?t("Verification code has expired. Please request a new one."):t(a?.message??"Invalid code")}finally{i(!1)}}},Ce=async()=>{if(l){i(!0),t(null);try{if(l.hints[0].factorId==="phone"){const a=de();if(!a)throw new Error("Security check failed");const o=await B(a);me(o),W(2)}}catch(s){t(s?.message??"MFA initialization failed")}finally{i(!1)}}},Ee=async s=>{if(s.preventDefault(),!z){h({mfaCode:!0});return}if(l){i(!0),t(null);try{if(l.hints[0].factorId==="phone"){if(!ie)throw new Error("No verification session");await P(ie,z)}G(null)}catch(a){console.error("MFA verification error:",a),a.code==="auth/invalid-verification-code"?t("Incorrect code. Please try again."):t(a?.message??"MFA verification failed")}finally{i(!1)}}},Pe=async s=>{if(s.preventDefault(),!m){t("Please enter your email address");return}i(!0),t(null),S(null);try{await q(m),S("Reset code sent to your email."),w(2)}catch(a){t(a?.message??"Failed to send reset link.")}finally{i(!1)}},ze=async s=>{s.preventDefault();const a={resetCode:!D,password:!d};if(h(a),!Object.values(a).some(Boolean)){if(!D||!d){t("Please enter both the code and your new password");return}i(!0),t(null);try{await N(D,d),S("Password updated successfully! You can now sign in."),R("signin")}catch(o){t(o?.message??"Failed to reset password. The code might be invalid or expired.")}finally{i(!1)}}};return e.jsxs("div",{className:"min-h-screen bg-surface-dark flex flex-col relative overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0 z-0",children:[e.jsx("div",{className:"absolute top-[-10%] left-[-10%] w-[100%] h-[100%] bg-sky/30 rounded-full blur-[150px] animate-pulse-slow opacity-80"}),e.jsx("div",{className:"absolute bottom-[-10%] right-[-10%] w-[80%] h-[80%] bg-sky/15 rounded-full blur-[120px] animate-pulse-slow opacity-50"}),e.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-full h-full opacity-[0.12] pointer-events-none",children:e.jsx("img",{src:"./logo.png",alt:"Globe",className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[1200px] h-[1200px] object-contain animate-spin-slow"})})]}),e.jsx("div",{className:"relative z-10 flex-grow flex items-center justify-center px-4 pt-20 pb-8 sm:pt-32 sm:pb-12",children:e.jsxs("div",{className:"w-full max-w-[1000px] grid lg:grid-cols-2 bg-white/20 backdrop-blur-3xl rounded-[3rem] border-2 border-white/40 overflow-hidden relative",children:[e.jsx("div",{className:"absolute inset-0 bg-glossy-gradient opacity-30 pointer-events-none"}),e.jsxs("div",{className:"hidden lg:flex bg-sky/10 flex-col justify-between p-10 relative overflow-hidden border-r-2 border-white/20 group",children:[e.jsx("div",{className:"absolute inset-0 bg-aurora opacity-30 group-hover:opacity-40 transition-opacity pointer-events-none"}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"inline-flex items-center gap-3 px-4 py-1.5 bg-white/30 backdrop-blur-3xl rounded-full text-[9px] font-black uppercase tracking-[0.4em] text-white mb-6 border-2 border-white/40 relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-glossy-gradient opacity-50"}),e.jsx(De,{size:12,className:"animate-spin-slow relative z-10 text-sky-light"}),e.jsx("span",{className:"relative z-10 drop-shadow-md",children:"MASTER THE MAP"})]}),e.jsxs("h1",{className:"text-5xl font-display font-black text-white leading-tight tracking-tighter mb-4 uppercase drop-shadow-lg",children:["Master the ",e.jsx("br",{}),e.jsx("span",{className:"bg-clip-text bg-gradient-to-b from-white via-sky-light to-sky [-webkit-text-fill-color:transparent]",children:"Capitals."})]}),e.jsx("p",{className:"text-[11px] text-white font-black uppercase tracking-[0.2em] max-w-xs leading-relaxed drop-shadow-lg opacity-90",children:"Sign up to track your progress and earn rewards."})]}),e.jsxs("div",{className:"relative z-10 space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-display font-black text-white tracking-tighter drop-shadow-md",children:"195+"}),e.jsx("div",{className:"text-[9px] text-white/50 uppercase font-black tracking-widest mt-0.5",children:"Nations"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-display font-black text-white tracking-tighter drop-shadow-md",children:"50k+"}),e.jsx("div",{className:"text-[9px] text-white/50 uppercase font-black tracking-widest mt-0.5",children:"Explorers"})]})]}),e.jsxs("div",{className:"p-4 bg-white/10 backdrop-blur-md rounded-2xl border border-white/20 flex items-center gap-4 group hover:bg-white/15 transition-all relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-glossy-gradient opacity-30 pointer-events-none"}),e.jsxs("div",{className:"w-10 h-10 bg-gel-blue rounded-full flex items-center justify-center text-white relative overflow-hidden shrink-0 border border-white/30",children:[e.jsx(pe,{size:24,className:"relative z-10 drop-shadow-lg"}),e.jsx("div",{className:"absolute inset-0 bg-glossy-gradient opacity-50"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs font-black text-white uppercase tracking-tight drop-shadow-md",children:"Secure Account"}),e.jsx("div",{className:"text-[9px] text-white/60 font-black uppercase tracking-widest mt-0.5",children:"Encrypted Progress"})]})]})]}),e.jsx("img",{src:"./logo.png",alt:"Globe",className:"absolute -bottom-16 -right-16 w-[450px] h-[450px] opacity-15 -rotate-12 pointer-events-none animate-spin-slow"})]}),e.jsxs("div",{className:"p-8 sm:p-10 lg:p-14 flex flex-col justify-center bg-white/5 relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-glossy-gradient opacity-10 pointer-events-none"}),e.jsxs("div",{className:"max-w-md mx-auto w-full relative z-10",children:[e.jsxs("div",{className:"mb-8 text-center lg:text-left",children:[e.jsx("h2",{className:"text-3xl font-display font-black text-white tracking-tighter mb-1.5 uppercase leading-none drop-shadow-md",children:l?Y===1?"Security Check":"Verify Identity":p==="signup"?u===1?"SIGN UP":u===2?"VERIFY PHONE":"CONFIRM CODE":p==="forgotpassword"?u===1?"RESET PASSWORD":"NEW PASSWORD":"SIGN IN"}),e.jsxs("p",{className:"text-white/60 leading-relaxed font-bold uppercase text-[9px] tracking-widest drop-shadow-lg",children:[l?Y===1?`Account protected with SMS (•••• ${l.hints[0].phoneNumber?.slice(-4)||"XXXX"}).`:`Enter the code sent to •••• ${l.hints[0].phoneNumber?.slice(-4)||"XXXX"}.`:p==="signup"&&u===1&&"Create an account to start tracking progress.",!l&&p==="signup"&&u===2&&"Enter your phone number for verification.",!l&&p==="signup"&&u===3&&`Verification code sent to ${Z}.`,!l&&p==="signin"&&"Sign in to access your stats.",!l&&p==="forgotpassword"&&u===1&&"Enter your email to receive a reset link.",!l&&p==="forgotpassword"&&u===2&&"Enter the code from your email to reset."]})]}),u===1&&p!=="forgotpassword"&&!l&&e.jsx("div",{className:"space-y-6 mb-8",children:e.jsxs("div",{className:"flex bg-black/20 p-1 rounded-full border border-white/20 shadow-inner relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-glossy-gradient opacity-10 pointer-events-none"}),e.jsx($,{active:p==="signin",layoutId:"mode-toggle",onClick:()=>R("signin"),children:"SIGN IN"}),e.jsx($,{active:p==="signup",layoutId:"mode-toggle",onClick:()=>R("signup"),children:"SIGN UP"})]})}),le&&e.jsxs("div",{className:"flex items-start gap-3 bg-red-500/20 p-4 rounded-xl border border-red-500/30 mb-8 animate-in zoom-in-95 relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-glossy-gradient opacity-10 pointer-events-none"}),e.jsx(Fe,{className:"text-red-500 shrink-0 mt-0.5 relative z-10",size:16}),e.jsx("p",{className:"text-[9px] font-black text-red-500 uppercase tracking-widest leading-snug relative z-10",children:le})]}),oe&&e.jsxs("div",{className:"flex items-start gap-3 bg-green-500/20 p-4 rounded-xl border border-green-500/30 mb-8 animate-in zoom-in-95 relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-glossy-gradient opacity-10 pointer-events-none"}),e.jsx(A,{className:"text-green-500 shrink-0 mt-0.5 relative z-10",size:16}),e.jsx("p",{className:"text-[9px] font-black text-green-500 uppercase tracking-widest leading-snug relative z-10",children:oe})]}),e.jsx("div",{className:"space-y-6",children:e.jsx(Q,{initial:!1,children:l?e.jsx(j.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.15,ease:"easeOut"},className:"space-y-6",children:Y===1?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"p-6 bg-white/10 backdrop-blur-md rounded-2xl border border-white/20 text-center relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-glossy-gradient opacity-20 pointer-events-none"}),e.jsx(pe,{size:48,className:"mx-auto text-sky-light mb-4 relative z-10"}),e.jsx("p",{className:"text-xs font-bold text-white uppercase tracking-widest mb-2 relative z-10",children:"Two-Factor Authentication"}),e.jsxs("p",{className:"text-[10px] text-white/60 font-medium relative z-10",children:["Verify your identity via SMS sent to •••• ",l.hints[0].phoneNumber?.slice(-4)||"XXXX","."]})]}),e.jsx("div",{className:"flex justify-center",ref:V,id:"recaptcha-container-mfa"}),e.jsx(y,{onClick:Ce,disabled:c,className:"w-full h-14 uppercase tracking-widest font-black",children:c?"INITIALIZING...":"VERIFY VIA SMS"}),e.jsx("button",{onClick:()=>{G(null),i(!1),t(null)},className:"w-full text-[9px] font-black text-white/40 hover:text-sky uppercase tracking-[0.3em] py-2",children:"Cancel"})]}):e.jsxs("form",{className:"space-y-6",onSubmit:Ee,noValidate:!0,children:[e.jsx(f,{icon:e.jsx(A,{size:18}),label:"Verification Code",value:z,onChange:s=>{re(s),h({...n,mfaCode:!1})},placeholder:"000 000",required:!0,error:n.mfaCode}),e.jsx(y,{type:"submit",disabled:c,className:"w-full h-14 uppercase tracking-widest font-black",children:c?"VERIFYING...":"VERIFY & SIGN IN"}),e.jsx("button",{onClick:()=>{W(1),i(!1),t(null)},className:"w-full text-[9px] font-black text-white/40 hover:text-sky uppercase tracking-[0.3em] py-2",children:"Go Back"})]})},"mfa"):e.jsxs(e.Fragment,{children:[p==="signup"&&e.jsxs(j.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.15,ease:"easeOut"},className:"space-y-4",children:[u===1&&e.jsxs("form",{className:"space-y-4",onSubmit:ve,noValidate:!0,children:[e.jsx(f,{icon:e.jsx($e,{size:16}),label:"Name",value:H,onChange:s=>{fe(s),h({...n,name:!1})},placeholder:"Your Name",required:!0,error:n.name}),e.jsx(f,{icon:e.jsx(F,{size:16}),label:"Email",type:"email",value:m,onChange:s=>{O(s),h({...n,email:!1})},placeholder:"Email",required:!0,error:n.email}),e.jsx(f,{icon:e.jsx(_,{size:16}),label:"Password",type:"password",value:d,onChange:s=>{K(s),h({...n,password:!1})},placeholder:"••••••••",required:!0,error:n.password}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 mt-2 px-1",children:[e.jsx(M,{met:k.length,label:"8-4096 characters"}),e.jsx(M,{met:k.uppercase,label:"Uppercase (A-Z)"}),e.jsx(M,{met:k.lowercase,label:"Lowercase (a-z)"}),e.jsx(M,{met:k.number,label:"Numeric (0-9)"}),e.jsx(M,{met:k.special,label:"Special char (!@#$)"})]}),e.jsx(y,{type:"submit",className:"w-full h-14 text-lg mt-4 uppercase tracking-widest border border-white/20",disabled:c||!ce,children:c?e.jsx("span",{className:"animate-pulse text-sm",children:"LOADING..."}):e.jsxs("span",{className:"flex items-center gap-2 text-sm",children:["SIGN UP ",e.jsx(qe,{size:20})]})})]}),u===2&&e.jsx("div",{className:"space-y-6",children:e.jsx(Q,{mode:"wait",children:J?e.jsxs(j.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"py-12 flex flex-col items-center justify-center text-center space-y-4",children:[e.jsx("div",{className:"w-20 h-20 bg-green-500/20 rounded-full flex items-center justify-center text-green-500 border border-green-500/30",children:e.jsx(A,{size:48})}),e.jsx("h3",{className:"text-xl font-black text-white uppercase tracking-tighter",children:"Verified"}),e.jsx("p",{className:"text-[10px] text-white/40 uppercase font-black tracking-widest",children:"Completing registration..."})]},"success"):e.jsxs(j.div,{className:"space-y-6 text-center",children:[e.jsx("div",{className:"w-20 h-20 bg-sky/10 rounded-full flex items-center justify-center text-sky-light mx-auto border-2 border-white/20",children:e.jsx(F,{size:32})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h3",{className:"text-xl font-black text-white uppercase tracking-tighter",children:"Check Your Email"}),e.jsxs("p",{className:"text-[10px] text-white/40 uppercase font-black tracking-widest leading-relaxed",children:["We've sent a verification link to ",e.jsx("br",{}),e.jsx("span",{className:"text-white",children:m})]})]}),e.jsxs("div",{className:"flex flex-col gap-3 pt-4",children:[e.jsx(y,{onClick:Ne,disabled:c,className:"w-full h-14 uppercase tracking-widest",children:c?"CHECKING...":"I'VE VERIFIED MY EMAIL"}),e.jsx("button",{type:"button",onClick:je,disabled:c,className:"w-full text-[9px] font-black text-white/40 hover:text-sky transition-all uppercase tracking-widest py-2",children:"RESEND EMAIL"}),e.jsx("button",{type:"button",onClick:()=>{w(1),i(!1),t(null)},className:"w-full text-[9px] font-black text-white/40 hover:text-sky transition-all uppercase tracking-widest py-2",children:"GO BACK"})]})]},"input")})})]},`signup-step-${u}`),p==="signin"&&e.jsxs(j.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.15,ease:"easeOut"},className:"space-y-6",children:[e.jsxs("div",{className:"flex bg-black/20 p-1 rounded-full border border-white/20 shadow-inner relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-glossy-gradient opacity-10 pointer-events-none"}),e.jsx($,{active:T==="email",layoutId:"auth-method",onClick:()=>{X("email"),t(null)},children:"Email"}),e.jsx($,{active:T==="phone",layoutId:"auth-method",onClick:()=>{X("phone"),t(null)},children:"Phone"})]}),e.jsx(Q,{children:e.jsx(j.div,{initial:{opacity:0,x:10},animate:{opacity:1,x:0},exit:{opacity:0,x:-10},transition:{duration:.2},children:T==="email"?e.jsxs("form",{className:"space-y-4",onSubmit:ke,noValidate:!0,children:[e.jsx(f,{icon:e.jsx(F,{size:16}),label:"Email",type:"email",value:m,onChange:s=>{O(s),h({...n,email:!1})},placeholder:"Email",required:!0,error:n.email}),e.jsx(f,{icon:e.jsx(_,{size:16}),label:"Password",type:"password",value:d,onChange:s=>{K(s),h({...n,password:!1})},placeholder:"••••••••",required:!0,error:n.password}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{type:"button",onClick:()=>R("forgotpassword"),className:"text-[9px] font-black text-sky hover:text-white uppercase tracking-widest transition-all",children:"FORGOT PASSWORD?"})}),e.jsx(y,{type:"submit",className:"w-full h-14 text-lg mt-2 uppercase tracking-widest border border-white/20",disabled:c,children:c?e.jsx("span",{className:"text-sm",children:"SIGNING IN..."}):e.jsx("span",{className:"text-sm",children:"SIGN IN"})})]}):e.jsx("div",{className:"space-y-4",children:u===1?e.jsxs("form",{className:"space-y-4",onSubmit:Se,noValidate:!0,children:[e.jsx(Te,{label:"Phone",value:Z,onChange:s=>{be(s),h({...n,phone:!1})},placeholder:"Phone",required:!0,error:n.phone}),e.jsx("div",{className:"flex justify-center py-2",ref:V,id:"recaptcha-container-signin"}),e.jsx(y,{type:"submit",className:"w-full h-14 text-lg mt-4 uppercase tracking-widest border border-white/20",disabled:c,children:c?e.jsx("span",{className:"text-sm",children:"SENDING..."}):e.jsx("span",{className:"text-sm",children:"SIGN IN"})})]}):e.jsxs("form",{className:"space-y-4",onSubmit:Ie,noValidate:!0,children:[e.jsx(f,{icon:e.jsx(A,{size:16}),label:"Code",value:z,onChange:s=>{re(s),h({...n,signinCode:!1})},placeholder:"000 000",required:!0,error:n.signinCode}),e.jsx(y,{type:"submit",className:"w-full h-14 text-lg mt-4 uppercase tracking-widest border border-white/20",disabled:c,children:c?e.jsx("span",{className:"text-sm",children:"VERIFYING..."}):e.jsx("span",{className:"text-sm",children:"SIGN IN"})}),e.jsx("button",{type:"button",onClick:()=>{w(1),i(!1),t(null)},className:"w-full text-[9px] font-black text-white/40 hover:text-sky transition-all uppercase tracking-widest py-3",children:"CHANGE NUMBER"})]})})},T)})]},"signin"),p==="forgotpassword"&&e.jsx(j.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.15,ease:"easeOut"},className:"space-y-4",children:u===1?e.jsxs("form",{className:"space-y-4",onSubmit:Pe,noValidate:!0,children:[e.jsx(f,{icon:e.jsx(F,{size:16}),label:"Email",type:"email",value:m,onChange:s=>{O(s),h({...n,email:!1})},placeholder:"Email",required:!0,error:n.email}),e.jsx(y,{type:"submit",className:"w-full h-14 text-lg mt-4 uppercase tracking-widest border border-white/20",disabled:c,children:c?e.jsx("span",{className:"text-sm",children:"SENDING..."}):e.jsx("span",{className:"text-sm",children:"SEND RESET LINK"})}),e.jsx("button",{type:"button",onClick:()=>R("signin"),className:"w-full text-[9px] font-black text-white/40 hover:text-sky transition-all uppercase tracking-widest py-3",children:"BACK TO SIGN IN"})]}):e.jsxs("form",{className:"space-y-4",onSubmit:ze,noValidate:!0,children:[e.jsx(f,{icon:e.jsx(A,{size:16}),label:"Reset Code",value:D,onChange:s=>{ge(s),h({...n,resetCode:!1})},placeholder:"Enter code from email",required:!0,error:n.resetCode}),e.jsx(f,{icon:e.jsx(_,{size:16}),label:"New Password",type:"password",value:d,onChange:s=>{K(s),h({...n,password:!1})},placeholder:"••••••••",required:!0,error:n.password}),e.jsx(y,{type:"submit",className:"w-full h-14 text-lg mt-4 uppercase tracking-widest border border-white/20",disabled:c,children:c?e.jsx("span",{className:"text-sm",children:"UPDATING..."}):e.jsx("span",{className:"text-sm",children:"RESET PASSWORD"})}),e.jsx("button",{type:"button",onClick:()=>{w(1),i(!1),t(null),S(null)},className:"w-full text-[9px] font-black text-white/40 hover:text-sky transition-all uppercase tracking-widest py-3",children:"RESEND CODE"})]})},`forgotpassword-step-${u}`)]})})}),e.jsx("div",{ref:V,id:"recaptcha-container"}),e.jsxs("p",{className:"mt-12 text-center text-[9px] text-white/30 font-bold uppercase tracking-[0.3em]",children:["By signing in, you agree to our ",e.jsx("span",{className:"text-sky hover:underline cursor-pointer",children:"Terms of Service"}),"."]})]})]})]})})]})},M=({met:g,label:v})=>e.jsxs("div",{className:`flex items-center gap-1.5 transition-colors duration-300 ${g?"text-green-400":"text-white/20"}`,children:[e.jsx("div",{className:`w-1 h-1 rounded-full ${g?"bg-green-400":"bg-white/20"}`}),e.jsx("span",{className:"text-[8px] font-black uppercase tracking-widest leading-none",children:v})]}),$=({active:g,onClick:v,children:I,layoutId:C,className:E=""})=>e.jsxs("button",{type:"button",onClick:v,className:`flex-1 py-3 text-[10px] font-black uppercase tracking-[0.3em] rounded-full transition-colors duration-300 relative z-10 ${g?"text-sky":"text-white/40 hover:text-white"} ${E}`,children:[e.jsx("span",{className:"relative z-10",children:I}),g&&e.jsx(j.div,{layoutId:C,className:"absolute inset-0 bg-white rounded-full overflow-hidden",transition:{type:"spring",bounce:.15,duration:.6},children:e.jsx("div",{className:"absolute inset-0 bg-glossy-gradient opacity-40 pointer-events-none"})})]}),f=({label:g,value:v,onChange:I,icon:C,type:E="text",placeholder:ee,required:q,error:N})=>{const[b,l]=r.useState(!1),P=E==="password",B=P?b?"text":"password":E;return e.jsxs("div",{className:"space-y-2.5",children:[e.jsx("label",{className:"text-[9px] font-black uppercase tracking-[0.2em] text-white/30 ml-1 block",children:g}),e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:`absolute left-5 top-1/2 -translate-y-1/2 ${N?"text-red-500":"text-white/30 group-focus-within:text-sky"} transition-colors duration-300`,children:C}),e.jsx("input",{className:`w-full bg-white/5 border ${N?"border-red-500":"border-white/20"} rounded-2xl pl-14 ${P?"pr-12":"pr-5"} py-3.5 focus:ring-4 ${N?"focus:ring-red-500/10 focus:border-red-500":"focus:ring-sky/10 focus:border-sky/40"} outline-none transition-all duration-300 font-black text-[11px] text-white placeholder:text-white/10 tracking-wider shadow-inner`,value:v,type:B,placeholder:ee,required:q,onChange:G=>I(G.target.value)}),P&&e.jsx("button",{type:"button",onClick:()=>l(!b),className:`absolute right-4 top-1/2 -translate-y-1/2 ${N?"text-red-500/50 hover:text-red-500":"text-white/30 hover:text-sky"} transition-colors`,tabIndex:-1,children:b?e.jsx(Be,{size:18}):e.jsx(Ue,{size:18})}),e.jsx("div",{className:`absolute bottom-0 left-6 right-6 h-0.5 rounded-full transition-all duration-500 ${N?"bg-red-500 opacity-100":"bg-transparent opacity-0"}`})]})]})};export{Je as default};
