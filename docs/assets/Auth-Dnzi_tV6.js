import{H as Te,u as Oe,a as De,h as Fe,r,J as $e,I as qe,j as e,S as Le,g as Be,i as fe,l as _,m as j,b as y,U as Ue,W as Xe}from"./index-BPeeytmd.js";import{P as Ye}from"./PhoneInput-B-PhiwDL.js";import{C as We}from"./circle-alert-XJ3MhL9C.js";import{C as A}from"./circle-check-Cwgz8vjG.js";import{M as F}from"./mail-DGzM1bc5.js";import{L as ee}from"./lock-CDla7-LP.js";import{E as He}from"./eye-off-pPu4ao9R.js";import{E as Ke}from"./eye-DOve94uz.js";import"./chevron-down-BHHoxg7Z.js";import"./search-CHGsaIM2.js";const lt=()=>{var pe,he,xe;const{signUpEmail:b,signInEmail:v,signInSms:C,confirmSmsLogin:I,linkPhoneToUser:E,confirmLinkPhoneCode:te,resetPasswordEmail:q,confirmResetPassword:N,user:m,mfaResolver:o,solveMfaPhone:P,sendMfaSms:L,setMfaResolver:G,setConfirmationResult:Ze,reloadUser:ge,sendVerifyEmail:be}=Te(),{setPageLoading:se,setNavbarMode:B}=Oe(),U=De(),ae=Fe(),[d,ie]=r.useState("signin"),[T,X]=r.useState("email"),[p,w]=r.useState(1),[Y,W]=r.useState(1),[re,we]=r.useState(null),[H,ye]=r.useState(""),[f,O]=r.useState(""),[u,K]=r.useState(""),[D,ve]=r.useState(""),[Z,je]=r.useState(""),[z,ne]=r.useState(""),[le,Ne]=r.useState(null),[oe,a]=r.useState(null),[ce,S]=r.useState(null),[J,ke]=r.useState(!1),[c,i]=r.useState(!1),k=r.useMemo(()=>({length:u.length>=8&&u.length<=4096,uppercase:/[A-Z]/.test(u),lowercase:/[a-z]/.test(u),number:/[0-9]/.test(u),special:/[!@#$%^&*(),.?":{}|<>]/.test(u)}),[u]),de=r.useMemo(()=>Object.values(k).every(Boolean),[k]),R=r.useRef(null),x=r.useRef(null);r.useEffect(()=>{var s,t;if(m){if(m.emailVerified){const Q=((t=(s=ae.state)==null?void 0:s.from)==null?void 0:t.pathname)||"/",me=Q==="/auth"?"/":Q;if(J){const Ge=setTimeout(()=>{U(me,{replace:!0})},1500);return()=>clearTimeout(Ge)}else U(me,{replace:!0});return}(d!=="signup"||p!==2)&&(ie("signup"),w(2),O(m.email||""))}},[m,U,ae,d,p,J]),r.useEffect(()=>(se(!1),B("hero"),()=>B("default")),[se,B]),r.useEffect(()=>{o||i(!1)},[o]);const ue=r.useMemo(()=>()=>x.current?x.current:R.current?(x.current=new $e(qe,R.current,{size:"normal",callback:()=>{console.log("reCAPTCHA solved")},"expired-callback":()=>{x.current&&(x.current.clear(),x.current=null)}}),x.current):null,[]);r.useEffect(()=>()=>{x.current&&(x.current.clear(),x.current=null)},[]);const[l,h]=r.useState({}),Se=async s=>{s.preventDefault();const t={name:!H,email:!f,password:!u};if(h(t),!Object.values(t).some(Boolean)){if(!de){a("Password does not meet the security requirements.");return}i(!0),a(null);try{await b({name:H,email:f,password:u}),w(2)}catch(n){if(console.error("Sign up error:",n.code,n),n.code==="auth/email-already-in-use")try{await v(f,u),w(2),a(null);return}catch{a("An account with this email already exists. Try signing in instead.")}else n.code==="auth/invalid-email"?a("The email address is not valid."):n.code==="auth/weak-password"?a("The password is too weak. Please use a more complex password."):a((n==null?void 0:n.message)??"Sign up failed")}finally{i(!1)}}},Ce=async()=>{i(!0),a(null);try{await be(),S("Verification email sent! Check your inbox.")}catch(s){a((s==null?void 0:s.message)??"Failed to resend email")}finally{i(!1)}},Ie=async()=>{i(!0),a(null);try{await ge(),m!=null&&m.emailVerified?ke(!0):a("Email not verified yet. Please click the link in your email.")}catch{a("Failed to check status. Try again.")}finally{i(!1)}},V=s=>{ie(s),w(1),W(1),a(null),S(null),h({}),i(!1),s==="signin"&&X("email")},Ee=async s=>{s.preventDefault();const t={email:!f,password:!u};if(h(t),!Object.values(t).some(Boolean)){i(!0),a(null);try{await v(f,u)}catch(n){switch(console.error("Sign in error:",n.code,n),n.code){case"auth/user-not-found":a("No account found with this email. Please sign up first.");break;case"auth/wrong-password":a("Incorrect password. Please try again or reset your password.");break;case"auth/invalid-credential":a("Invalid email or password. Please check your credentials and try again.");break;case"auth/invalid-email":a("Please enter a valid email address.");break;case"auth/user-disabled":a("This account has been disabled. Please contact support.");break;case"auth/too-many-requests":a("Too many failed attempts. Please try again later or reset your password.");break;default:a((n==null?void 0:n.message)??"Sign in failed. Please try again.")}}finally{i(!1)}}},Pe=async s=>{s.preventDefault(),i(!0),a(null);try{const t=ue();if(!t)throw new Error("Security check failed");const n=await C(Z,t);Ne(n),w(2)}catch(t){console.error("SMS Sign-in error:",t.code,t),x.current&&(x.current.clear(),x.current=null),(t==null?void 0:t.code)==="auth/invalid-phone-number"?a("Invalid phone number format. Ensure you have the correct country selected."):(t==null?void 0:t.code)==="auth/user-not-found"?a("No account found with this phone number. Please sign up first."):(t==null?void 0:t.code)==="auth/too-many-requests"?a("Throttled: Too many attempts. Please try again later."):a((t==null?void 0:t.message)??"Could not send verification code")}finally{i(!1)}},ze=async s=>{if(s.preventDefault(),!!le){i(!0),a(null);try{await I(le,z)}catch(t){console.error("SMS Sign-in confirm error:",t.code,t),(t==null?void 0:t.code)==="auth/invalid-verification-code"?a("Incorrect verification code. Please check your messages and try again."):(t==null?void 0:t.code)==="auth/code-expired"?a("Verification code has expired. Please request a new one."):a((t==null?void 0:t.message)??"Invalid code")}finally{i(!1)}}},Re=async()=>{if(o){i(!0),a(null);try{if(o.hints[0].factorId==="phone"){const t=ue();if(!t)throw new Error("Security check failed");const n=await L(t);we(n),W(2)}}catch(s){a((s==null?void 0:s.message)??"MFA initialization failed")}finally{i(!1)}}},Ve=async s=>{if(s.preventDefault(),!z){h({mfaCode:!0});return}if(o){i(!0),a(null);try{if(o.hints[0].factorId==="phone"){if(!re)throw new Error("No verification session");await P(re,z)}G(null)}catch(t){console.error("MFA verification error:",t),t.code==="auth/invalid-verification-code"?a("Incorrect code. Please try again."):a((t==null?void 0:t.message)??"MFA verification failed")}finally{i(!1)}}},Ae=async s=>{if(s.preventDefault(),!f){a("Please enter your email address");return}i(!0),a(null),S(null);try{await q(f),S("Reset code sent to your email."),w(2)}catch(t){a((t==null?void 0:t.message)??"Failed to send reset link.")}finally{i(!1)}},Me=async s=>{s.preventDefault();const t={resetCode:!D,password:!u};if(h(t),!Object.values(t).some(Boolean)){if(!D||!u){a("Please enter both the code and your new password");return}i(!0),a(null);try{await N(D,u),S("Password updated successfully! You can now sign in."),V("signin")}catch(n){a((n==null?void 0:n.message)??"Failed to reset password. The code might be invalid or expired.")}finally{i(!1)}}};return e.jsxs("div",{className:"min-h-screen bg-surface-dark flex flex-col relative overflow-hidden",children:[e.jsx(Le,{title:d==="signup"?"Sign Up":d==="forgotpassword"?"Reset Password":"Sign In",description:"Create a free ExploreCapitals account to track your progress, earn achievements, and compete on leaderboards. Sign in to continue your geography journey."}),e.jsxs("div",{className:"absolute inset-0 z-0",children:[e.jsx("div",{className:"absolute top-[-10%] left-[-10%] w-[100%] h-[100%] bg-sky/30 rounded-full blur-[150px] animate-pulse-slow opacity-80"}),e.jsx("div",{className:"absolute bottom-[-10%] right-[-10%] w-[80%] h-[80%] bg-sky/15 rounded-full blur-[120px] animate-pulse-slow opacity-50"}),e.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-full h-full opacity-[0.12] pointer-events-none",children:e.jsx("img",{src:"./logo.png",alt:"Globe",className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[1200px] h-[1200px] object-contain animate-spin-slow"})})]}),e.jsx("div",{className:"relative z-10 flex-grow flex items-center justify-center px-4 pt-20 pb-8 sm:pt-32 sm:pb-12",children:e.jsxs("div",{className:"w-full max-w-[1000px] grid lg:grid-cols-2 bg-white/20 backdrop-blur-3xl rounded-[3rem] border-2 border-white/40 overflow-hidden relative",children:[e.jsx("div",{className:"absolute inset-0 bg-glossy-gradient opacity-30 pointer-events-none"}),e.jsxs("div",{className:"hidden lg:flex bg-sky/10 flex-col justify-between p-10 relative overflow-hidden border-r-2 border-white/20 group",children:[e.jsx("div",{className:"absolute inset-0 bg-aurora opacity-30 group-hover:opacity-40 transition-opacity pointer-events-none"}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"inline-flex items-center gap-3 px-4 py-1.5 bg-white/30 backdrop-blur-3xl rounded-full text-[9px] font-black uppercase tracking-[0.4em] text-white mb-6 border-2 border-white/40 relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-glossy-gradient opacity-50"}),e.jsx(Be,{size:12,className:"animate-spin-slow relative z-10 text-sky-light"}),e.jsx("span",{className:"relative z-10 drop-shadow-md",children:"MASTER THE MAP"})]}),e.jsxs("h1",{className:"text-5xl font-display font-black text-white leading-tight tracking-tighter mb-4 uppercase drop-shadow-lg",children:["Master the ",e.jsx("br",{}),e.jsx("span",{className:"bg-clip-text bg-gradient-to-b from-white via-sky-light to-sky [-webkit-text-fill-color:transparent]",children:"Capitals."})]}),e.jsx("p",{className:"text-[11px] text-white font-black uppercase tracking-[0.2em] max-w-xs leading-relaxed drop-shadow-lg opacity-90",children:"Sign up to track your progress and earn rewards."})]}),e.jsxs("div",{className:"relative z-10 space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-display font-black text-white tracking-tighter drop-shadow-md",children:"195+"}),e.jsx("div",{className:"text-[9px] text-white/50 uppercase font-black tracking-widest mt-0.5",children:"Nations"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-display font-black text-white tracking-tighter drop-shadow-md",children:"50k+"}),e.jsx("div",{className:"text-[9px] text-white/50 uppercase font-black tracking-widest mt-0.5",children:"Explorers"})]})]}),e.jsxs("div",{className:"p-4 bg-white/10 backdrop-blur-md rounded-2xl border border-white/20 flex items-center gap-4 group hover:bg-white/15 transition-all relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-glossy-gradient opacity-30 pointer-events-none"}),e.jsxs("div",{className:"w-10 h-10 bg-gel-blue rounded-full flex items-center justify-center text-white relative overflow-hidden shrink-0 border border-white/30",children:[e.jsx(fe,{size:24,className:"relative z-10 drop-shadow-lg"}),e.jsx("div",{className:"absolute inset-0 bg-glossy-gradient opacity-50"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs font-black text-white uppercase tracking-tight drop-shadow-md",children:"Secure Account"}),e.jsx("div",{className:"text-[9px] text-white/60 font-black uppercase tracking-widest mt-0.5",children:"Encrypted Progress"})]})]})]}),e.jsx("img",{src:"./logo.png",alt:"Globe",className:"absolute -bottom-16 -right-16 w-[450px] h-[450px] opacity-15 -rotate-12 pointer-events-none animate-spin-slow"})]}),e.jsxs("div",{className:"p-8 sm:p-10 lg:p-14 flex flex-col justify-center bg-white/5 relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-glossy-gradient opacity-10 pointer-events-none"}),e.jsxs("div",{className:"max-w-md mx-auto w-full relative z-10",children:[e.jsxs("div",{className:"mb-8 text-center lg:text-left",children:[e.jsx("h2",{className:"text-3xl font-display font-black text-white tracking-tighter mb-1.5 uppercase leading-none drop-shadow-md",children:o?Y===1?"Security Check":"Verify Identity":d==="signup"?p===1?"SIGN UP":p===2?"VERIFY PHONE":"CONFIRM CODE":d==="forgotpassword"?p===1?"RESET PASSWORD":"NEW PASSWORD":"SIGN IN"}),e.jsxs("p",{className:"text-white/60 leading-relaxed font-bold uppercase text-[9px] tracking-widest drop-shadow-lg",children:[o?Y===1?`Account protected with SMS (•••• ${((pe=o.hints[0].phoneNumber)==null?void 0:pe.slice(-4))||"XXXX"}).`:`Enter the code sent to •••• ${((he=o.hints[0].phoneNumber)==null?void 0:he.slice(-4))||"XXXX"}.`:d==="signup"&&p===1&&"Create an account to start tracking progress.",!o&&d==="signup"&&p===2&&"Enter your phone number for verification.",!o&&d==="signup"&&p===3&&`Verification code sent to ${Z}.`,!o&&d==="signin"&&"Sign in to access your stats.",!o&&d==="forgotpassword"&&p===1&&"Enter your email to receive a reset link.",!o&&d==="forgotpassword"&&p===2&&"Enter the code from your email to reset."]})]}),p===1&&d!=="forgotpassword"&&!o&&e.jsx("div",{className:"space-y-6 mb-8",children:e.jsxs("div",{className:"flex bg-black/20 p-1 rounded-full border border-white/20 shadow-inner relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-glossy-gradient opacity-10 pointer-events-none"}),e.jsx($,{active:d==="signin",layoutId:"mode-toggle",onClick:()=>V("signin"),children:"SIGN IN"}),e.jsx($,{active:d==="signup",layoutId:"mode-toggle",onClick:()=>V("signup"),children:"SIGN UP"})]})}),oe&&e.jsxs("div",{className:"flex items-start gap-3 bg-red-500/20 p-4 rounded-xl border border-red-500/30 mb-8 animate-in zoom-in-95 relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-glossy-gradient opacity-10 pointer-events-none"}),e.jsx(We,{className:"text-red-500 shrink-0 mt-0.5 relative z-10",size:16}),e.jsx("p",{className:"text-[9px] font-black text-red-500 uppercase tracking-widest leading-snug relative z-10",children:oe})]}),ce&&e.jsxs("div",{className:"flex items-start gap-3 bg-green-500/20 p-4 rounded-xl border border-green-500/30 mb-8 animate-in zoom-in-95 relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-glossy-gradient opacity-10 pointer-events-none"}),e.jsx(A,{className:"text-green-500 shrink-0 mt-0.5 relative z-10",size:16}),e.jsx("p",{className:"text-[9px] font-black text-green-500 uppercase tracking-widest leading-snug relative z-10",children:ce})]}),e.jsx("div",{className:"space-y-6",children:e.jsx(_,{initial:!1,children:o?e.jsx(j.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.15,ease:"easeOut"},className:"space-y-6",children:Y===1?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"p-6 bg-white/10 backdrop-blur-md rounded-2xl border border-white/20 text-center relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-glossy-gradient opacity-20 pointer-events-none"}),e.jsx(fe,{size:48,className:"mx-auto text-sky-light mb-4 relative z-10"}),e.jsx("p",{className:"text-xs font-bold text-white uppercase tracking-widest mb-2 relative z-10",children:"Two-Factor Authentication"}),e.jsxs("p",{className:"text-[10px] text-white/60 font-medium relative z-10",children:["Verify your identity via SMS sent to •••• ",((xe=o.hints[0].phoneNumber)==null?void 0:xe.slice(-4))||"XXXX","."]})]}),e.jsx("div",{className:"flex justify-center",ref:R,id:"recaptcha-container-mfa"}),e.jsx(y,{onClick:Re,disabled:c,className:"w-full h-14 uppercase tracking-widest font-black",children:c?"INITIALIZING...":"VERIFY VIA SMS"}),e.jsx("button",{onClick:()=>{G(null),i(!1),a(null)},className:"w-full text-[9px] font-black text-white/40 hover:text-sky uppercase tracking-[0.3em] py-2",children:"Cancel"})]}):e.jsxs("form",{className:"space-y-6",onSubmit:Ve,noValidate:!0,children:[e.jsx(g,{icon:e.jsx(A,{size:18}),label:"Verification Code",value:z,onChange:s=>{ne(s),h({...l,mfaCode:!1})},placeholder:"000 000",required:!0,error:l.mfaCode}),e.jsx(y,{type:"submit",disabled:c,className:"w-full h-14 uppercase tracking-widest font-black",children:c?"VERIFYING...":"VERIFY & SIGN IN"}),e.jsx("button",{onClick:()=>{W(1),i(!1),a(null)},className:"w-full text-[9px] font-black text-white/40 hover:text-sky uppercase tracking-[0.3em] py-2",children:"Go Back"})]})},"mfa"):e.jsxs(e.Fragment,{children:[d==="signup"&&e.jsxs(j.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.15,ease:"easeOut"},className:"space-y-4",children:[p===1&&e.jsxs("form",{className:"space-y-4",onSubmit:Se,noValidate:!0,children:[e.jsx(g,{icon:e.jsx(Ue,{size:16}),label:"Name",value:H,onChange:s=>{ye(s),h({...l,name:!1})},placeholder:"Your Name",required:!0,error:l.name}),e.jsx(g,{icon:e.jsx(F,{size:16}),label:"Email",type:"email",value:f,onChange:s=>{O(s),h({...l,email:!1})},placeholder:"Email",required:!0,error:l.email}),e.jsx(g,{icon:e.jsx(ee,{size:16}),label:"Password",type:"password",value:u,onChange:s=>{K(s),h({...l,password:!1})},placeholder:"••••••••",required:!0,error:l.password}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 mt-2 px-1",children:[e.jsx(M,{met:k.length,label:"8-4096 characters"}),e.jsx(M,{met:k.uppercase,label:"Uppercase (A-Z)"}),e.jsx(M,{met:k.lowercase,label:"Lowercase (a-z)"}),e.jsx(M,{met:k.number,label:"Numeric (0-9)"}),e.jsx(M,{met:k.special,label:"Special char (!@#$)"})]}),e.jsx(y,{type:"submit",className:"w-full h-14 text-lg mt-4 uppercase tracking-widest border border-white/20",disabled:c||!de,children:c?e.jsx("span",{className:"animate-pulse text-sm",children:"LOADING..."}):e.jsxs("span",{className:"flex items-center gap-2 text-sm",children:["SIGN UP ",e.jsx(Xe,{size:20})]})})]}),p===2&&e.jsx("div",{className:"space-y-6",children:e.jsx(_,{mode:"wait",children:J?e.jsxs(j.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"py-12 flex flex-col items-center justify-center text-center space-y-4",children:[e.jsx("div",{className:"w-20 h-20 bg-green-500/20 rounded-full flex items-center justify-center text-green-500 border border-green-500/30",children:e.jsx(A,{size:48})}),e.jsx("h3",{className:"text-xl font-black text-white uppercase tracking-tighter",children:"Verified"}),e.jsx("p",{className:"text-[10px] text-white/40 uppercase font-black tracking-widest",children:"Completing registration..."})]},"success"):e.jsxs(j.div,{className:"space-y-6 text-center",children:[e.jsx("div",{className:"w-20 h-20 bg-sky/10 rounded-full flex items-center justify-center text-sky-light mx-auto border-2 border-white/20",children:e.jsx(F,{size:32})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h3",{className:"text-xl font-black text-white uppercase tracking-tighter",children:"Check Your Email"}),e.jsxs("p",{className:"text-[10px] text-white/40 uppercase font-black tracking-widest leading-relaxed",children:["We've sent a verification link to ",e.jsx("br",{}),e.jsx("span",{className:"text-white",children:f})]})]}),e.jsxs("div",{className:"flex flex-col gap-3 pt-4",children:[e.jsx(y,{onClick:Ie,disabled:c,className:"w-full h-14 uppercase tracking-widest",children:c?"CHECKING...":"I'VE VERIFIED MY EMAIL"}),e.jsx("button",{type:"button",onClick:Ce,disabled:c,className:"w-full text-[9px] font-black text-white/40 hover:text-sky transition-all uppercase tracking-widest py-2",children:"RESEND EMAIL"}),e.jsx("button",{type:"button",onClick:()=>{w(1),i(!1),a(null)},className:"w-full text-[9px] font-black text-white/40 hover:text-sky transition-all uppercase tracking-widest py-2",children:"GO BACK"})]})]},"input")})})]},`signup-step-${p}`),d==="signin"&&e.jsxs(j.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.15,ease:"easeOut"},className:"space-y-6",children:[e.jsxs("div",{className:"flex bg-black/20 p-1 rounded-full border border-white/20 shadow-inner relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-glossy-gradient opacity-10 pointer-events-none"}),e.jsx($,{active:T==="email",layoutId:"auth-method",onClick:()=>{X("email"),a(null)},children:"Email"}),e.jsx($,{active:T==="phone",layoutId:"auth-method",onClick:()=>{X("phone"),a(null)},children:"Phone"})]}),e.jsx(_,{children:e.jsx(j.div,{initial:{opacity:0,x:10},animate:{opacity:1,x:0},exit:{opacity:0,x:-10},transition:{duration:.2},children:T==="email"?e.jsxs("form",{className:"space-y-4",onSubmit:Ee,noValidate:!0,children:[e.jsx(g,{icon:e.jsx(F,{size:16}),label:"Email",type:"email",value:f,onChange:s=>{O(s),h({...l,email:!1})},placeholder:"Email",required:!0,error:l.email}),e.jsx(g,{icon:e.jsx(ee,{size:16}),label:"Password",type:"password",value:u,onChange:s=>{K(s),h({...l,password:!1})},placeholder:"••••••••",required:!0,error:l.password}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{type:"button",onClick:()=>V("forgotpassword"),className:"text-[9px] font-black text-sky hover:text-white uppercase tracking-widest transition-all",children:"FORGOT PASSWORD?"})}),e.jsx(y,{type:"submit",className:"w-full h-14 text-lg mt-2 uppercase tracking-widest border border-white/20",disabled:c,children:c?e.jsx("span",{className:"text-sm",children:"SIGNING IN..."}):e.jsx("span",{className:"text-sm",children:"SIGN IN"})})]}):e.jsx("div",{className:"space-y-4",children:p===1?e.jsxs("form",{className:"space-y-4",onSubmit:Pe,noValidate:!0,children:[e.jsx(Ye,{label:"Phone",value:Z,onChange:s=>{je(s),h({...l,phone:!1})},placeholder:"Phone",required:!0,error:l.phone}),e.jsx("div",{className:"flex justify-center py-2",ref:R,id:"recaptcha-container-signin"}),e.jsx(y,{type:"submit",className:"w-full h-14 text-lg mt-4 uppercase tracking-widest border border-white/20",disabled:c,children:c?e.jsx("span",{className:"text-sm",children:"SENDING..."}):e.jsx("span",{className:"text-sm",children:"SIGN IN"})})]}):e.jsxs("form",{className:"space-y-4",onSubmit:ze,noValidate:!0,children:[e.jsx(g,{icon:e.jsx(A,{size:16}),label:"Code",value:z,onChange:s=>{ne(s),h({...l,signinCode:!1})},placeholder:"000 000",required:!0,error:l.signinCode}),e.jsx(y,{type:"submit",className:"w-full h-14 text-lg mt-4 uppercase tracking-widest border border-white/20",disabled:c,children:c?e.jsx("span",{className:"text-sm",children:"VERIFYING..."}):e.jsx("span",{className:"text-sm",children:"SIGN IN"})}),e.jsx("button",{type:"button",onClick:()=>{w(1),i(!1),a(null)},className:"w-full text-[9px] font-black text-white/40 hover:text-sky transition-all uppercase tracking-widest py-3",children:"CHANGE NUMBER"})]})})},T)})]},"signin"),d==="forgotpassword"&&e.jsx(j.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.15,ease:"easeOut"},className:"space-y-4",children:p===1?e.jsxs("form",{className:"space-y-4",onSubmit:Ae,noValidate:!0,children:[e.jsx(g,{icon:e.jsx(F,{size:16}),label:"Email",type:"email",value:f,onChange:s=>{O(s),h({...l,email:!1})},placeholder:"Email",required:!0,error:l.email}),e.jsx(y,{type:"submit",className:"w-full h-14 text-lg mt-4 uppercase tracking-widest border border-white/20",disabled:c,children:c?e.jsx("span",{className:"text-sm",children:"SENDING..."}):e.jsx("span",{className:"text-sm",children:"SEND RESET LINK"})}),e.jsx("button",{type:"button",onClick:()=>V("signin"),className:"w-full text-[9px] font-black text-white/40 hover:text-sky transition-all uppercase tracking-widest py-3",children:"BACK TO SIGN IN"})]}):e.jsxs("form",{className:"space-y-4",onSubmit:Me,noValidate:!0,children:[e.jsx(g,{icon:e.jsx(A,{size:16}),label:"Reset Code",value:D,onChange:s=>{ve(s),h({...l,resetCode:!1})},placeholder:"Enter code from email",required:!0,error:l.resetCode}),e.jsx(g,{icon:e.jsx(ee,{size:16}),label:"New Password",type:"password",value:u,onChange:s=>{K(s),h({...l,password:!1})},placeholder:"••••••••",required:!0,error:l.password}),e.jsx(y,{type:"submit",className:"w-full h-14 text-lg mt-4 uppercase tracking-widest border border-white/20",disabled:c,children:c?e.jsx("span",{className:"text-sm",children:"UPDATING..."}):e.jsx("span",{className:"text-sm",children:"RESET PASSWORD"})}),e.jsx("button",{type:"button",onClick:()=>{w(1),i(!1),a(null),S(null)},className:"w-full text-[9px] font-black text-white/40 hover:text-sky transition-all uppercase tracking-widest py-3",children:"RESEND CODE"})]})},`forgotpassword-step-${p}`)]})})}),e.jsx("div",{ref:R,id:"recaptcha-container"}),e.jsxs("p",{className:"mt-12 text-center text-[9px] text-white/30 font-bold uppercase tracking-[0.3em]",children:["By signing in, you agree to our ",e.jsx("span",{className:"text-sky hover:underline cursor-pointer",children:"Terms of Service"}),"."]})]})]})]})})]})},M=({met:b,label:v})=>e.jsxs("div",{className:`flex items-center gap-1.5 transition-colors duration-300 ${b?"text-green-400":"text-white/20"}`,children:[e.jsx("div",{className:`w-1 h-1 rounded-full ${b?"bg-green-400":"bg-white/20"}`}),e.jsx("span",{className:"text-[8px] font-black uppercase tracking-widest leading-none",children:v})]}),$=({active:b,onClick:v,children:C,layoutId:I,className:E=""})=>e.jsxs("button",{type:"button",onClick:v,className:`flex-1 py-3 text-[10px] font-black uppercase tracking-[0.3em] rounded-full transition-colors duration-300 relative z-10 ${b?"text-sky":"text-white/40 hover:text-white"} ${E}`,children:[e.jsx("span",{className:"relative z-10",children:C}),b&&e.jsx(j.div,{layoutId:I,className:"absolute inset-0 bg-white rounded-full overflow-hidden",transition:{type:"spring",bounce:.15,duration:.6},children:e.jsx("div",{className:"absolute inset-0 bg-glossy-gradient opacity-40 pointer-events-none"})})]}),g=({label:b,value:v,onChange:C,icon:I,type:E="text",placeholder:te,required:q,error:N})=>{const[m,o]=r.useState(!1),P=E==="password",L=P?m?"text":"password":E;return e.jsxs("div",{className:"space-y-2.5",children:[e.jsx("label",{className:"text-[9px] font-black uppercase tracking-[0.2em] text-white/30 ml-1 block",children:b}),e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:`absolute left-5 top-1/2 -translate-y-1/2 ${N?"text-red-500":"text-white/30 group-focus-within:text-sky"} transition-colors duration-300`,children:I}),e.jsx("input",{className:`w-full bg-white/5 border ${N?"border-red-500":"border-white/20"} rounded-2xl pl-14 ${P?"pr-12":"pr-5"} py-3.5 focus:ring-4 ${N?"focus:ring-red-500/10 focus:border-red-500":"focus:ring-sky/10 focus:border-sky/40"} outline-none transition-all duration-300 font-black text-[11px] text-white placeholder:text-white/10 tracking-wider shadow-inner`,value:v,type:L,placeholder:te,required:q,onChange:G=>C(G.target.value)}),P&&e.jsx("button",{type:"button",onClick:()=>o(!m),className:`absolute right-4 top-1/2 -translate-y-1/2 ${N?"text-red-500/50 hover:text-red-500":"text-white/30 hover:text-sky"} transition-colors`,tabIndex:-1,children:m?e.jsx(He,{size:18}):e.jsx(Ke,{size:18})}),e.jsx("div",{className:`absolute bottom-0 left-6 right-6 h-0.5 rounded-full transition-all duration-500 ${N?"bg-red-500 opacity-100":"bg-transparent opacity-0"}`})]})]})};export{lt as default};
