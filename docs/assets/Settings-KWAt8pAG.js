import{j as e,A as g,m as h}from"./vendor-motion-CUvbj6jv.js";import{d as nt,r as a,R as ke}from"./vendor-react-CJteECPR.js";import{u as ct,a as ot,b as dt,c as Se,B as xt,A as ht,C as ut,g as mt}from"./index-C_PbkW5e.js";import{P as pt}from"./PhoneInput-CZT7UfU4.js";import{W as ft}from"./vendor-firebase-BmNGKg-n.js";import{a2 as Ee,v as bt,z as wt,V as Ce,a3 as Pe,a4 as gt,X as se,a5 as yt,I as G,s as Ae,q as Ie}from"./vendor-icons-Zx6pZiCF.js";const H=({title:y,children:P})=>e.jsxs("section",{className:"mb-8",children:[e.jsx("h2",{className:"text-[11px] font-black text-white/40 uppercase tracking-[0.2em] mb-4 px-1",children:y}),e.jsx("div",{className:"bg-white/[0.02] backdrop-blur-xl border border-white/[0.06] rounded-2xl overflow-hidden divide-y divide-white/[0.04]",children:P})]}),b=({children:y,onClick:P,className:Y=""})=>e.jsx("div",{className:`p-5 ${P?"cursor-pointer hover:bg-white/[0.02] transition-colors":""} ${Y}`,onClick:P,children:y}),Mt=()=>{const{setPageLoading:y}=ct(),{user:P,isLoading:Y}=ot(),{user:d,updateProfileInfo:q,changePassword:Oe,sendVerifyEmail:Re,enrollPhoneMfa:Te,confirmPhoneMfa:De,enrolledFactors:Me,disableMfaFactor:ze,reloadUser:jt,updateEmail:Le,reauthenticate:T,deleteAccount:Fe,signOut:Ue,loading:$e,mfaResolver:Nt,solveMfaPhone:vt,sendMfaSms:kt,setMfaResolver:St}=dt(),D=nt(),Q=a.useMemo(()=>{const t=navigator.userAgent;let s="Unknown Browser",n="Unknown OS";return t.includes("Chrome")?s="Chrome":t.includes("Safari")?s="Safari":t.includes("Firefox")?s="Firefox":t.includes("Edge")&&(s="Edge"),t.includes("Mac")?n="macOS":t.includes("Win")?n="Windows":t.includes("Linux")?n="Linux":t.includes("Android")?n="Android":(t.includes("iPhone")||t.includes("iPad"))&&(n="iOS"),{browser:s,os:n,isMobile:/Mobi|Android/i.test(t)}},[]),[j,ae]=a.useState(""),[N,re]=a.useState(""),[M,ie]=a.useState(""),[u,le]=a.useState(""),[K,ne]=a.useState(""),[z,X]=a.useState(""),[c,o]=a.useState({}),[L,m]=a.useState(null),[p,i]=a.useState(null),[l,r]=a.useState(!1),[Ve,ce]=a.useState(!1),[v,oe]=a.useState(""),[A,de]=a.useState(""),[We,I]=a.useState(!1),[Be,k]=a.useState(!1),xe=a.useRef(null),[Z,he]=a.useState(!1);a.useEffect(()=>{d&&(j||ae(d.displayName??""),N||re(d.phoneNumber??""))},[d]);const F=a.useMemo(()=>({length:u.length>=8&&u.length<=4096,uppercase:/[A-Z]/.test(u),lowercase:/[a-z]/.test(u),number:/[0-9]/.test(u),special:/[!@#$%^&*(),.?":{}|<>]/.test(u)}),[u]),ue=a.useMemo(()=>Object.values(F).every(Boolean),[F]),[me,pe]=a.useState(null),_=a.useRef(null),x=a.useRef(null);a.useEffect(()=>(y(!1),()=>{x.current&&(x.current.clear(),x.current=null)}),[y]);const Ge=a.useMemo(()=>()=>{if(!Se)return null;if(x.current){try{x.current.clear()}catch{}x.current=null}return _.current?(x.current=new ft(Se,_.current,{size:"normal",callback:()=>{console.log("reCAPTCHA solved")},"expired-callback":()=>{x.current&&(x.current.clear(),x.current=null)}}),x.current):null},[]),[He,U]=a.useState(!1),[J,$]=a.useState(1),[w,S]=a.useState(""),[E,fe]=a.useState(!1),[Et,ee]=a.useState(1),[Ct,Pt]=a.useState(null);a.useEffect(()=>{if(p){const t=setTimeout(()=>i(null),1e4);return()=>clearTimeout(t)}},[p]),a.useEffect(()=>{if(L){const t=setTimeout(()=>m(null),5e3);return()=>clearTimeout(t)}},[L]);const f=()=>{m(null),i(null)},Ye=async()=>{if(!j){o({displayName:!0});return}r(!0),f();try{await q({displayName:j}),m("Display name updated")}catch(t){i(t?.message??"Update failed")}finally{r(!1)}},qe=async t=>{r(!0),f();try{await q({photoURL:t}),m("Profile picture updated"),k(!1)}catch{i("Failed to update profile picture")}finally{r(!1)}},Qe=async t=>{const s=t.target.files?.[0];if(s){if(s.size>5*1024*1024){i("Image must be less than 5MB");return}if(!s.type.startsWith("image/")){i("Please select an image file");return}r(!0),f();try{const n=new FileReader;n.onload=async O=>{const R=O.target?.result;await q({photoURL:R}),m("Profile photo uploaded"),k(!1),r(!1)},n.onerror=()=>{i("Failed to read image"),r(!1)},n.readAsDataURL(s)}catch{i("Failed to upload photo"),r(!1)}}},Ke=async()=>{const t={oldPassword:!M,password:!u,confirmPassword:!K};if(o(t),!Object.values(t).some(Boolean)){if(u!==K){i("Passwords do not match");return}if(!ue){i("Password does not meet requirements");return}r(!0),f();try{await Oe(M,u),m("Password updated successfully"),le(""),ie(""),ne(""),he(!1)}catch(s){i(s?.message??"Failed to change password")}finally{r(!1)}}},Xe=async()=>{if(!v||!A){o({newEmail:!v,emailPassword:!A});return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(v)){i("Please enter a valid email address");return}r(!0),f();try{await T(A),await Le(v),m("Verification email sent to new address"),I(!1),oe(""),de("")}catch(s){s.code==="auth/wrong-password"||s.code==="auth/invalid-credential"?i("Incorrect password"):s.code==="auth/email-already-in-use"?i("Email already in use by another account"):i(s?.message??"Failed to update email")}finally{r(!1)}},Ze=async()=>{r(!0),f();try{await Re(),m("Verification email sent")}catch(t){i(t?.message??"Failed to send email")}finally{r(!1)}},_e=async()=>{if(!N){o({phone:!0});return}r(!0),f();try{try{if(!w){i("Please enter your password"),o({mfaPassword:!0}),r(!1);return}await T(w)}catch(n){if(n.code==="auth/multi-factor-auth-required"){ee(1),r(!1);return}n.code==="auth/wrong-password"||n.code==="auth/invalid-credential"?(i("Incorrect password"),o({mfaPassword:!0})):n.code==="auth/too-many-requests"?i("Too many attempts. Please try again later."):i(`Verification failed: ${n.message}`),r(!1);return}const t=Ge();if(!t)throw new Error("Security check failed. Please refresh.");const s=await Te(N,t);pe(s),$(2),m("Code sent"),S("")}catch(t){if(console.error("Phone start error:",t.code,t),t.code==="auth/invalid-phone-number"?i("Invalid phone number format"):t.code==="auth/quota-exceeded"?i("SMS limit reached. Try again later."):i(t?.message??"Failed to send code"),x.current){try{x.current.clear()}catch{}x.current=null}}finally{r(!1)}},Je=async()=>{if(!z){o({smsCode:!0});return}if(me){r(!0),f();try{await De(me,z),m("Two-factor authentication enabled"),pe(null),X(""),$(2),ce(!0),setTimeout(()=>{U(!1),ce(!1)},2e3)}catch(t){console.error("Phone confirmation error:",t.code,t),t?.code==="auth/invalid-verification-code"?i("Incorrect code"):t?.code==="auth/code-expired"?i("Code expired. Request a new one."):i(t?.message??"Invalid code")}finally{r(!1)}}},et=async t=>{r(!0),f();try{try{if(!w){i("Please enter your password"),o({mfaPassword:!0}),r(!1);return}await T(w)}catch(s){if(s.code==="auth/multi-factor-auth-required"){ee(1),r(!1);return}throw s}await ze(t),m("Two-factor authentication disabled"),V(null),S("")}catch(s){console.error("MFA disable error:",s),s.code==="auth/wrong-password"||s.code==="auth/invalid-credential"?(i("Incorrect password"),o({mfaPassword:!0})):i(s?.message??"Failed to disable")}finally{r(!1)}},tt=async()=>{r(!0);try{await Ue(),D("/auth")}catch(t){console.error("Logout failed",t)}finally{r(!1)}},[st,te]=a.useState(!1),[at,be]=a.useState(!1),[we,V]=a.useState(null),[W,ge]=a.useState(""),[ye,C]=a.useState(null),rt=async()=>{r(!0),C(null);try{try{if(!W){C("Please enter your password"),o({deletePassword:!0}),r(!1);return}await T(W)}catch(t){if(t.code==="auth/multi-factor-auth-required"){ee(1),r(!1);return}throw t}await Fe(),D("/auth")}catch(t){console.error("Deletion failed:",t),t.code==="auth/wrong-password"||t.code==="auth/invalid-credential"?(C("Incorrect password"),o({deletePassword:!0})):C(t?.message??"Deletion failed")}finally{r(!1)}},je=t=>{if(!t)return null;const s=t.replace(/\D/g,"");return s.length===11&&s.startsWith("1")?`+1 (${s.slice(1,4)}) ${s.slice(4,7)}-${s.slice(7)}`:s.length===10?`(${s.slice(0,3)}) ${s.slice(3,6)}-${s.slice(6)}`:t},Ne=(t,s,n="lg")=>{const O=mt(t),R=n==="xl"?"w-28 h-28":n==="lg"?"w-20 h-20":"w-12 h-12",it=n==="xl"?56:n==="lg"?40:24,lt=n==="xl"?"text-4xl":n==="lg"?"text-3xl":"text-xl";return t&&(t.startsWith("data:")||t.startsWith("http"))?e.jsx("div",{className:`${R} rounded-full overflow-hidden ring-4 ring-white/10`,children:e.jsx("img",{src:t,alt:"Profile",className:"w-full h-full object-cover"})}):O?e.jsx("div",{className:`${R} rounded-full ${O.color} text-white flex items-center justify-center ring-4 ring-white/10`,children:ke.cloneElement(O.icon,{size:it})}):e.jsx("div",{className:`${R} rounded-full bg-gradient-to-br from-sky to-primary text-white flex items-center justify-center font-display font-bold ${lt} ring-4 ring-white/10`,children:s})};if(($e||Y)&&!d)return e.jsx("div",{className:"pt-32 pb-16 px-6 bg-surface-dark min-h-screen flex flex-col items-center justify-center text-center",children:e.jsx("div",{className:"w-12 h-12 border-4 border-sky border-t-transparent rounded-full animate-spin"})});if(!d)return e.jsxs("div",{className:"pt-32 pb-16 px-6 bg-surface-dark min-h-screen flex items-center justify-center relative overflow-hidden",children:[e.jsx("div",{className:"fixed inset-0 z-0 pointer-events-none",children:e.jsx("div",{className:"absolute top-[-20%] left-[-10%] w-[100%] h-[100%] bg-sky/10 rounded-full blur-[180px] opacity-60"})}),e.jsxs("div",{className:"bg-white/[0.03] backdrop-blur-3xl p-12 rounded-3xl border border-white/10 max-w-md text-center relative z-10",children:[e.jsx("div",{className:"w-20 h-20 rounded-2xl bg-sky/10 border border-sky/20 flex items-center justify-center mx-auto mb-6",children:e.jsx(Ee,{size:40,className:"text-sky"})}),e.jsx("h2",{className:"text-2xl font-display font-bold text-white uppercase tracking-tight",children:"SIGN IN REQUIRED"}),e.jsx("p",{className:"text-white/40 mt-3 mb-8 text-sm",children:"You must be logged in to view settings."}),e.jsx(xt,{onClick:()=>D("/auth"),className:"w-full h-14 text-[11px] font-black uppercase tracking-widest",children:"GO TO SIGN IN"})]})]});const ve=d.displayName?.[0]?.toUpperCase()||"E",B=Me.find(t=>t.factorId==="phone");return e.jsxs("div",{className:"min-h-screen bg-surface-dark font-sans relative",children:[e.jsxs("div",{className:"fixed inset-0 z-0 pointer-events-none overflow-hidden",children:[e.jsx("div",{className:"absolute top-[-20%] left-[-10%] w-[60%] h-[60%] bg-sky/5 rounded-full blur-[150px]"}),e.jsx("div",{className:"absolute bottom-[-10%] right-[-10%] w-[50%] h-[50%] bg-primary/5 rounded-full blur-[120px]"})]}),e.jsx(g,{children:(L||p)&&e.jsx(h.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"fixed top-24 left-1/2 -translate-x-1/2 z-50",children:e.jsx("div",{className:`px-5 py-3 rounded-full text-sm font-bold backdrop-blur-xl border ${p?"bg-red-500/20 border-red-500/30 text-red-400":"bg-accent/20 border-accent/30 text-accent"}`,children:p??L})})}),e.jsx("div",{className:"relative z-10 pt-24 pb-16 px-4",children:e.jsxs("div",{className:"max-w-xl mx-auto",children:[e.jsxs("div",{className:"mb-10",children:[e.jsxs("button",{onClick:()=>D("/profile"),className:"inline-flex items-center gap-2 text-white/40 hover:text-white transition-colors mb-6 group",children:[e.jsx(bt,{size:16,className:"group-hover:-translate-x-1 transition-transform"}),e.jsx("span",{className:"text-[11px] font-black uppercase tracking-[0.15em]",children:"BACK TO PROFILE"})]}),e.jsx("h1",{className:"text-3xl md:text-4xl font-display font-black text-white uppercase tracking-tight",children:"SETTINGS"})]}),e.jsxs(H,{title:"PROFILE",children:[e.jsx(b,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"relative group",children:[Ne(d.photoURL,ve,"lg"),e.jsx("button",{onClick:()=>k(!0),className:"absolute inset-0 rounded-full bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:e.jsx(wt,{size:24,className:"text-white"})})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-[11px] font-black text-white/40 uppercase tracking-[0.15em] mb-1",children:"PROFILE PHOTO"}),e.jsx("p",{className:"text-sm text-white/60",children:"Choose an avatar or upload a photo"})]})]}),e.jsx("button",{onClick:()=>k(!0),className:"text-[11px] font-black text-sky uppercase tracking-[0.1em] hover:text-sky-light transition-colors",children:"EDIT"})]})}),e.jsxs(b,{children:[e.jsx("h3",{className:"text-[11px] font-black text-white/40 uppercase tracking-[0.15em] mb-3",children:"DISPLAY NAME"}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("input",{className:`flex-1 bg-white/5 border ${c.displayName?"border-red-500":"border-white/10"} rounded-xl px-4 py-3 text-sm text-white placeholder:text-white/30 outline-none focus:border-sky/50 focus:bg-white/[0.08] transition-all`,value:j,onChange:t=>{ae(t.target.value),o({...c,displayName:!1})},placeholder:"Enter display name"}),e.jsx("button",{onClick:Ye,disabled:l||j===d?.displayName||!j,className:"px-5 py-3 bg-sky hover:bg-sky-light disabled:opacity-30 disabled:cursor-not-allowed rounded-xl text-[11px] font-black text-white uppercase tracking-[0.1em] transition-all",children:"SAVE"})]})]}),e.jsx(b,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-[11px] font-black text-white/40 uppercase tracking-[0.15em] mb-1",children:"EMAIL ADDRESS"}),e.jsx("p",{className:"text-sm text-white",children:d.email})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[d.emailVerified?e.jsxs("span",{className:"flex items-center gap-1.5 text-[10px] font-black text-accent uppercase tracking-[0.1em]",children:[e.jsx(Ce,{size:14}),"VERIFIED"]}):e.jsx("button",{onClick:Ze,disabled:l,className:"text-[11px] font-black text-amber-400 uppercase tracking-[0.1em] hover:text-amber-300 transition-colors",children:"VERIFY"}),e.jsx("button",{onClick:()=>I(!0),className:"text-[11px] font-black text-sky uppercase tracking-[0.1em] hover:text-sky-light transition-colors",children:"CHANGE"})]})]})})]}),e.jsxs(H,{title:"SECURITY",children:[e.jsx(b,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-[11px] font-black text-white/40 uppercase tracking-[0.15em] mb-1",children:"TWO-FACTOR AUTHENTICATION"}),e.jsx("p",{className:"text-sm text-white/60",children:B?`Enabled · ${je(B.phone)}`:"Protect your account with SMS verification"})]}),d.emailVerified?B?e.jsx("button",{onClick:()=>V(B.uid),className:"text-[11px] font-black text-red-400 uppercase tracking-[0.1em] hover:text-red-300 transition-colors",children:"DISABLE"}):e.jsx("button",{onClick:()=>{U(!0),$(1)},disabled:l,className:"text-[11px] font-black text-sky uppercase tracking-[0.1em] hover:text-sky-light transition-colors",children:"ENABLE"}):e.jsx("span",{className:"text-[10px] font-bold text-white/30 uppercase",children:"Verify email first"})]})}),e.jsx(b,{onClick:()=>he(!Z),className:"cursor-pointer",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-[11px] font-black text-white/40 uppercase tracking-[0.15em] mb-1",children:"PASSWORD"}),e.jsx("p",{className:"text-sm text-white/60",children:"Change your account password"})]}),e.jsx("span",{className:"text-[11px] font-black text-sky uppercase tracking-[0.1em]",children:Z?"CLOSE":"CHANGE"})]})}),e.jsx(g,{children:Z&&e.jsx(h.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2},className:"overflow-hidden border-t border-white/[0.04]",children:e.jsxs("div",{className:"p-5 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] font-black text-white/30 uppercase tracking-[0.15em] block mb-2",children:"CURRENT PASSWORD"}),e.jsx("input",{type:"password",className:`w-full bg-white/5 border ${c.oldPassword?"border-red-500":"border-white/10"} rounded-xl px-4 py-3 text-sm text-white outline-none focus:border-sky/50 transition-all`,value:M,onChange:t=>{ie(t.target.value),o({...c,oldPassword:!1})},placeholder:"Enter current password"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] font-black text-white/30 uppercase tracking-[0.15em] block mb-2",children:"NEW PASSWORD"}),e.jsx("input",{type:"password",className:`w-full bg-white/5 border ${c.password?"border-red-500":"border-white/10"} rounded-xl px-4 py-3 text-sm text-white outline-none focus:border-sky/50 transition-all`,value:u,onChange:t=>{le(t.target.value),o({...c,password:!1})},placeholder:"New password"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] font-black text-white/30 uppercase tracking-[0.15em] block mb-2",children:"CONFIRM PASSWORD"}),e.jsx("input",{type:"password",className:`w-full bg-white/5 border ${c.confirmPassword?"border-red-500":"border-white/10"} rounded-xl px-4 py-3 text-sm text-white outline-none focus:border-sky/50 transition-all`,value:K,onChange:t=>{ne(t.target.value),o({...c,confirmPassword:!1})},placeholder:"Confirm password"})]})]}),e.jsxs("div",{className:"p-4 bg-white/[0.02] rounded-xl border border-white/5",children:[e.jsx("p",{className:"text-[10px] font-black text-white/30 uppercase tracking-[0.15em] mb-3",children:"REQUIREMENTS"}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:[{key:"length",label:"8+ characters"},{key:"uppercase",label:"Uppercase"},{key:"lowercase",label:"Lowercase"},{key:"number",label:"Number"},{key:"special",label:"Special char"}].map(({key:t,label:s})=>e.jsxs("p",{className:`flex items-center gap-2 text-xs ${F[t]?"text-accent":"text-white/30"}`,children:[e.jsx("span",{className:`w-1.5 h-1.5 rounded-full ${F[t]?"bg-accent":"bg-white/20"}`}),s]},t))})]}),e.jsx("button",{onClick:Ke,disabled:l||!u||!M||!ue,className:"w-full py-3 bg-sky hover:bg-sky-light disabled:opacity-30 disabled:cursor-not-allowed rounded-xl text-[11px] font-black text-white uppercase tracking-[0.15em] transition-all",children:"UPDATE PASSWORD"})]})})})]}),e.jsxs(H,{title:"SESSION",children:[e.jsx(b,{children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-sky/10 flex items-center justify-center text-sky",children:Q.isMobile?e.jsx(Pe,{size:22}):e.jsx(gt,{size:22})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("h3",{className:"text-sm font-bold text-white",children:[Q.browser," on ",Q.os]}),e.jsx("p",{className:"text-xs text-white/40",children:"Current session"})]}),e.jsxs("span",{className:"flex items-center gap-1.5 text-[10px] font-black text-accent uppercase tracking-[0.1em]",children:[e.jsx("span",{className:"w-2 h-2 rounded-full bg-accent animate-pulse"}),"ACTIVE"]})]})}),e.jsx(b,{children:e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-black text-white/30 uppercase tracking-[0.15em] mb-1",children:"ACCOUNT CREATED"}),e.jsx("p",{className:"text-sm text-white",children:d?.metadata.creationTime?new Date(d.metadata.creationTime).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"—"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] font-black text-white/30 uppercase tracking-[0.15em] mb-1",children:"LAST SIGN IN"}),e.jsx("p",{className:"text-sm text-white",children:d?.metadata.lastSignInTime?new Date(d.metadata.lastSignInTime).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"—"})]})]})})]}),e.jsxs(H,{title:"ACCOUNT",children:[e.jsx(b,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-[11px] font-black text-white/40 uppercase tracking-[0.15em] mb-1",children:"SIGN OUT"}),e.jsx("p",{className:"text-sm text-white/60",children:"End your current session"})]}),e.jsx("button",{onClick:()=>be(!0),className:"px-5 py-2.5 bg-white/5 hover:bg-white/10 border border-white/10 rounded-xl text-[11px] font-black text-white uppercase tracking-[0.1em] transition-all",children:"SIGN OUT"})]})}),e.jsx(b,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-[11px] font-black text-red-400/60 uppercase tracking-[0.15em] mb-1",children:"DELETE ACCOUNT"}),e.jsx("p",{className:"text-sm text-white/60",children:"Permanently remove all your data"})]}),e.jsx("button",{onClick:()=>te(!0),className:"px-5 py-2.5 bg-red-500/10 hover:bg-red-500/20 border border-red-500/20 rounded-xl text-[11px] font-black text-red-400 uppercase tracking-[0.1em] transition-all",children:"DELETE"})]})})]})]})}),e.jsx(g,{children:Be&&e.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4",children:[e.jsx(h.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>!l&&k(!1),className:"absolute inset-0 bg-surface-dark/80 backdrop-blur-md"}),e.jsxs(h.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},className:"relative w-full max-w-md bg-white/[0.03] border border-white/10 rounded-3xl p-6 shadow-2xl backdrop-blur-2xl overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-sky/5 to-transparent pointer-events-none"}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-lg font-black text-white uppercase tracking-tight",children:"CHOOSE PHOTO"}),e.jsx("button",{onClick:()=>k(!1),className:"w-8 h-8 rounded-full bg-white/5 hover:bg-white/10 flex items-center justify-center transition-colors",children:e.jsx(se,{size:16,className:"text-white/60"})})]}),e.jsx("div",{className:"flex justify-center mb-6",children:Ne(d.photoURL,ve,"xl")}),e.jsx("input",{ref:xe,type:"file",accept:"image/*",onChange:Qe,className:"hidden"}),e.jsxs("button",{onClick:()=>xe.current?.click(),disabled:l,className:"w-full py-3 mb-4 bg-white/5 hover:bg-white/10 border border-white/10 rounded-xl text-[11px] font-black text-white uppercase tracking-[0.15em] transition-all flex items-center justify-center gap-2",children:[e.jsx(yt,{size:16}),"UPLOAD PHOTO"]}),e.jsx("p",{className:"text-[10px] font-black text-white/30 uppercase tracking-[0.15em] mb-3",children:"OR CHOOSE AN AVATAR"}),e.jsx("div",{className:"grid grid-cols-5 gap-3",children:ht.map(t=>e.jsx("button",{onClick:()=>qe(t.id),disabled:l,className:`aspect-square rounded-xl ${t.color} flex items-center justify-center transition-all ${d.photoURL===t.id?"ring-2 ring-white ring-offset-2 ring-offset-surface-dark scale-105":"opacity-60 hover:opacity-100 hover:scale-105"}`,children:ke.cloneElement(t.icon,{size:20})},t.id))})]})]})]})}),e.jsx(g,{children:We&&e.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4",children:[e.jsx(h.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>!l&&I(!1),className:"absolute inset-0 bg-surface-dark/80 backdrop-blur-md"}),e.jsxs(h.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},className:"relative w-full max-w-md bg-white/[0.03] border border-white/10 rounded-3xl p-6 shadow-2xl backdrop-blur-2xl overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-sky/5 to-transparent pointer-events-none"}),e.jsxs("div",{className:"relative z-10 space-y-5",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-black text-white uppercase tracking-tight",children:"CHANGE EMAIL"}),e.jsxs("p",{className:"text-xs text-white/40 mt-1",children:["Current: ",d.email]})]}),e.jsx("button",{onClick:()=>I(!1),className:"w-8 h-8 rounded-full bg-white/5 hover:bg-white/10 flex items-center justify-center transition-colors",children:e.jsx(se,{size:16,className:"text-white/60"})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] font-black text-white/30 uppercase tracking-[0.15em] block mb-2",children:"NEW EMAIL ADDRESS"}),e.jsx("input",{type:"email",className:`w-full bg-white/5 border ${c.newEmail?"border-red-500":"border-white/10"} rounded-xl px-4 py-3 text-sm text-white outline-none focus:border-sky/50 transition-all`,value:v,onChange:t=>{oe(t.target.value),o({...c,newEmail:!1})},placeholder:"Enter new email address"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] font-black text-white/30 uppercase tracking-[0.15em] block mb-2",children:"CURRENT PASSWORD"}),e.jsx("input",{type:"password",className:`w-full bg-white/5 border ${c.emailPassword?"border-red-500":"border-white/10"} rounded-xl px-4 py-3 text-sm text-white outline-none focus:border-sky/50 transition-all`,value:A,onChange:t=>{de(t.target.value),o({...c,emailPassword:!1})},placeholder:"Confirm with your password"})]})]}),e.jsx("div",{className:"p-4 bg-sky/5 border border-sky/10 rounded-xl text-xs text-white/60",children:"A verification link will be sent to your new email address. Your email won't change until you verify it."}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>I(!1),disabled:l,className:"flex-1 py-3 bg-white/5 hover:bg-white/10 border border-white/10 rounded-xl text-[11px] font-black text-white uppercase tracking-[0.1em] transition-all",children:"CANCEL"}),e.jsx("button",{onClick:Xe,disabled:l||!v||!A,className:"flex-1 py-3 bg-sky hover:bg-sky-light disabled:opacity-30 disabled:cursor-not-allowed rounded-xl text-[11px] font-black text-white uppercase tracking-[0.1em] transition-all",children:l?"UPDATING...":"UPDATE EMAIL"})]})]})]})]})}),e.jsx(g,{children:st&&e.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4",children:[e.jsx(h.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>!l&&te(!1),className:"absolute inset-0 bg-surface-dark/80 backdrop-blur-md"}),e.jsxs(h.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},className:"relative w-full max-w-md bg-white/[0.03] border border-white/10 rounded-3xl p-6 shadow-2xl backdrop-blur-2xl overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-red-500/5 to-transparent pointer-events-none"}),e.jsxs("div",{className:"relative z-10 space-y-5",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-14 h-14 rounded-2xl bg-red-500/10 flex items-center justify-center text-red-500 border border-red-500/20",children:e.jsx(G,{size:28})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-black text-white uppercase tracking-tight",children:"DELETE ACCOUNT"}),e.jsx("p",{className:"text-xs text-white/40 mt-0.5",children:"This action cannot be undone"})]})]}),e.jsx("div",{className:"p-4 bg-red-500/5 border border-red-500/10 rounded-xl text-xs text-red-400/80 leading-relaxed",children:"All your progress, achievements, loyalty points, and personal data will be permanently deleted."}),e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] font-black text-white/30 uppercase tracking-[0.15em] block mb-2",children:"CONFIRM PASSWORD"}),e.jsx("input",{type:"password",className:`w-full bg-white/5 border ${c.deletePassword?"border-red-500":"border-white/10"} rounded-xl px-4 py-3 text-sm text-white outline-none focus:border-red-500/50 transition-all`,value:W,onChange:t=>{ge(t.target.value),C(null),o({...c,deletePassword:!1})},placeholder:"Enter your password"}),ye&&e.jsxs("p",{className:"mt-2 text-xs text-red-400 flex items-center gap-1",children:[e.jsx(G,{size:12}),ye]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>{te(!1),ge(""),C(null)},disabled:l,className:"flex-1 py-3 bg-white/5 hover:bg-white/10 border border-white/10 rounded-xl text-[11px] font-black text-white uppercase tracking-[0.1em] transition-all",children:"CANCEL"}),e.jsx("button",{onClick:rt,disabled:l||!W,className:"flex-1 py-3 bg-red-500 hover:bg-red-600 disabled:opacity-30 disabled:cursor-not-allowed rounded-xl text-[11px] font-black text-white uppercase tracking-[0.1em] transition-all",children:l?"DELETING...":"DELETE ACCOUNT"})]})]})]})]})}),e.jsx(g,{children:He&&e.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4",children:[e.jsx(h.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>!l&&U(!1),className:"absolute inset-0 bg-surface-dark/80 backdrop-blur-md"}),e.jsxs(h.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},className:"relative w-full max-w-md bg-white/[0.03] border border-white/10 rounded-3xl p-6 shadow-2xl backdrop-blur-2xl overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-sky/5 to-transparent pointer-events-none"}),e.jsxs("div",{className:"relative z-10 space-y-5",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-sky/10 flex items-center justify-center text-sky border border-sky/20",children:e.jsx(Pe,{size:24})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-black text-white uppercase tracking-tight",children:J===1?"SETUP 2FA":"VERIFY PHONE"}),e.jsx("p",{className:"text-xs text-white/40",children:J===1?"Enter your phone number":"Check your messages"})]})]}),e.jsx("button",{onClick:()=>{l||(U(!1),S(""),X(""))},className:"w-8 h-8 rounded-full bg-white/5 hover:bg-white/10 flex items-center justify-center transition-colors",children:e.jsx(se,{size:16,className:"text-white/60"})})]}),Ve?e.jsxs(h.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"py-8 text-center",children:[e.jsx("div",{className:"w-20 h-20 bg-accent/20 rounded-full flex items-center justify-center text-accent mx-auto mb-4 border-2 border-accent/30",children:e.jsx(Ce,{size:48})}),e.jsx("h3",{className:"text-xl font-black text-white uppercase tracking-tight",children:"VERIFIED"}),e.jsx("p",{className:"text-xs text-white/40 uppercase tracking-widest mt-1",children:"Two-factor authentication enabled"})]}):J===1?e.jsxs("div",{className:"space-y-4",children:[e.jsx(pt,{value:N,onChange:re,placeholder:"(555) 123-4567",error:c.phone}),e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] font-black text-white/30 uppercase tracking-[0.15em] block mb-2",children:"ACCOUNT PASSWORD"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:E?"text":"password",className:`w-full bg-white/5 border ${c.mfaPassword?"border-red-500":"border-white/10"} rounded-xl px-4 py-3 text-sm text-white outline-none focus:border-sky/50 transition-all pr-12`,value:w,onChange:t=>{S(t.target.value),o({...c,mfaPassword:!1})},placeholder:"Enter password to confirm"}),e.jsx("button",{type:"button",onClick:()=>fe(!E),className:"absolute right-4 top-1/2 -translate-y-1/2 text-white/30 hover:text-white transition-colors",children:E?e.jsx(Ae,{size:18}):e.jsx(Ie,{size:18})})]})]}),e.jsx("div",{className:"flex justify-center py-2",children:e.jsx("div",{ref:_,id:"recaptcha-settings-container"})}),e.jsx("button",{onClick:_e,disabled:l||!N||!w,className:"w-full py-3 bg-sky hover:bg-sky-light disabled:opacity-30 disabled:cursor-not-allowed rounded-xl text-[11px] font-black text-white uppercase tracking-[0.15em] transition-all",children:l?"SENDING...":"SEND VERIFICATION CODE"})]}):e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-4 bg-sky/5 border border-sky/10 rounded-xl text-xs text-white/60 text-center",children:["We sent a 6-digit code to ",e.jsx("span",{className:"text-white font-bold",children:je(N)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] font-black text-white/30 uppercase tracking-[0.15em] block mb-2",children:"VERIFICATION CODE"}),e.jsx("input",{className:`w-full bg-white/5 border ${c.smsCode?"border-red-500":"border-white/10"} rounded-xl px-4 py-4 text-center text-2xl font-black tracking-[0.3em] text-white outline-none focus:border-sky/50 transition-all`,value:z,onChange:t=>{X(t.target.value.replace(/\D/g,"").slice(0,6)),o({...c,smsCode:!1})},placeholder:"000000",autoFocus:!0})]}),e.jsx("button",{onClick:Je,disabled:l||z.length<6,className:"w-full py-3 bg-sky hover:bg-sky-light disabled:opacity-30 disabled:cursor-not-allowed rounded-xl text-[11px] font-black text-white uppercase tracking-[0.15em] transition-all",children:l?"VERIFYING...":"VERIFY & ENABLE"}),e.jsx("button",{onClick:()=>$(1),disabled:l,className:"w-full py-2 text-xs text-white/40 hover:text-white uppercase tracking-widest transition-colors",children:"CHANGE NUMBER"})]}),p&&e.jsxs("p",{className:"text-xs text-red-400 flex items-center justify-center gap-1",children:[e.jsx(G,{size:12}),p]})]})]})]})}),e.jsx(ut,{isOpen:at,onClose:()=>be(!1),onConfirm:tt,title:"Sign Out?",message:"Are you sure you want to end your session? You can sign back in at any time.",confirmText:"Sign Out",variant:"danger"}),e.jsx(g,{children:we&&e.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4",children:[e.jsx(h.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>!l&&V(null),className:"absolute inset-0 bg-surface-dark/80 backdrop-blur-md"}),e.jsxs(h.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},className:"relative w-full max-w-md bg-white/[0.03] border border-white/10 rounded-3xl p-6 shadow-2xl backdrop-blur-2xl overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-amber-500/5 to-transparent pointer-events-none"}),e.jsxs("div",{className:"relative z-10 space-y-5",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-14 h-14 rounded-2xl bg-amber-500/10 flex items-center justify-center text-amber-500 border border-amber-500/20",children:e.jsx(Ee,{size:28})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-black text-white uppercase tracking-tight",children:"DISABLE 2FA"}),e.jsx("p",{className:"text-xs text-white/40 mt-0.5",children:"Your account will be less secure"})]})]}),e.jsx("div",{className:"p-4 bg-amber-500/5 border border-amber-500/10 rounded-xl text-xs text-amber-500/80 leading-relaxed",children:"Removing two-factor authentication will make your account more vulnerable to unauthorized access."}),e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] font-black text-white/30 uppercase tracking-[0.15em] block mb-2",children:"ACCOUNT PASSWORD"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:E?"text":"password",className:`w-full bg-white/5 border ${c.mfaPassword?"border-red-500":"border-white/10"} rounded-xl px-4 py-3 text-sm text-white outline-none focus:border-amber-500/50 transition-all pr-12`,value:w,onChange:t=>{S(t.target.value),o({...c,mfaPassword:!1})},placeholder:"Enter your password"}),e.jsx("button",{type:"button",onClick:()=>fe(!E),className:"absolute right-4 top-1/2 -translate-y-1/2 text-white/30 hover:text-white transition-colors",children:E?e.jsx(Ae,{size:18}):e.jsx(Ie,{size:18})})]})]}),p&&e.jsxs("p",{className:"text-xs text-red-400 flex items-center gap-1",children:[e.jsx(G,{size:12}),p]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>{V(null),S("")},disabled:l,className:"flex-1 py-3 bg-white/5 hover:bg-white/10 border border-white/10 rounded-xl text-[11px] font-black text-white uppercase tracking-[0.1em] transition-all",children:"CANCEL"}),e.jsx("button",{onClick:()=>et(we),disabled:l||!w,className:"flex-1 py-3 bg-amber-500 hover:bg-amber-400 disabled:opacity-30 disabled:cursor-not-allowed rounded-xl text-[11px] font-black text-white uppercase tracking-[0.1em] transition-all",children:l?"DISABLING...":"DISABLE 2FA"})]})]})]})]})})]})};export{Mt as default};
